!function(a3,aI){function aQ(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aJ[d[a]]||aP(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aL(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aI){throw"invalid module definition, dependencies must be specified"}if(a===aI){throw"invalid module definition, definition function must be specified"}aQ(b,function(){aJ[c]=a.apply(null,arguments)})}function aX(a){return !!aJ[a]}function aP(b){for(var d=a3,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function ba(j){var f,e,g,d,b;for(f=0;f<j.length;f++){e=a3,g=j[f],d=g.split(/[.\/]/);for(var h=0;h<d.length-1;++h){e[d[h]]===aI&&(e[d[h]]={}),e=e[d[h]]}e[d[d.length-1]]=aJ[g]}if(a3.AMDLC_TESTS){b=a3.privateModules||{};for(g in aJ){b[g]=aJ[g]}for(f=0;f<j.length;f++){delete b[j[f]]}a3.privateModules=b}}var aJ={},aU="tinymce/dom/EventUtils",a5="tinymce/dom/Sizzle",aH="tinymce/Env",a4="tinymce/util/Arr",a2="tinymce/util/Tools",aY="tinymce/dom/DomQuery",aO="tinymce/html/Styles",aR="tinymce/dom/TreeWalker",a1="tinymce/dom/Range",aG="tinymce/html/Entities",aC="tinymce/dom/StyleSheetLoader",a9="tinymce/dom/DOMUtils",aD="tinymce/dom/ScriptLoader",bP="tinymce/AddOnManager",aF="tinymce/dom/RangeUtils",bb="tinymce/NodeChange",bK="tinymce/html/Node",bx="tinymce/html/Schema",bq="tinymce/html/SaxParser",aV="tinymce/html/DomParser",bn="tinymce/html/Writer",br="tinymce/html/Serializer",bR="tinymce/dom/Serializer",bQ="tinymce/dom/TridentSelection",bL="tinymce/util/VK",bA="tinymce/dom/ControlSelection",bz="tinymce/dom/BookmarkManager",bG="tinymce/dom/Selection",bu="tinymce/dom/ElementUtils",bv="tinymce/fmt/Preview",bD="tinymce/Formatter",bJ="tinymce/UndoManager",aB="tinymce/EnterKey",bk="tinymce/ForceBlocks",bl="tinymce/EditorCommands",bm="tinymce/util/URI",b5="tinymce/util/Class",aN="tinymce/util/EventDispatcher",aW="tinymce/data/Binding",bB="tinymce/util/Observable",bh="tinymce/data/ObservableObject",bI="tinymce/ui/Selector",bj="tinymce/ui/Collection",bC="tinymce/ui/DomUtils",bs="tinymce/ui/BoxUtils",bg="tinymce/ui/ClassList",ad="tinymce/ui/ReflowQueue",bM="tinymce/ui/Control",bE="tinymce/ui/Factory",ci="tinymce/ui/KeyboardNavigation",aS="tinymce/ui/Container",aZ="tinymce/ui/DragHelper",bX="tinymce/ui/Scrollable",b3="tinymce/ui/Panel",cg="tinymce/ui/Movable",aM="tinymce/ui/Resizable",a6="tinymce/ui/FloatPanel",ap="tinymce/ui/Window",cd="tinymce/ui/MessageBox",bw="tinymce/WindowManager",au="tinymce/dom/NodePath",b1="tinymce/util/Quirks",bZ="tinymce/EditorObservable",aw="tinymce/Shortcuts",b6="tinymce/util/Promise",bp="tinymce/util/Fun",cl="tinymce/file/Uploader",by="tinymce/file/Conversions",aj="tinymce/file/ImageScanner",ab="tinymce/file/BlobCache",ar="tinymce/EditorUpload",b4="tinymce/Editor",cn="tinymce/util/I18n",af="tinymce/FocusManager",b8="tinymce/EditorManager",al="tinymce/LegacyInput",cf="tinymce/util/XHR",b0="tinymce/util/JSON",aT="tinymce/util/JSONRequest",ai="tinymce/util/JSONP",ck="tinymce/util/LocalStorage",b2="tinymce/Compat",a8="tinymce/ui/Layout",bO="tinymce/ui/AbsoluteLayout",bF="tinymce/ui/Tooltip",ag="tinymce/ui/Widget",bS="tinymce/ui/Button",aA="tinymce/ui/ButtonGroup",bd="tinymce/ui/Checkbox",bU="tinymce/ui/ComboBox",bH="tinymce/ui/ColorBox",ah="tinymce/ui/PanelButton",aq="tinymce/ui/ColorButton",av="tinymce/util/Color",aa="tinymce/ui/ColorPicker",ch="tinymce/ui/Path",am="tinymce/ui/ElementPath",a0="tinymce/ui/FormItem",ay="tinymce/ui/Form",ca="tinymce/ui/FieldSet",cm="tinymce/ui/FilePicker",bo="tinymce/ui/FitLayout",bi="tinymce/ui/FlexLayout",cb="tinymce/ui/FlowLayout",az="tinymce/ui/FormatControls",aE="tinymce/ui/GridLayout",bN="tinymce/ui/Iframe",bW="tinymce/ui/Label",b9="tinymce/ui/Toolbar",ax="tinymce/ui/MenuBar",aK="tinymce/ui/MenuButton",ak="tinymce/ui/MenuItem",b7="tinymce/ui/Menu",bc="tinymce/ui/ListBox",an="tinymce/ui/Radio",bV="tinymce/ui/Rect",bT="tinymce/ui/ResizeHandle",ao="tinymce/ui/Slider",bY="tinymce/ui/Spacer",a7="tinymce/ui/SplitButton",cc="tinymce/ui/StackLayout",bf="tinymce/ui/TabPanel",ac="tinymce/ui/TextBox",cj="tinymce/ui/Throbber";aL(aU,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,y=x.documentElement,w=x.body;m.pageX=v.clientX+(y&&y.scrollLeft||w&&w.scrollLeft||0)-(y&&y.clientLeft||w&&w.clientLeft||0),m.pageY=v.clientY+(y&&y.scrollTop||w&&w.scrollTop||0)-(y&&y.clientTop||w&&w.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),"undefined"==typeof m.metaKey&&(m.metaKey=!1),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){("complete"===e.readyState||"interactive"===e.readyState&&e.body)&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return void setTimeout(q,0)}u()}var e=w.document,v={type:"ready"};return p.domLoaded?void t(v):(e.addEventListener?"complete"===e.readyState?u():h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w.self===w.top&&q()),void h(w,"load",u))}function c(){function o(w,u){var y,v,s,x,l=p[u];if(y=l&&l[w.type]){for(v=0,s=y.length;s>v;v++){if(x=y[v],x&&x.func.call(x.scope,w)===!1&&w.preventDefault(),w.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,n,r,q;t=j+(+new Date).toString(32),r="onmouseenter" in document.documentElement,n="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,u,i){function s(v){o(k(v||F.event),z)}var z,G,B,A,D,a,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),i=i||H,l=l.split(" "),B=l.length;B--;){A=l[B],a=s,D=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?u.call(i,k({type:A})):(r||(D=q[A],D&&(a=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),n||"focusin"!==A&&"focusout"!==A||(E=!0,D="focusin"===A?"focus":"blur",a=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?u({type:A}):G.push({func:u,scope:i}):(p[z][A]=G=[{func:u,scope:i}],G.fakeName=D,G.capture=E,G.nativeHandler=a,"ready"===A?g(H,a,m):h(H,D||A,a,E)))}return H=G=0,u}},m.unbind=function(D,w,a){var z,v,y,F,E,C;if(!D||3===D.nodeType||8===D.nodeType){return m}if(z=D[t]){if(C=p[z],w){for(w=w.split(" "),y=w.length;y--;){if(E=w[y],v=C[E]){if(a){for(F=v.length;F--;){if(v[F].func===a){var A=v.nativeHandler,s=v.fakeName,x=v.capture;v=v.slice(0,F).concat(v.slice(F+1)),v.nativeHandler=A,v.fakeName=s,v.capture=x,C[E]=v}}}a&&0!==v.length||(delete C[E],d(D,v.fakeName||E,v.nativeHandler,v.capture))}}}else{for(E in C){v=C[E],d(D,v.fakeName||E,v.nativeHandler,v.capture)}C={}}for(E in C){return m}delete p[z];try{delete D[t]}catch(B){D[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aL(a5,[],function(){function cN(y,C,k,b){var v,j,B,D,u,A,z,w,f,q;if((C?C.ownerDocument||C:cq)!==dl&&dp(C),C=C||dl,k=k||[],!y||"string"!=typeof y){return k}if(1!==(D=C.nodeType)&&9!==D){return[]}if(da&&!b){if(v=cp.exec(y)){if(B=v[1]){if(9===D){if(j=C.getElementById(B),!j||!j.parentNode){return k}if(j.id===B){return k.push(j),k}}else{if(C.ownerDocument&&(j=C.ownerDocument.getElementById(B))&&df(C,j)&&j.id===B){return k.push(j),k}}}else{if(v[2]){return cU.apply(k,C.getElementsByTagName(y)),k}if((B=v[3])&&dn.getElementsByClassName){return cU.apply(k,C.getElementsByClassName(B)),k}}}if(dn.qsa&&(!dh||!dh.test(y))){if(w=z=dj,f=C,q=9===D&&y,1===D&&"object"!==C.nodeName.toLowerCase()){for(A=c8(y),(z=C.getAttribute("id"))?w=z.replace(c1,"\\$&"):C.setAttribute("id",w),w="[id='"+w+"'] ",u=A.length;u--;){A[u]=w+cM(A[u])}f=dw.test(y)&&cv(C.parentNode)||C,q=A.join(",")}if(q){try{return cU.apply(k,f.querySelectorAll(q)),k}catch(x){}finally{z||C.removeAttribute("id")}}}}return cG(y.replace(du,"$1"),C,k,b)}function cC(){function b(d,c){return a.push(d+" ")>ct.cacheLength&&delete b[a.shift()],b[d+" "]=c}var a=[];return b}function cx(a){return a[dj]=!0,a}function cI(b){var a=dl.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a.parentNode&&a.parentNode.removeChild(a),a=null}}function cB(c,a){for(var d=c.split("|"),b=c.length;b--;){ct.attrHandle[d[b]]=a}}function cS(c,a){var d=a&&c,b=d&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||cV)-(~c.sourceIndex||cV);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function cw(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function cF(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function cP(a){return cx(function(b){return b=+b,cx(function(g,e){for(var d,f=a([],g.length,b),c=f.length;c--;){g[d=f[c]]&&(g[d]=!(e[d]=g[d]))}})})}function cv(a){return a&&typeof a.getElementsByTagName!==dc&&a}function cO(){}function cM(c){for(var a=0,d=c.length,b="";d>a;a++){b+=c[a].value}return b}function cJ(d,b,g){var c=b.dir,a=g&&"parentNode"===c,f=cY++;return b.first?function(e,i,h){for(;e=e[c];){if(1===e.nodeType||a){return d(e,i,h)}}}:function(i,m,h){var j,e,k=[cX,f];if(h){for(;i=i[c];){if((1===i.nodeType||a)&&d(i,m,h)){return !0}}}else{for(;i=i[c];){if(1===i.nodeType||a){if(e=i[dj]||(i[dj]={}),(j=e[c])&&j[0]===cX&&j[1]===f){return k[2]=j[2]}if(e[c]=k,k[2]=d(i,m,h)){return !0}}}}}}function cA(a){return a.length>1?function(c,e,d){for(var b=a.length;b--;){if(!a[b](c,e,d)){return !1}}return !0}:a[0]}function cD(b,e,c){for(var a=0,d=e.length;d>a;a++){cN(b,e[a],c)}return c}function cL(j,p,f,b,h){for(var d,m=[],q=0,g=j.length,k=null!=p;g>q;q++){(d=j[q])&&(!f||f(d,b,h))&&(m.push(d),k&&p.push(q))}return m}function cu(f,d,h,c,g,b){return c&&!c[dj]&&(c=cu(c)),g&&!g[dj]&&(g=cu(g,b)),cx(function(e,x,B,j){var o,A,n,m=[],k=[],i=x.length,z=e||cD(d||"*",B.nodeType?[B]:B,[]),w=!f||!e&&d?z:cL(z,m,f,B,j),q=h?g||(e?f:i||c)?[]:x:w;if(h&&h(w,q,B,j),c){for(o=cL(q,k),c(o,[],B,j),A=o.length;A--;){(n=o[A])&&(q[k[A]]=!(w[k[A]]=n))}}if(e){if(g||f){if(g){for(o=[],A=q.length;A--;){(n=q[A])&&o.push(w[A]=n)}g(null,q=[],o,j)}for(A=q.length;A--;){(n=q[A])&&(o=g?dm.call(e,n):m[A])>-1&&(e[o]=!(x[o]=n))}}}else{q=cL(q===x?q.splice(i,q.length):q),g?g(null,x,q,j):cU.apply(x,q)}})}function cr(j){for(var q,f,b,h=j.length,d=ct.relative[j[0].type],m=d||ct.relative[" "],v=d?1:0,g=cJ(function(a){return a===q},m,!0),k=cJ(function(a){return dm.call(q,a)>-1},m,!0),p=[function(c,i,a){return !d&&(a||i!==c0)||((q=i).nodeType?g(c,i,a):k(c,i,a))}];h>v;v++){if(f=ct.relative[j[v].type]){p=[cJ(cA(p),f)]}else{if(f=ct.filter[j[v].type].apply(null,j[v].matches),f[dj]){for(b=++v;h>b&&!ct.relative[j[b].type];b++){}return cu(v>1&&cA(p),v>1&&cM(j.slice(0,v-1).concat({value:" "===j[v-2].type?"*":""})).replace(du,"$1"),f,b>v&&cr(j.slice(v,b)),h>b&&cr(j=j.slice(b)),h>b&&cM(j))}p.push(f)}}return cA(p)}function cR(d,f){var c=f.length>0,e=d.length>0,b=function(g,E,H,n,z){var G,w,q,o=0,j="0",k=g&&[],F=[],B=c0,A=g||e&&ct.find.TAG("*",z),D=cX+=null==B?1:Math.random()||0.1,i=A.length;for(z&&(c0=E!==dl&&E);j!==i&&null!=(G=A[j]);j++){if(e&&G){for(w=0;q=d[w++];){if(q(G,E,H)){n.push(G);break}}z&&(cX=D)}c&&((G=!q&&G)&&o--,g&&k.push(G))}if(o+=j,c&&j!==o){for(w=0;q=f[w++];){q(k,F,E,H)}if(g){if(o>0){for(;j--;){k[j]||F[j]||(F[j]=dd.call(n))}}F=cL(F)}cU.apply(n,F),z&&!g&&F.length>0&&o+f.length>1&&cN.uniqueSort(n)}return z&&(cX=D,c0=B),k};return c?cx(b):b}var cs,dn,ct,cT,dk,c8,c2,cG,c0,c3,dq,dp,dl,db,da,dh,c5,c6,df,dj="sizzle"+-new Date,cq=window.document,cX=0,cY=0,cZ=cC(),dv=cC(),cz=cC(),cH=function(b,a){return b===a&&(dq=!0),0},dc=typeof aI,cV=1<<31,di={}.hasOwnProperty,cW=[],dd=cW.pop,c4=cW.push,cU=cW.push,t=cW.slice,dm=cW.indexOf||function(b){for(var a=0,c=this.length;c>a;a++){if(this[a]===b){return a}}return -1},dg="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",dz="[\\x20\\t\\r\\n\\f]",cE="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cK="\\["+dz+"*("+cE+")(?:"+dz+"*([*^$|!~]?=)"+dz+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cE+"))|)"+dz+"*\\]",dr=":("+cE+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+cK+")*)|.*)\\)|)",du=new RegExp("^"+dz+"+|((?:^|[^\\\\])(?:\\\\.)*)"+dz+"+$","g"),dy=new RegExp("^"+dz+"*,"+dz+"*"),cy=new RegExp("^"+dz+"*([>+~]|"+dz+")"+dz+"*"),cQ=new RegExp("="+dz+"*([^\\]'\"]*?)"+dz+"*\\]","g"),bt=new RegExp(dr),dx=new RegExp("^"+cE+"$"),c7={ID:new RegExp("^#("+cE+")"),CLASS:new RegExp("^\\.("+cE+")"),TAG:new RegExp("^("+cE+"|[*])"),ATTR:new RegExp("^"+cK),PSEUDO:new RegExp("^"+dr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+dz+"*(even|odd|(([+-]|)(\\d*)n|)"+dz+"*(?:([+-]|)"+dz+"*(\\d+)|))"+dz+"*\\)|)","i"),bool:new RegExp("^(?:"+dg+")$","i"),needsContext:new RegExp("^"+dz+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+dz+"*((?:-\\d)?\\d*)"+dz+"*\\)|)(?=[^-]|$)","i")},co=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,ds=/^[^{]+\{\s*\[native \w/,cp=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dw=/[+~]/,c1=/'|\\/g,dA=new RegExp("\\\\([\\da-f]{1,6}"+dz+"?|("+dz+")|.)","ig"),c9=function(c,a,d){var b="0x"+a-65536;return b!==b||d?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{cU.apply(cW=t.call(cq.childNodes),cq.childNodes),cW[cq.childNodes.length].nodeType}catch(at){cU={apply:cW.length?function(b,a){c4.apply(b,t.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}dn=cN.support={},dk=cN.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return a?"HTML"!==a.nodeName:!1},dp=cN.setDocument=function(c){var a,d=c?c.ownerDocument||c:cq,b=d.defaultView;return d!==dl&&9===d.nodeType&&d.documentElement?(dl=d,db=d.documentElement,da=!dk(d),b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){dp()},!1):b.attachEvent&&b.attachEvent("onunload",function(){dp()})),dn.attributes=cI(function(f){return f.className="i",!f.getAttribute("className")}),dn.getElementsByTagName=cI(function(f){return f.appendChild(d.createComment("")),!f.getElementsByTagName("*").length}),dn.getElementsByClassName=ds.test(d.getElementsByClassName),dn.getById=cI(function(f){return db.appendChild(f).id=dj,!d.getElementsByName||!d.getElementsByName(dj).length}),dn.getById?(ct.find.ID=function(g,f){if(typeof f.getElementById!==dc&&da){var h=f.getElementById(g);return h&&h.parentNode?[h]:[]}},ct.filter.ID=function(g){var f=g.replace(dA,c9);return function(h){return h.getAttribute("id")===f}}):(delete ct.find.ID,ct.filter.ID=function(g){var f=g.replace(dA,c9);return function(h){var i=typeof h.getAttributeNode!==dc&&h.getAttributeNode("id");return i&&i.value===f}}),ct.find.TAG=dn.getElementsByTagName?function(g,f){return typeof f.getElementsByTagName!==dc?f.getElementsByTagName(g):void 0}:function(j,g){var l,h=[],f=0,k=g.getElementsByTagName(j);if("*"===j){for(;l=k[f++];){1===l.nodeType&&h.push(l)}return h}return k},ct.find.CLASS=dn.getElementsByClassName&&function(g,f){return da?f.getElementsByClassName(g):void 0},c5=[],dh=[],(dn.qsa=ds.test(d.querySelectorAll))&&(cI(function(f){f.innerHTML="<select msallowcapture=''><option selected=''></option></select>",f.querySelectorAll("[msallowcapture^='']").length&&dh.push("[*^$]="+dz+"*(?:''|\"\")"),f.querySelectorAll("[selected]").length||dh.push("\\["+dz+"*(?:value|"+dg+")"),f.querySelectorAll(":checked").length||dh.push(":checked")}),cI(function(g){var f=d.createElement("input");f.setAttribute("type","hidden"),g.appendChild(f).setAttribute("name","D"),g.querySelectorAll("[name=d]").length&&dh.push("name"+dz+"*[*^$|!~]?="),g.querySelectorAll(":enabled").length||dh.push(":enabled",":disabled"),g.querySelectorAll("*,:x"),dh.push(",.*:")})),(dn.matchesSelector=ds.test(c6=db.matches||db.webkitMatchesSelector||db.mozMatchesSelector||db.oMatchesSelector||db.msMatchesSelector))&&cI(function(f){dn.disconnectedMatch=c6.call(f,"div"),c6.call(f,"[s!='']:x"),c5.push("!=",dr)}),dh=dh.length&&new RegExp(dh.join("|")),c5=c5.length&&new RegExp(c5.join("|")),a=ds.test(db.compareDocumentPosition),df=a||ds.test(db.contains)?function(h,f){var i=9===h.nodeType?h.documentElement:h,g=f&&f.parentNode;return h===g||!(!g||1!==g.nodeType||!(i.contains?i.contains(g):h.compareDocumentPosition&&16&h.compareDocumentPosition(g)))}:function(g,f){if(f){for(;f=f.parentNode;){if(f===g){return !0}}}return !1},cH=a?function(h,f){if(h===f){return dq=!0,0}var g=!h.compareDocumentPosition-!f.compareDocumentPosition;return g?g:(g=(h.ownerDocument||h)===(f.ownerDocument||f)?h.compareDocumentPosition(f):1,1&g||!dn.sortDetached&&f.compareDocumentPosition(h)===g?h===d||h.ownerDocument===cq&&df(cq,h)?-1:f===d||f.ownerDocument===cq&&df(cq,f)?1:c3?dm.call(c3,h)-dm.call(c3,f):0:4&g?-1:1)}:function(m,h){if(m===h){return dq=!0,0}var k,g=0,n=m.parentNode,j=h.parentNode,f=[m],p=[h];if(!n||!j){return m===d?-1:h===d?1:n?-1:j?1:c3?dm.call(c3,m)-dm.call(c3,h):0}if(n===j){return cS(m,h)}for(k=m;k=k.parentNode;){f.unshift(k)}for(k=h;k=k.parentNode;){p.unshift(k)}for(;f[g]===p[g];){g++}return g?cS(f[g],p[g]):f[g]===cq?-1:p[g]===cq?1:0},d):dl},cN.matches=function(a,b){return cN(a,null,null,b)},cN.matchesSelector=function(b,d){if((b.ownerDocument||b)!==dl&&dp(b),d=d.replace(cQ,"='$1']"),dn.matchesSelector&&da&&(!c5||!c5.test(d))&&(!dh||!dh.test(d))){try{var c=c6.call(b,d);if(c||dn.disconnectedMatch||b.document&&11!==b.document.nodeType){return c}}catch(a){}}return cN(d,dl,null,[b]).length>0},cN.contains=function(b,a){return(b.ownerDocument||b)!==dl&&dp(b),df(b,a)},cN.attr=function(c,d){(c.ownerDocument||c)!==dl&&dp(c);var b=ct.attrHandle[d.toLowerCase()],a=b&&di.call(ct.attrHandle,d.toLowerCase())?b(c,d,!da):aI;return a!==aI?a:dn.attributes||!da?c.getAttribute(d):(a=c.getAttributeNode(d))&&a.specified?a.value:null},cN.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},cN.uniqueSort=function(d){var b,f=[],c=0,a=0;if(dq=!dn.detectDuplicates,c3=!dn.sortStable&&d.slice(0),d.sort(cH),dq){for(;b=d[a++];){b===d[a]&&(c=f.push(a))}for(;c--;){d.splice(f[c],1)}}return c3=null,d},cT=cN.getText=function(d){var b,f="",c=0,a=d.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof d.textContent){return d.textContent}for(d=d.firstChild;d;d=d.nextSibling){f+=cT(d)}}else{if(3===a||4===a){return d.nodeValue}}}else{for(;b=d[c++];){f+=cT(b)}}return f},ct=cN.selectors={cacheLength:50,createPseudo:cx,match:c7,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(dA,c9),a[3]=(a[3]||a[4]||a[5]||"").replace(dA,c9),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||cN.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&cN.error(a[0]),a},PSEUDO:function(b){var a,c=!b[6]&&b[2];return c7.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":c&&bt.test(c)&&(a=c8(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(dA,c9).toLowerCase();return"*"===b?function(){return !0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(b){var a=cZ[b+" "];return a||(a=new RegExp("(^|"+dz+")"+b+"("+dz+"|$)"))&&cZ(b,function(c){return a.test("string"==typeof c.className&&c.className||typeof c.getAttribute!==dc&&c.getAttribute("class")||"")})},ATTR:function(a,c,b){return function(d){var e=cN.attr(d,a);return null==e?"!="===c:c?(e+="","="===c?e===b:"!="===c?e!==b:"^="===c?b&&0===e.indexOf(b):"*="===c?b&&e.indexOf(b)>-1:"$="===c?b&&e.slice(-b.length)===b:"~="===c?(" "+e+" ").indexOf(b)>-1:"|="===c?e===b||e.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(h,d,k,g,c){var j="nth"!==h.slice(0,3),b="last"!==h.slice(-4),f="of-type"===d;return 1===g&&0===c?function(a){return !!a.parentNode}:function(C,e,o){var x,B,w,s,q,a,i=j!==b?"nextSibling":"previousSibling",r=C.parentNode,A=f&&C.nodeName.toLowerCase(),z=!o&&!f;if(r){if(j){for(;i;){for(w=C;w=w[i];){if(f?w.nodeName.toLowerCase()===A:1===w.nodeType){return !1}}a=i="only"===h&&!a&&"nextSibling"}return !0}if(a=[b?r.firstChild:r.lastChild],b&&z){for(B=r[dj]||(r[dj]={}),x=B[h]||[],q=x[0]===cX&&x[1],s=x[0]===cX&&x[2],w=q&&r.childNodes[q];w=++q&&w&&w[i]||(s=q=0)||a.pop();){if(1===w.nodeType&&++s&&w===C){B[h]=[cX,q,s];break}}}else{if(z&&(x=(C[dj]||(C[dj]={}))[h])&&x[0]===cX){s=x[1]}else{for(;(w=++q&&w&&w[i]||(s=q=0)||a.pop())&&((f?w.nodeName.toLowerCase()!==A:1!==w.nodeType)||!++s||(z&&((w[dj]||(w[dj]={}))[h]=[cX,s]),w!==C));){}}}return s-=c,s===g||s%g===0&&s/g>=0}}},PSEUDO:function(b,d){var a,c=ct.pseudos[b]||ct.setFilters[b.toLowerCase()]||cN.error("unsupported pseudo: "+b);return c[dj]?c(d):c.length>1?(a=[b,b,"",d],ct.setFilters.hasOwnProperty(b.toLowerCase())?cx(function(k,h){for(var j,g=c(k,d),f=g.length;f--;){j=dm.call(k,g[f]),k[j]=!(h[j]=g[f])}}):function(f){return c(f,0,a)}):c}},pseudos:{not:cx(function(c){var b=[],d=[],a=c2(c.replace(du,"$1"));return a[dj]?cx(function(j,g,l,i){for(var k,f=a(j,null,i,[]),h=j.length;h--;){(k=f[h])&&(j[h]=!(g[h]=k))}}):function(g,f,h){return b[0]=g,a(b,null,h,d),!d.pop()}}),has:cx(function(a){return function(b){return cN(a,b).length>0}}),contains:cx(function(a){return a=a.replace(dA,c9),function(b){return(b.textContent||b.innerText||cT(b)).indexOf(a)>-1}}),lang:cx(function(a){return dx.test(a||"")||cN.error("unsupported lang: "+a),a=a.replace(dA,c9).toLowerCase(),function(b){var c;do{if(c=da?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===db},focus:function(a){return a===dl.activeElement&&(!dl.hasFocus||dl.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !ct.pseudos.empty(a)},header:function(a){return dt.test(a.nodeName)},input:function(a){return co.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:cP(function(){return[0]}),last:cP(function(b,a){return[a-1]}),eq:cP(function(b,a,c){return[0>c?c+a:c]}),even:cP(function(b,a){for(var c=0;a>c;c+=2){b.push(c)}return b}),odd:cP(function(b,a){for(var c=1;a>c;c+=2){b.push(c)}return b}),lt:cP(function(c,a,d){for(var b=0>d?d+a:d;--b>=0;){c.push(b)}return c}),gt:cP(function(c,a,d){for(var b=0>d?d+a:d;++b<a;){c.push(b)}return c})}},ct.pseudos.nth=ct.pseudos.eq;for(cs in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){ct.pseudos[cs]=cw(cs)}for(cs in {submit:!0,reset:!0}){ct.pseudos[cs]=cF(cs)}return cO.prototype=ct.filters=ct.pseudos,ct.setFilters=new cO,c8=cN.tokenize=function(m,e){var b,g,d,j,p,f,h,k=dv[m+" "];if(k){return e?0:k.slice(0)}for(p=m,f=[],h=ct.preFilter;p;){(!b||(g=dy.exec(p)))&&(g&&(p=p.slice(g[0].length)||p),f.push(d=[])),b=!1,(g=cy.exec(p))&&(b=g.shift(),d.push({value:b,type:g[0].replace(du," ")}),p=p.slice(b.length));for(j in ct.filter){!(g=c7[j].exec(p))||h[j]&&!(g=h[j](g))||(b=g.shift(),d.push({value:b,type:j,matches:g}),p=p.slice(b.length))}if(!b){break}}return e?p.length:p?cN.error(m):dv(m,f).slice(0)},c2=cN.compile=function(d,b){var g,c=[],a=[],f=cz[d+" "];if(!f){for(b||(b=c8(d)),g=b.length;g--;){f=cr(b[g]),f[dj]?c.push(f):a.push(f)}f=cz(d,cR(a,c)),f.selector=d}return f},cG=cN.select=function(k,u,g,b){var j,f,q,v,h,p="function"==typeof k&&k,m=!b&&c8(k=p.selector||k);if(g=g||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(q=f[0]).type&&dn.getById&&9===u.nodeType&&da&&ct.relative[f[1].type]){if(u=(ct.find.ID(q.matches[0].replace(dA,c9),u)||[])[0],!u){return g}p&&(u=u.parentNode),k=k.slice(f.shift().value.length)}for(j=c7.needsContext.test(k)?0:f.length;j--&&(q=f[j],!ct.relative[v=q.type]);){if((h=ct.find[v])&&(b=h(q.matches[0].replace(dA,c9),dw.test(f[0].type)&&cv(u.parentNode)||u))){if(f.splice(j,1),k=b.length&&cM(f),!k){return cU.apply(g,b),g}break}}}return(p||c2(k,m))(b,u,!da,g,dw.test(k)&&cv(u.parentNode)||u),g},dn.sortStable=dj.split("").sort(cH).join("")===dj,dn.detectDuplicates=!!dq,dp(),dn.sortDetached=cI(function(a){return 1&a.compareDocumentPosition(dl.createElement("div"))}),cI(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||cB("type|href|height|width",function(b,a,c){return c?void 0:b.getAttribute(a,"type"===a.toLowerCase()?1:2)}),dn.attributes&&cI(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||cB("value",function(b,a,c){return c||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),cI(function(a){return null==a.getAttribute("disabled")})||cB(dg,function(c,a,d){var b;return d?void 0:c[a]===!0?a.toLowerCase():(b=c.getAttributeNode(a))&&b.specified?b.value:null}),cN}),aL(aH,[],function(){var p=navigator,y=p.userAgent,h,b,k,g,w,z,j,v,x,q;h=window.opera&&window.opera.buildNumber,x=/Android/.test(y),b=/WebKit/.test(y),k=!b&&!h&&/MSIE/gi.test(y)&&/Explorer/gi.test(p.appName),k=k&&/MSIE (\w+)\./.exec(y)[1],g=-1==y.indexOf("Trident/")||-1==y.indexOf("rv:")&&-1==p.appName.indexOf("Netscape")?!1:11,w=-1==y.indexOf("Edge/")||k||g?!1:12,k=k||g||w,z=!b&&!g&&/Gecko/.test(y),j=-1!=y.indexOf("Mac"),v=/(iPad|iPhone)/.test(y),q="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL,w&&(b=!1);var m=!v||q||y.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:h,webkit:b,ie:k,gecko:z,mac:j,iOS:v,android:x,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=k,range:window.getSelection&&"Range" in window,documentMode:k&&!w?document.documentMode||7:10,fileApi:q}}),aL(a4,[],function(){function g(k){var a=k,l,i;if(!d(k)){for(a=[],l=0,i=k.length;i>l;l++){a[l]=k[l]}}return a}function j(l,p,k){var a,m;if(!l){return 0}if(k=k||l,l.length!==aI){for(a=0,m=l.length;m>a;a++){if(p.call(k,l[a],a,l)===!1){return 0}}}else{for(a in l){if(l.hasOwnProperty(a)&&p.call(k,l[a],a,l)===!1){return 0}}}return 1}function f(k,a){var i=[];return j(k,function(l,e){i.push(a(l,e,k))}),i}function c(k,a){var i=[];return j(k,function(l){(!a||a(l))&&i.push(l)}),i}function h(k,a){var l,i;if(k){for(l=0,i=k.length;i>l;l++){if(k[l]===a){return l}}}return -1}function b(m,k,o,l){var a=0;for(arguments.length<3&&(o=m[0],a=1);a<m.length;a++){o=k.call(l,o,m[a],a)}return o}var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{isArray:d,toArray:g,each:j,map:f,filter:c,indexOf:h,reduce:b}}),aL(a2,[aH,a4],function(t,j){function b(a){return null===a||a===aI?"":(""+a).replace(p,"")}function m(c,a){return a?"array"==a&&j.isArray(c)?!0:typeof c==a:c!==aI}function g(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function x(B,E,h){var d=this,A,f,D,F,u,C=0;if(B=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(B),D=B[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(B[3].replace(/\.\w+$/,""),h),!f[D]){if("static"==B[2]){return f[D]=E,void (this.onCreate&&this.onCreate(B[2],B[3],f[D]))}E[D]||(E[D]=function(){},C=1),f[D]=E[D],d.extend(f[D].prototype,E),B[5]&&(A=d.resolve(B[5]).prototype,F=B[5].match(/\.(\w+)$/i)[1],u=f[D],C?f[D]=function(){return A[F].apply(this,arguments)}:f[D]=function(){return this.parent=A[F],u.apply(this,arguments)},f[D].prototype[D]=f[D],d.each(A,function(c,a){f[D].prototype[a]=A[a]}),d.each(E,function(c,a){A[a]?f[D].prototype[a]=function(){return this.parent=A[a],c.apply(this,arguments)}:a!=D&&(f[D].prototype[a]=c)})),d.each(E["static"],function(c,a){f[D][a]=c})}}function z(l,A){var h,d,u,c=arguments,f;for(h=1,d=c.length;d>h;h++){A=c[h];for(u in A){A.hasOwnProperty(u)&&(f=A[u],f!==aI&&(l[u]=f))}}return l}function k(f,c,d,a){a=a||this,f&&(d&&(f=f[d]),j.each(f,function(h,i){return c.call(a,h,i,d)===!1?!1:void k(h,c,d,a)}))}function w(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function y(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function v(c,a){return !c||m(c,"array")?c:j.map(c.split(a||","),b)}function q(a){var c=t.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}var p=/^\s*|\s*$/g;return{trim:b,isArray:j.isArray,is:m,toArray:j.toArray,makeMap:g,each:j.each,map:j.map,grep:j.filter,inArray:j.indexOf,extend:z,create:x,walk:k,createNS:w,resolve:y,explode:v,_addCacheSuffix:q}}),aL(aY,[aU,a5,a2,aH],function(cu,bt,Y,cq){function be(a){return"undefined"!=typeof a}function cy(a){return"string"==typeof a}function W(a){return a&&a==a.window}function co(d,b){var f,c,a;for(b=b||O,a=b.createElement("div"),f=b.createDocumentFragment(),a.innerHTML=d;c=a.firstChild;){f.appendChild(c)}return f}function cw(d,b,f,c){var a;if(cy(b)){b=co(b,P(d[0]))}else{if(b.length&&!b.nodeType){if(b=ct.makeArray(b),c){for(a=b.length-1;a>=0;a--){cw(d,b[a],f,c)}}else{for(a=0;a<b.length;a++){cw(d,b[a],f,c)}}return d}}if(b.nodeType){for(a=d.length;a--;){f.call(d[a],b)}}return d}function Q(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function cv(d,b,f){var c,a;return b=ct(b)[0],d.each(function(){var g=this;f&&c==g.parentNode?a.appendChild(g):(c=g.parentNode,a=b.cloneNode(!1),g.parentNode.insertBefore(a,g),a.appendChild(g))}),d}function ct(b,a){return new ct.fn.init(b,a)}function cr(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function at(a){return null===a||a===cp?"":(""+a).replace(K,"")}function ce(g,d){var k,f,c,h,b;if(g){if(k=g.length,k===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,f,b)===!1)){break}}}else{for(c=0;k>c&&(b=g[c],d.call(b,c,b)!==!1);c++){}}}return g}function cs(b,a){var c=[];return ce(b,function(f,d){a(d,f)&&c.push(d)}),c}function P(a){return a?9==a.nodeType?a:a.ownerDocument:O}function I(c,f,b){var a=[],d=c[f];for("string"!=typeof b&&b instanceof ct&&(b=b[0]);d&&9!==d.nodeType;){if(b!==aI){if(d===b){break}if("string"==typeof b&&ct(d).is(b)){break}}1===d.nodeType&&a.push(d),d=d[f]}return a}function cx(c,f,b,a){var d=[];for(a instanceof ct&&(a=a[0]);c;c=c[f]){if(!b||c.nodeType===b){if(a!==aI){if(c===a){break}if("string"==typeof a&&ct(c).is(a)){break}}d.push(c)}}return d}function J(b,a,c){for(b=b[a];b;b=b[a]){if(b.nodeType==c){return b}}return null}function X(b,a,c){ce(c,function(e,d){b[e]=b[e]||{},b[e][a]=d})}var O=document,cz=Array.prototype.push,U=Array.prototype.slice,z=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=cu.Event,cp,j=Y.makeMap("children,contents,next,prev"),t=Y.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ae=Y.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Z={"for":"htmlFor","class":"className",readonly:"readOnly"},V={"float":"cssFloat"},G={},F={},K=/^\s*|\s*$/g;return ct.fn=ct.prototype={constructor:ct,selector:"",context:null,length:0,init:function(d,b){var f=this,c,a;if(!d){return f}if(d.nodeType){return f.context=f[0]=d,f.length=1,f}if(b&&b.nodeType){f.context=b}else{if(b){return ct(d).attr(b)}f.context=b=document}if(cy(d)){if(f.selector=d,c="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&d.length>=3?[null,d,null]:z.exec(d),!c){return ct(b).find(d)}if(c[1]){for(a=co(d,P(b)).firstChild;a;){cz.call(f,a),a=a.nextSibling}}else{if(a=P(b).getElementById(c[2]),!a){return f}if(a.id!==c[2]){return f.find(d)}f.length=1,f[0]=a}}else{this.add(d,!1)}return f},toArray:function(){return Y.toArray(this)},add:function(d,b){var f=this,c,a;if(cy(d)){return f.add(ct(d))}if(b!==!1){for(c=ct.unique(f.toArray().concat(ct.makeArray(d))),f.length=c.length,a=0;a<c.length;a++){f[a]=c[a]}}else{cz.apply(f,ct.makeArray(d))}return f},attr:function(c,a){var d=this,b;if("object"==typeof c){ce(c,function(g,f){d.attr(g,f)})}else{if(!be(a)){if(d[0]&&1===d[0].nodeType){if(b=G[c],b&&b.get){return b.get(d[0],c)}if(ae[c]){return d.prop(c)?c:cp}a=d[0].getAttribute(c,2),null===a&&(a=cp)}return a}this.each(function(){var e;if(1===this.nodeType){if(e=G[c],e&&e.set){return void e.set(this,a)}null===a?this.removeAttribute(c,2):this.setAttribute(c,a,2)}})}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(b,a){var c=this;if(b=Z[b]||b,"object"==typeof b){ce(b,function(f,d){c.prop(f,d)})}else{if(!be(a)){return c[0]&&c[0].nodeType&&b in c[0]?c[0][b]:a}this.each(function(){1==this.nodeType&&(this[b]=a)})}return c},css:function(k,f){function m(a){return a.replace(/-(\D)/g,function(l,i){return i.toUpperCase()})}function h(a){return a.replace(/[A-Z]/g,function(i){return"-"+i})}var d=this,c,g;if("object"==typeof k){ce(k,function(i,a){d.css(i,a)})}else{if(be(f)){k=m(k),"number"!=typeof f||t[k]||(f+="px"),d.each(function(){var e=this.style;if(g=F[k],g&&g.set){return void g.set(this,f)}try{this.style[V[k]||k]=f}catch(a){}(null===f||""===f)&&(e.removeProperty?e.removeProperty(h(k)):e.removeAttribute(k))})}else{if(c=d[0],g=F[k],g&&g.get){return g.get(c)}if(c.ownerDocument.defaultView){try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(h(k))}catch(b){return cp}}else{if(c.currentStyle){return c.currentStyle[m(k)]}}}}return d},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],q.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(c){var a=this,d;if(be(c)){d=a.length;try{for(;d--;){a[d].innerHTML=c}}catch(b){ct(a[d]).empty().append(c)}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(be(b)){for(c=a.length;c--;){"innerText" in a[c]?a[c].innerText=b:a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return cw(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return cw(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)},!0)},before:function(){var a=this;return a[0]&&a[0].parentNode?cw(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?cw(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)},!0):a},appendTo:function(a){return ct(a).append(this),this},prependTo:function(a){return ct(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return cv(this,a)},wrapAll:function(a){return cv(this,a,!0)},wrapInner:function(a){return this.each(function(){ct(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){ct(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),ct(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return"string"!=typeof b?c:(-1!==b.indexOf(" ")?ce(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(g,e){var d,f;f=Q(e,b),f!==a&&(d=e.className,f?e.className=at((" "+d+" ").replace(" "+b+" "," ")):e.className+=d?" "+b:b)}),c)},hasClass:function(a){return Q(this[0],a)},each:function(a){return ce(this,a)},on:function(b,a){return this.each(function(){q.bind(this,b,a)})},off:function(b,a){return this.each(function(){q.unbind(this,b,a)})},trigger:function(a){return this.each(function(){"object"==typeof a?q.fire(this,a.type,a):q.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ct(U.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(c){var a,d,b=[];for(a=0,d=this.length;d>a;a++){ct.find(c,this[a],b)}return ct(b)},filter:function(a){return ct("function"==typeof a?cs(this.toArray(),function(b,c){return a(c,b)}):ct.filter(a,this.toArray()))},closest:function(b){var a=[];return b instanceof ct&&(b=b[0]),this.each(function(d,c){for(;c;){if("string"==typeof b&&ct(c).is(b)){a.push(c);break}if(c==b){a.push(c);break}c=c.parentNode}}),ct(a)},offset:function(g){var d,k,f,c=0,h=0,b;return g?this.css(g):(d=this[0],d&&(k=d.ownerDocument,f=k.documentElement,d.getBoundingClientRect&&(b=d.getBoundingClientRect(),c=b.left+(f.scrollLeft||k.body.scrollLeft)-f.clientLeft,h=b.top+(f.scrollTop||k.body.scrollTop)-f.clientTop)),{left:c,top:h})},push:cz,sort:[].sort,splice:[].splice},Y.extend(ct,{extend:Y.extend,makeArray:function(a){return W(a)||a.nodeType?[a]:Y.toArray(a)},inArray:cr,isArray:Y.isArray,each:ce,trim:at,grep:cs,find:bt,expr:bt.selectors,unique:bt.uniqueSort,text:bt.getText,contains:bt.contains,filter:function(c,a,d){var b=a.length;for(d&&(c=":not("+c+")");b--;){1!=a[b].nodeType&&a.splice(b,1)}return a=1===a.length?ct.find.matchesSelector(a[0],c)?[a[0]]:[]:ct.find.matches(c,a)}}),ce({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return I(a,"parentNode")},next:function(a){return J(a,"nextSibling",1)},prev:function(a){return J(a,"previousSibling",1)},children:function(a){return cx(a.firstChild,"nextSibling",1)},contents:function(a){return Y.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){ct.fn[b]=function(e){var d=this,c=[];return d.each(function(){var f=a.call(c,this,e,c);f&&(ct.isArray(f)?c.push.apply(c,f):c.push(f))}),this.length>1&&(j[b]||(c=ct.unique(c)),0===b.indexOf("parents")&&(c=c.reverse())),c=ct(c),e?c.filter(e):c}}),ce({parentsUntil:function(b,a){return I(b,"parentNode",a)},nextUntil:function(b,a){return cx(b,"nextSibling",1,a).slice(1)},prevUntil:function(b,a){return cx(b,"previousSibling",1,a).slice(1)}},function(b,a){ct.fn[b]=function(f,d){var c=this,e=[];return c.each(function(){var g=a.call(e,this,f,e);g&&(ct.isArray(g)?e.push.apply(e,g):e.push(g))}),this.length>1&&(e=ct.unique(e),(0===b.indexOf("parents")||"prevUntil"===b)&&(e=e.reverse())),e=ct(e),d?e.filter(d):e}}),ct.fn.is=function(a){return !!a&&this.filter(a).length>0},ct.fn.init.prototype=ct.fn,ct.overrideDefaults=function(b){function a(e,d){return c=c||b(),0===arguments.length&&(e=c.element),d||(d=c.context),new a.fn.init(e,d)}var c;return ct.extend(a,this),a},cq.ie&&cq.ie<8&&(X(G,"get",{maxlength:function(b){var a=b.maxLength;return 2147483647===a?cp:a},size:function(b){var a=b.size;return 20===a?cp:a},"class":function(a){return a.className},style:function(b){var a=b.style.cssText;return 0===a.length?cp:a}}),X(G,"set",{"class":function(b,a){b.className=a},style:function(b,a){b.style.cssText=a}})),cq.ie&&cq.ie<9&&(V["float"]="styleFloat",X(F,"set",{opacity:function(b,a){var c=b.style;null===a||""===a?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*a+")")}})),ct.attrHooks=G,ct.cssHooks=F,ct}),aL(aO,[],function(){return function(v,A){function j(f,c,h,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(h)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,m=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,y=/\s+$/,B,k,x={},z,w,q,p="\ufeff";for(v=v||{},A&&(w=A.getValidStyles(),q=A.getInvalidStyles()),z=("\\\" \\' \\; \\: ; : "+p).split(" "),k=0;k<z.length;k++){x[z[k]]=p+k,x[p+k]=z[k]}return{toHex:function(a){return a.replace(b,j)},parse:function(H){function I(J,h,L){var C,f,K,d;if(C=e[J+"-top"+h],C&&(f=e[J+"-right"+h],f&&(K=e[J+"-bottom"+h],K&&(d=e[J+"-left"+h])))){var u=[C,f,K,d];for(k=u.length-1;k--&&u[k]===u[k+1];){}k>-1&&L||(e[J+h]=-1==k?u[0]:u.join(" "),delete e[J+"-top"+h],delete e[J+"-right"+h],delete e[J+"-bottom"+h],delete e[J+"-left"+h])}}function G(f){var d=e[f],h;if(d){for(d=d.split(" "),h=d.length;h--;){if(d[h]!==d[0]){return !1}}return e[f]=d[0],!0}}function o(h,d,s,f){G(d)&&G(s)&&G(f)&&(e[h]=e[d]+" "+e[s]+" "+e[f],delete e[d],delete e[s],delete e[f])}function n(d){return r=!0,x[d]}function i(f,d){return r&&(f=f.replace(/\uFEFF[0-9]/g,function(h){return x[h]})),d||(f=f.replace(/\\([\'\";:])/g,"$1")),f}function c(h,K,C,f,J,d){if(J=J||d){return J=i(J),"'"+J.replace(/\'/g,"\\'")+"'"}if(K=i(K||C||f),!v.allow_script_urls){var u=K.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(u)){return""}if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(u)){return""}}return E&&(K=E.call(a,K,"style")),"url('"+K.replace(/\'/g,"\\'")+"')"}var e={},l,F,D,r,E=v.url_converter,a=v.url_converter_scope||this;if(H){for(H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=g.exec(H);){if(F=l[1].replace(y,"").toLowerCase(),D=l[2].replace(y,""),D=D.replace(/\\[0-9a-f]+/g,function(d){return String.fromCharCode(parseInt(d.substr(1),16))}),F&&D.length>0){if(!v.allow_script_urls&&("behavior"==F||/expression\s*\(|\/\*|\*\//.test(D))){continue}"font-weight"===F&&"700"===D?D="bold":("color"===F||"background-color"===F)&&(D=D.toLowerCase()),D=D.replace(b,j),D=D.replace(m,c),e[F]=r?i(D,!0):D}g.lastIndex=l.index+l[0].length}I("border","",!0),I("border","-width"),I("border","-color"),I("border","-style"),I("padding",""),I("margin",""),o("border","border-width","border-style","border-color"),"medium none"===e.border&&delete e.border,"none"===e["border-image"]&&delete e["border-image"]}return e},serialize:function(l,f){function u(i){var E,C,D,e;if(E=w[i]){for(C=0,D=E.length;D>C;C++){i=E[C],e=l[i],e!==B&&e.length>0&&(d+=(d.length>0?" ":"")+i+": "+e+";")}}}function h(i,a){var o;return o=q["*"],o&&o[i]?!1:(o=q[a],o&&o[i]?!1:!0)}var d="",s,c;if(f&&w){u("*"),u(f)}else{for(s in l){c=l[s],c!==B&&c.length>0&&(!q||h(s,f))&&(d+=(d.length>0?" ":"")+s+": "+c+";")}}return d}}}}),aL(aR,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aL(a1,[a2],function(b){function a(cF){function cB(){return bt.createDocumentFragment()}function cK(d,c){cS(ce,d,c)}function cE(d,c){cS(cu,d,c)}function cR(c){cK(c.parentNode,cJ(c))}function cA(c){cK(c.parentNode,cJ(c)+1)}function cH(c){cE(c.parentNode,cJ(c))}function cP(c){cE(c.parentNode,cJ(c)+1)}function cz(c){c?(ae[G]=ae[t],ae[ct]=ae[e]):(ae[t]=ae[G],ae[e]=ae[ct]),ae.collapsed=ce}function cO(c){cR(c),cP(c)}function cN(c){cK(c,0),cE(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cL(k,q){var g=ae[t],d=ae[e],j=ae[G],f=ae[ct],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?cx(g,d,p,u):1===k?cx(j,f,p,u):2===k?cx(j,f,h,m):3===k?cx(g,d,h,m):void 0}function cD(){co(be)}function cG(){return co(X)}function cM(){return co(Y)}function cy(g){var d=this[t],f=this[e],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?cF.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?cF.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function cv(d){var c=ae.extractContents();ae.insertNode(d),d.appendChild(c),ae.selectNode(d)}function cQ(){return cC(new a(cF),{startContainer:ae[t],startOffset:ae[e],endContainer:ae[G],endOffset:ae[ct],collapsed:ae.collapsed,commonAncestorContainer:ae.commonAncestorContainer})}function cw(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function cq(){return ae[t]==ae[G]&&ae[e]==ae[ct]}function cx(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=cF.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function cS(g,d,f){var c,h;for(g?(ae[t]=d,ae[e]=f):(ae[G]=d,ae[ct]=f),c=ae[G];c.parentNode;){c=c.parentNode}for(h=ae[t];h.parentNode;){h=h.parentNode}h==c?cx(ae[t],ae[e],ae[G],ae[ct])>0&&ae.collapse(g):ae.collapse(g),ae.collapsed=cq(),ae.commonAncestorContainer=cF.findCommonAncestor(ae[t],ae[G])}function co(k){var q,g=0,d=0,j,f,p,u,h,m;if(ae[t]==ae[G]){return Z(k)}for(q=ae[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==ae[t]){return K(q,k)}++g}for(q=ae[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==ae[G]){return cI(q,k)}++d}for(f=d-g,p=ae[t];f>0;){p=p.parentNode,f--}for(u=ae[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function Z(j){var q,f,h,d,m,r,g,k,p;if(j!=be&&(q=cB()),ae[e]==ae[ct]){return q}if(3==ae[t].nodeType){if(f=ae[t].nodeValue,h=f.substring(ae[e],ae[ct]),j!=Y&&(d=ae[t],k=ae[e],p=ae[ct]-ae[e],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),ae.collapse(ce)),j==be){return}return h.length>0&&q.appendChild(bt.createTextNode(h)),q}for(d=cw(ae[t],ae[e]),m=ae[ct]-ae[e];d&&m>0;){r=d.nextSibling,g=cp(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&ae.collapse(ce),q}function K(j,g){var m,f,k,d,h,c;if(g!=be&&(m=cB()),f=Q(j,g),m&&m.appendChild(f),k=cJ(j),d=k-ae[e],0>=d){return g!=Y&&(ae.setEndBefore(j),ae.collapse(cu)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=cp(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(ae.setEndBefore(j),ae.collapse(cu)),m}function cI(j,g){var m,f,k,d,h,c;for(g!=be&&(m=cB()),k=cs(j,g),m&&m.appendChild(k),f=cJ(j),++f,d=ae[ct]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=cp(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(ae.setStartAfter(j),ae.collapse(ce)),m}function J(j,q,f){var h,d,m,r,g,k,p;for(f!=be&&(d=cB()),h=cs(j,f),d&&d.appendChild(h),m=cJ(j),r=cJ(q),++m,g=r-m,k=j.nextSibling;g>0;){p=k.nextSibling,h=cp(k,f),d&&d.appendChild(h),k=p,--g}return h=Q(q,f),d&&d.appendChild(h),f!=Y&&(ae.setStartAfter(j),ae.collapse(ce)),d}function Q(j,m){var f=cw(ae[G],ae[ct]-1),c,h,d,k,p,g=f!=ae[G];if(f==j){return cr(f,g,cu,m)}for(c=f.parentNode,h=cr(c,cu,cu,m);c;){for(;f;){d=f.previousSibling,k=cr(f,g,cu,m),m!=be&&h.insertBefore(k,h.firstChild),g=ce,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=cr(c,cu,cu,m),m!=be&&p.appendChild(h),h=p}}function cs(j,m){var f=cw(ae[t],ae[e]),c=f!=ae[t],h,d,k,p,g;if(f==j){return cr(f,c,ce,m)}for(h=f.parentNode,d=cr(h,cu,ce,m);h;){for(;f;){k=f.nextSibling,p=cr(f,c,ce,m),m!=be&&d.appendChild(p),c=ce,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=cr(h,cu,ce,m),m!=be&&g.appendChild(d),d=g}}function cr(j,n,d,h){var f,m,p,g,k;if(n){return cp(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=ae[e],m=f.substring(g),p=f.substring(0,g)):(g=ae[ct],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==be){return}return k=cF.clone(j,cu),k.nodeValue=m,k}if(h!=be){return cF.clone(j,cu)}}function cp(d,c){return c!=be?c==Y?cF.clone(d,ce):d:void d.parentNode.removeChild(d)}function at(){return cF.create("body",null,cM()).outerText}var ae=this,bt=cF.doc,X=0,Y=1,be=2,ce=!0,cu=!1,e="startOffset",t="startContainer",G="endContainer",ct="endOffset",cC=b.extend,cJ=cF.nodeIndex;return cC(ae,{startContainer:bt,startOffset:0,endContainer:bt,endOffset:0,collapsed:ce,commonAncestorContainer:bt,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cK,setEnd:cE,setStartBefore:cR,setStartAfter:cA,setEndBefore:cH,setEndAfter:cP,collapse:cz,selectNode:cO,selectNodeContents:cN,compareBoundaryPoints:cL,deleteContents:cD,extractContents:cG,cloneContents:cM,insertNode:cy,surroundContents:cv,cloneRange:cQ,toStringIE:at}),ae}return a.prototype.toString=function(){return this.toStringIE()},a}),aL(aG,[a2],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(c,d){return d?(d="x"===d.charAt(0).toLowerCase()?parseInt(d.substr(1),16):parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):q[d]||String.fromCharCode(d)):w[c]||k[c]||y(c)})}};return m}),aL(aC,[a2],function(a){return function(d,h){function f(i){d.getElementsByTagName("head")[0].appendChild(i)}function c(k,r,q){function z(){for(var l=A.passed,i=l.length;i--;){l[i]()}A.status=2,A.passed=[],A.failed=[]}function C(){for(var l=A.failed,i=l.length;i--;){l[i]()}A.status=3,A.passed=[],A.failed=[]}function x(){var i=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(i&&i[1]<536)}function w(l,i){l()||((new Date).getTime()-B<e?window.setTimeout(i,0):C())}function s(){w(function(){for(var p=d.styleSheets,u,m=p.length,l;m--;){if(u=p[m],l=u.ownerNode?u.ownerNode:u.owningElement,l&&l.id===o.id){return z(),!0}}},s)}function j(){w(function(){try{var l=t.sheet.cssRules;return z(),!!l}catch(i){}},j)}var o,t,B,A;if(k=a._addCacheSuffix(k),b[k]?A=b[k]:(A={passed:[],failed:[]},b[k]=A),r&&A.passed.push(r),q&&A.failed.push(q),1!=A.status){if(2==A.status){return void z()}if(3==A.status){return void C()}if(A.status=1,o=d.createElement("link"),o.rel="stylesheet",o.type="text/css",o.id="u"+g++,o.async=!1,o.defer=!1,B=(new Date).getTime(),"onload" in o&&!x()){o.onload=s,o.onerror=C}else{if(navigator.userAgent.indexOf("Firefox")>0){return t=d.createElement("style"),t.textContent='@import "'+k+'"',j(),void f(t)}s()}f(o),o.href=k}}var g=0,b={},e;h=h||{},e=h.maxLoadTime||5000,this.load=c}}),aL(a9,[a5,aY,aO,aU,aR,a1,aG,aH,a2,aC],function(L,E,A,H,D,P,w,G,N,t){function M(d,b){var f={},c=b.keep_values,a;return a={set:function(h,g,e){b.url_converter&&(g=b.url_converter.call(b.url_converter_scope||d,g,e,h[0])),h.attr("data-mce-"+e,g).attr(e,g)},get:function(h,g){return h.attr("data-mce-"+g)||h.attr(g)}},f={style:{set:function(h,g){return null!==g&&"object"==typeof g?void h.css(g):(c&&h.attr("data-mce-style",g),void h.attr("style",g))},get:function(e){var g=e.attr("data-mce-style")||e.attr("style");return g=d.serializeStyle(d.parseStyle(g),e[0].nodeName)}}},c&&(f.href=f.src=a),f}function K(b,a){var c=a.attr("style");c=b.serializeStyle(b.parseStyle(c),a[0].nodeName),c||(c=null),a.attr("data-mce-style",c)}function I(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f}function B(d,c){var f=this,b;f.doc=d,f.win=window,f.files={},f.counter=0,f.stdMode=!O||d.documentMode>=8,f.boxModel=!O||"CSS1Compat"==d.compatMode||f.stdMode,f.styleSheetLoader=new t(d),f.boundEvents=[],f.settings=c=c||{},f.schema=c.schema,f.styles=new A({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),f.fixDoc(d),f.events=c.ownEvents?new H(c.proxy):H.Event,f.attrHooks=M(f,c),b=c.schema?c.schema.getBlockElements():{},f.$=E.overrideDefaults(function(){return{context:d,element:f.getRoot()}}),f.isBlock=function(g){if(!g){return !1}var a=g.nodeType;return a?!(1!==a||!b[g.nodeName]):!!b[g]}}var F=N.each,J=N.is,q=N.grep,j=N.trim,O=G.ie,k=/^([a-z0-9],?)+$/i,z=/^[ \t\r\n]*$/;return B.prototype={$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(b){var a=this.settings,c;if(O&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !O||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),F(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.settings.root_element||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aI,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),J(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return L(a,b.get(c)||b.settings.root_element||b.doc,[])},is:function(d,b){var a;if(d.length===aI){if("*"===b){return 1==d.nodeType}if(k.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return L(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=J(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&"undefined"!=typeof b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return b=this.$$(b),a?b.each(function(){for(var c;c=this.firstChild;){3==c.nodeType&&0===c.data.length?this.removeChild(c):this.parentNode.insertBefore(c,this)}}).remove():b.remove(),b.length>1?b.toArray():b[0]},setStyle:function(b,a,c){b=this.$$(b).css(a,c),this.settings.update_styles&&K(this,b)},getStyle:function(b,c,a){return b=this.$$(b),a?b.css(c):(c=c.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),"float"==c&&(c=G.ie&&G.ie<12?"styleFloat":"cssFloat"),b[0]&&b[0].style?b[0].style[c]:aI)},setStyles:function(b,a){b=this.$$(b).css(a),this.settings.update_styles&&K(this,b)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(g,d,l){var f=this,c,h,b=f.settings;""===l&&(l=null),g=f.$$(g),c=g.attr(d),g.length&&(h=f.attrHooks[d],h&&h.set?h.set(g,l,d):g.attr(d,l),c!=l&&b.onSetAttrib&&b.onSetAttrib({attrElm:g,attrName:d,attrValue:l}))},setAttribs:function(b,a){var c=this;c.$$(b).each(function(f,d){F(a,function(h,g){c.setAttrib(d,g,h)})})},getAttrib:function(d,b,g){var c=this,a,f;return d=c.$$(d),d.length&&(a=c.attrHooks[b],f=a&&a.get?a.get(d,b):d.attr(b)),"undefined"==typeof f&&(f=g||""),f},getPos:function(h,p){var b=this,g=0,d=0,n,u=b.doc,f=u.body,m;if(h=b.get(h),p=p||f,h){if(p===f&&h.getBoundingClientRect&&"static"===E(f).css("position")){return m=h.getBoundingClientRect(),p=b.boxModel?u.documentElement:f,g=m.left+(u.documentElement.scrollLeft||f.scrollLeft)-p.clientLeft,d=m.top+(u.documentElement.scrollTop||f.scrollTop)-p.clientTop,{x:g,y:d}}for(n=h;n&&n!=p&&n.nodeType;){g+=n.offsetLeft||0,d+=n.offsetTop||0,n=n.offsetParent}for(n=h.parentNode;n&&n!=p&&n.nodeType;){g-=n.scrollLeft||0,d-=n.scrollTop||0,n=n.parentNode}}return{x:g,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==B.DOM&&g===document){var f=B.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,B.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==B.DOM&&d===document?void B.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void F(c.split(","),function(g){var f;g=N._addCacheSuffix(g),a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),O&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){this.$$(b).addClass(a)},removeClass:function(b,a){this.toggleClass(b,a,!1)},hasClass:function(b,a){return this.$$(b).hasClass(a)},toggleClass:function(c,a,b){this.$$(c).toggleClass(a,b).each(function(){""===this.className&&E(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){b=this.$$(b),O?b.each(function(f,d){if(d.canHaveHTML!==!1){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br>"+a,d.removeChild(d.firstChild)}catch(c){E("<div>").html("<br>"+a).contents().slice(1).appendTo(d)}return a}}):b.html(a)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML" in a?a.outerHTML:E("<div>").append(E(a).clone()).html()},setOuterHTML:function(c,a){var b=this;b.$$(c).each(function(){try{if("outerHTML" in this){return void (this.outerHTML=a)}}catch(d){}b.remove(E(this).html(a),!0)})},decode:w.decode,encode:w.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return J(e,"array")&&(c=c.cloneNode(!0)),d&&F(q(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),F(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(N.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],F(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(O){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var d=this,b,g,o,u,f,m=0;if(h=h.firstChild){u=new D(h,h.parentNode),p=p||(d.schema?d.schema.getNonEmptyElements():null);do{if(o=h.nodeType,1===o){if(h.getAttribute("data-mce-bogus")){continue}if(f=h.nodeName.toLowerCase(),p&&p[f]){if("br"===f){m++;continue}return !1}for(g=d.getAttribs(h),b=g.length;b--;){if(f=g[b].nodeName,"name"===f||"data-mce-bookmark"===f){return !1}}}if(8==o){return !1}if(3===o&&!z.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new P(this)},nodeIndex:I,split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var y,x=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(y=x.length-1;y>=0;y--){b(x[y])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=j(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(x=v.childNodes,1==x.length&&x[0]&&1==x[0].nodeType&&"bookmark"==x[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(x[0],v),x.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(N.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(N.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}L.setDocument&&L.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},B.DOM=new B(document),B.nodeIndex=I,B}),aL(aD,[a9,a2],function(d,b){function g(){function o(y,A){function w(){u.remove(h),x&&(x.onreadystatechange=x.onload=x=null),A()}function z(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var u=c,x,h;h=u.uniqueId(),x=document.createElement("script"),x.id=h,x.type="text/javascript",x.src=b._addCacheSuffix(y),"onreadystatechange" in x?x.onreadystatechange=function(){/loaded|complete/.test(x.readyState)&&w()}:x.onload=w,x.onerror=z,(document.getElementsByTagName("head")[0]||document.body).appendChild(x)}var i=0,r=1,v=2,j={},q=[],t={},p=[],m=0,k;this.isDone=function(h){return j[h]==v},this.markDone=function(h){j[h]=v},this.add=this.load=function(s,l,n){var h=j[s];h==k&&(q.push(s),j[s]=i),l&&(t[s]||(t[s]=[]),t[s].push({func:l,scope:n||this}))},this.loadQueue=function(l,h){this.loadScripts(q,l,h)},this.loadScripts=function(e,u,h){function s(n){a(t[n],function(w){w.func.call(w.scope)}),t[n]=k}var l;p.push({func:u,scope:h||this}),(l=function(){var w=f(e);e.length=0,a(w,function(n){return j[n]==v?void s(n):void (j[n]!=r&&(j[n]=r,m++,o(n,function(){j[n]=v,m--,s(n),l()})))}),m||(a(p,function(n){n.func.call(n.scope)}),p.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aL(bP,[aD,a2],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aI},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",-1!=g.indexOf(","+e.substr(0,2)+",")){e=e.substr(0,2)}else{if(-1==g.indexOf(","+e+",")){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aI,aI)}),f&&(h?f.call(h):f.call(c))}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aL(aF,[a2,aR],function(d,b){function f(h,g){var i=h.childNodes;return g--,g>i.length-1?g=i.length-1:0>g&&(g=0),i[g]||h}function c(g){this.walk=function(G,e){function j(l){var h;return h=l[0],3===h.nodeType&&h===A&&F>=h.nodeValue.length&&l.splice(0,1),h=l[l.length-1],0===x&&l.length>0&&h===z&&3===h.nodeType&&l.splice(l.length-1,1),l}function D(m,h,o){for(var l=[];m&&m!=o;m=m[h]){l.push(m)}return l}function H(l,h){do{if(l.parentNode==h){return l}l=l.parentNode}while(l)}function n(m,l,o){var h=o?"nextSibling":"previousSibling";for(w=m,E=w.parentNode;w&&w!=l;w=E){E=w.parentNode,C=D(w==m?w:w[h],h),C.length&&(o||C.reverse(),e(j(C)))}}var A=G.startContainer,F=G.startOffset,z=G.endContainer,x=G.endOffset,q,i,k,w,E,C,B;if(B=g.select("td.mce-item-selected,th.mce-item-selected"),B.length>0){return void a(B,function(h){e([h])})}if(1==A.nodeType&&A.hasChildNodes()&&(A=A.childNodes[F]),1==z.nodeType&&z.hasChildNodes()&&(z=f(z,x)),A==z){return e(j([A]))}for(q=g.findCommonAncestor(A,z),w=A;w;w=w.parentNode){if(w===z){return n(A,q,!0)}if(w===q){break}}for(w=z;w;w=w.parentNode){if(w===A){return n(z,q)}if(w===q){break}}i=H(A,q)||A,k=H(z,q)||z,n(A,i,!0),C=D(i==A?i:i.nextSibling,"nextSibling",k==z?k.nextSibling:k),C.length&&e(j(C)),n(z,k)},this.split=function(l){function j(n,i){return n.splitText(i)}var p=l.startContainer,k=l.startOffset,h=l.endContainer,m=l.endOffset;return p==h&&3==p.nodeType?k>0&&k<p.nodeValue.length&&(h=j(p,k),p=h.previousSibling,m>k?(m-=k,p=h=j(h,m).previousSibling,m=h.nodeValue.length,k=0):m=0):(3==p.nodeType&&k>0&&k<p.nodeValue.length&&(p=j(p,k),k=0),3==h.nodeType&&m>0&&m<h.nodeValue.length&&(h=j(h,m).previousSibling,m=h.nodeValue.length)),{startContainer:p,startOffset:k,endContainer:h,endOffset:m}},this.normalize=function(k){function h(i){function A(l){return l&&/^(TD|TH|CAPTION)$/.test(l.nodeName)}function D(p,m){for(var l=new b(p,g.getParent(p.parentNode,g.isBlock)||t);p=l[m?"prev":"next"]();){if("BR"===p.nodeName){return !0}}}function q(m,l){return m.previousSibling&&m.previousSibling.nodeName==l}function z(E,v){var p,u,m;if(v=v||C,m=g.getParent(v.parentNode,g.isBlock)||t,E&&"BR"==v.nodeName&&B&&g.isEmpty(m)){return C=v.parentNode,y=g.nodeIndex(v),void (e=!0)}for(p=new b(v,m);n=p[E?"prev":"next"]();){if("false"===g.getContentEditableParent(n)){return}if(3===n.nodeType&&n.nodeValue.length>0){return C=n,y=E?n.nodeValue.length:0,void (e=!0)}if(g.isBlock(n)||o[n.nodeName.toLowerCase()]){return}u=n}j&&u&&(C=u,e=!0,y=0)}var C,y,x,t=g.getRoot(),n,o,w,B;if(C=k[(i?"start":"end")+"Container"],y=k[(i?"start":"end")+"Offset"],B=1==C.nodeType&&y===C.childNodes.length,o=g.schema.getNonEmptyElements(),w=i,1==C.nodeType&&y>C.childNodes.length-1&&(w=!1),9===C.nodeType&&(C=g.getRoot(),y=0),C===t){if(w&&(n=C.childNodes[y>0?y-1:0],n&&(o[n.nodeName]||"TABLE"==n.nodeName))){return}if(C.hasChildNodes()&&(y=Math.min(!w&&y>0?y-1:y,C.childNodes.length-1),C=C.childNodes[y],y=0,C.hasChildNodes()&&!/TABLE/.test(C.nodeName))){n=C,x=new b(C,t);do{if(3===n.nodeType&&n.nodeValue.length>0){y=w?0:n.nodeValue.length,C=n,e=!0;break}if(o[n.nodeName.toLowerCase()]&&!A(n)){y=g.nodeIndex(n),C=n.parentNode,"IMG"!=n.nodeName||w||y++,e=!0;break}}while(n=w?x.next():x.prev())}}j&&(3===C.nodeType&&0===y&&z(!0),1===C.nodeType&&(n=C.childNodes[y],n||(n=C.childNodes[y-1]),!n||"BR"!==n.nodeName||q(n,"A")||D(n)||D(n,!0)||z(!0,n))),w&&!j&&3===C.nodeType&&y===C.nodeValue.length&&z(!1),e&&k["set"+(i?"Start":"End")](C,y)}var e,j;return j=k.collapsed,h(!0),j||h(),e&&j&&k.collapse(!0),e}}var a=d.each;return c.compareRanges=function(h,g){if(h&&g){if(!h.item&&!h.duplicate){return h.startContainer==g.startContainer&&h.startOffset==g.startOffset}if(h.item&&g.item&&h.item(0)===g.item(0)){return !0}if(h.isEqual&&g.isEqual&&g.isEqual(h)){return !0}}return !1},c.getCaretRangeFromPoint=function(k,h,m){var j,g;if(m.caretPositionFromPoint){g=m.caretPositionFromPoint(k,h),j=m.createRange(),j.setStart(g.offsetNode,g.offset),j.collapse(!0)}else{if(m.caretRangeFromPoint){j=m.caretRangeFromPoint(k,h)}else{if(m.body.createTextRange){j=m.body.createTextRange();try{j.moveToPoint(k,h),j.collapse(!0)}catch(l){j.collapse(h<m.body.clientHeight)}}}}return j},c.getNode=function(h,g){return 1==h.nodeType&&h.hasChildNodes()&&(g>=h.childNodes.length&&(g=h.childNodes.length-1),h=h.childNodes[g]),h},c}),aL(bb,[aF,aH],function(b,a){return function(f){function d(i){var g,h;if(h=f.$(i).parentsUntil(f.getBody()).add(i),h.length===e.length){for(g=h.length;g>=0&&h[g]===e[g];g--){}if(-1===g){return e=h,!0}}return e=h,!1}var c,e=[];"onselectionchange" in f.getDoc()||f.on("NodeChange Click MouseUp KeyUp Focus",function(g){var h,i;h=f.selection.getRng(),i={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset},"nodechange"!=g.type&&b.compareRanges(i,c)||f.fire("SelectionChange"),c=i}),f.on("contextmenu",function(){f.fire("SelectionChange")}),f.on("SelectionChange",function(){var g=f.selection.getStart(!0);(a.range||!f.selection.isCollapsed())&&!d(g)&&f.dom.isChildOf(g,f.getBody())&&f.nodeChanged({selectionChange:!0})}),f.on("MouseUp",function(g){g.isDefaultPrevented()||("IMG"==f.selection.getNode().nodeName?setTimeout(function(){f.nodeChanged()},0):f.nodeChanged())}),this.nodeChanged=function(k){var h=f.selection,j,g,l;f.initialized&&h&&!f.settings.disable_nodechange&&!f.settings.readonly&&(l=f.getBody(),j=h.getStart()||l,j=j.ownerDocument!=f.getDoc()?f.getBody():j,"IMG"==j.nodeName&&h.isCollapsed()&&(j=j.parentNode),g=[],f.dom.getParent(j,function(i){return i===l?!0:void g.push(i)}),k=k||{},k.element=j,k.parents=g,f.fire("NodeChange",k))}}}),aL(bK,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-bookmark")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aL(bx,[a2],function(j){function q(c,a){return c?c.split(a||" "):[]}function f(x){function o(E,H,D){function l(J,u){var K={},I,c;for(I=0,c=J.length;c>I;I++){K[J[I]]=u||{}}return K}var C,G,a,F=arguments;for(D=D||[],H=H||"","string"==typeof D&&(D=q(D)),G=3;G<F.length;G++){"string"==typeof F[G]&&(F[G]=q(F[G])),D.push.apply(D,F[G])}for(E=q(E),C=E.length;C--;){a=[].concat(s,q(H)),A[E[C]]={attributes:l(a),attributesOrder:a,children:l(D,d)}}}function i(u,D){var l,a,C,c;for(u=q(u),l=u.length,D=q(D);l--;){for(a=A[u[l]],C=0,c=D.length;c>C;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var A={},s,z,B,y,w,t;return h[x]?h[x]:(s=q("id accesskey class dir lang style tabindex title"),z=q("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),B=q("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=x&&(s.push.apply(s,q("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),z.push.apply(z,q("article aside details dialog figure header footer hgroup section nav")),B.push.apply(B,q("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=x&&(s.push("xml:lang"),t=q("acronym applet basefont big font strike tt"),B.push.apply(B,t),v(t,function(a){o(a,"",B)}),w=q("center dir isindex noframes"),z.push.apply(z,w),y=[].concat(z,B),v(w,function(a){o(a,"",y)})),y=y||[].concat(z,B),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),o("address dt dd div caption","",y),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",B),o("blockquote","cite",y),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",y),o("dl","","dt dd"),o("a","href target rel media hreflang type",B),o("q","cite",B),o("ins del","cite datetime",y),o("img","src sizes srcset alt usemap ismap width height"),o("iframe","src name width height",y),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",y,"param"),o("param","name value"),o("map","name",y,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==x?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",y),o("th","colspan rowspan headers scope abbr",y),o("form","accept-charset action autocomplete enctype method name novalidate target",y),o("fieldset","disabled form name",y,"legend"),o("label","form for",B),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==x?y:B),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",y,"li"),o("noscript","",y),"html4"!=x&&(o("wbr"),o("ruby","",B,"rt rp"),o("figcaption","",y),o("mark rt rp summary bdi","",B),o("canvas","width height",y),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",y,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",y,"track source"),o("picture","","img source"),o("source","src srcset type media sizes"),o("track","kind src srclang label default"),o("datalist","",B,"option"),o("article section nav aside header footer","",y),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",y,"figcaption"),o("time","datetime",B),o("dialog","open",y),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",B),o("progress","value max",B),o("meter","value min max low high optimum",B),o("details","open",y,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=x&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=x&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),v(q("a form meter progress dfn"),function(a){A[a]&&delete A[a].children[a]}),delete A.caption.children.table,delete A.script,h[x]=A,A)}function b(c,a){var i;return c&&(i={},"string"==typeof c&&(c={"*":c}),v(c,function(n,l){i[l]=i[l.toUpperCase()]="map"==a?m(n,/[, ]/):k(n,/[, ]/)})),i}var h={},d={},m=j.makeMap,v=j.each,g=j.extend,k=j.explode,p=j.inArray;return function(Z){function Q(e,y,w){var x=Z[e];return x?x=m(x,/[, ]/,m(x.toUpperCase(),/[, ]/)):(x=h[e],x||(x=m(y," ",m(y.toUpperCase()," ")),x=g(x,w),h[e]=x)),x}function ae(o){return new RegExp("^"+o.replace(/([?+*])/g,".$1")+"$")}function Y(cw){var co,R,cs,ce,L,cq,cx,cv,ct,bt,cp,cu,D,cy,M,B,cz,H,A,y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,cr=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(cw){for(cw=q(cw,","),s["@"]&&(B=s["@"].attributes,cz=s["@"].attributesOrder),co=0,R=cw.length;R>co;co++){if(L=y.exec(cw[co])){if(cy=L[1],ct=L[2],M=L[3],cv=L[5],cu={},D=[],cq={attributes:cu,attributesOrder:D},"#"===cy&&(cq.paddEmpty=!0),"-"===cy&&(cq.removeEmpty=!0),"!"===L[4]&&(cq.removeEmptyAttrs=!0),B){for(H in B){cu[H]=B[H]}D.push.apply(D,cz)}if(cv){for(cv=q(cv,"|"),cs=0,ce=cv.length;ce>cs;cs++){if(L=cr.exec(cv[cs])){if(cx={},cp=L[1],bt=L[2].replace(/::/g,":"),cy=L[3],A=L[4],"!"===cp&&(cq.attributesRequired=cq.attributesRequired||[],cq.attributesRequired.push(bt),cx.required=!0),"-"===cp){delete cu[bt],D.splice(p(D,bt),1);continue}cy&&("="===cy&&(cq.attributesDefault=cq.attributesDefault||[],cq.attributesDefault.push({name:bt,value:A}),cx.defaultValue=A),":"===cy&&(cq.attributesForced=cq.attributesForced||[],cq.attributesForced.push({name:bt,value:A}),cx.forcedValue=A),"<"===cy&&(cx.validValues=m(A,"?"))),x.test(bt)?(cq.attributePatterns=cq.attributePatterns||[],cx.pattern=ae(bt),cq.attributePatterns.push(cx)):(cu[bt]||D.push(bt),cu[bt]=cx)}}}B||"@"!=ct||(B=cu,cz=D),M&&(cq.outputName=ct,s[M]=cq),x.test(ct)?(cq.pattern=ae(ct),t.push(cq)):s[ct]=cq}}}}function W(o){s={},t=[],Y(o),v(be,function(x,w){at[w]=x.children})}function P(o){var w=/^(~)?(.+)$/;o&&(h.text_block_elements=h.block_elements=null,v(q(o,","),function(C){var A=w.exec(C),B="~"===A[1],y=B?"span":"div",D=A[2];if(at[D]=at[y],n[D]=y,B||(i[D.toUpperCase()]={},i[D]={}),!s[D]){var x=s[y];x=g({},x),delete x.removeEmptyAttrs,delete x.removeEmpty,s[D]=x}v(at,function(H,E){H[y]&&(at[E]=H=g({},at[E]),H[D]=H[y])})}))}function U(o){var e=/^([+\-]?)(\w+)\[([^\]]+)\]$/;h[Z.schema]=null,o&&v(q(o,","),function(x){var A=e.exec(x),w,y;A&&(y=A[1],w=y?at[A[2]]:at[A[2]]={"#comment":{}},w=at[A[2]],v(q(A[3],"|"),function(B){"-"===y?delete w[B]:w[B]={}}))})}function X(w){var o=s[w],x;if(o){return o}for(x=t.length;x--;){if(o=t[x],o.pattern.test(w)){return o}}}var F=this,s={},at={},t=[],J,z,be,G,l,c,V,a,i,O,K,I,r,n={},u={};Z=Z||{},be=f(Z.schema),Z.verify_html===!1&&(Z.valid_elements="*[*]"),J=b(Z.valid_styles),z=b(Z.invalid_styles,"map"),a=b(Z.valid_classes,"map"),G=Q("whitespace_elements","pre script noscript style textarea video audio iframe object"),l=Q("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),c=Q("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),V=Q("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),O=Q("non_empty_elements","td th iframe video audio object script",c),K=Q("move_caret_before_on_enter_elements","table",O),I=Q("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),i=Q("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",I),r=Q("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),v((Z.special||"script noscript style textarea").split(" "),function(o){u[o]=new RegExp("</"+o+"[^>]*>","gi")}),Z.valid_elements?W(Z.valid_elements):(v(be,function(w,o){s[o]={attributes:w.attributes,attributesOrder:w.attributesOrder},at[o]=w.children}),"html5"!=Z.schema&&v(q("strong/b em/i"),function(o){o=q(o,"/"),s[o[1]].outputName=o[0]}),s.img.attributesDefault=[{name:"alt",value:""}],v(q("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(o){s[o]&&(s[o].removeEmpty=!0)}),v(q("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(o){s[o].paddEmpty=!0}),v(q("span"),function(o){s[o].removeEmptyAttrs=!0})),P(Z.custom_elements),U(Z.valid_children),Y(Z.extended_valid_elements),U("+ol[ul|ol],+ul[ul|ol]"),Z.invalid_elements&&v(k(Z.invalid_elements),function(o){s[o]&&delete s[o]}),X("span")||Y("span[!data-mce-type|*]"),F.children=at,F.getValidStyles=function(){return J},F.getInvalidStyles=function(){return z},F.getValidClasses=function(){return a},F.getBoolAttrs=function(){return V},F.getBlockElements=function(){return i},F.getTextBlockElements=function(){return I},F.getTextInlineElements=function(){return r},F.getShortEndedElements=function(){return c},F.getSelfClosingElements=function(){return l},F.getNonEmptyElements=function(){return O},F.getMoveCaretBeforeOnEnterElements=function(){return K},F.getWhiteSpaceElements=function(){return G},F.getSpecialElements=function(){return u},F.isValidChild=function(w,o){var x=at[w];return !(!x||!x[o])},F.isValid=function(y,w){var A,x,o=X(y);if(o){if(!w){return !0}if(o.attributes[w]){return !0}if(A=o.attributePatterns){for(x=A.length;x--;){if(A[x].pattern.test(y)){return !0}}}}return !1},F.getElementRule=X,F.getCustomElements=function(){return n},F.addValidElements=Y,F.setValidElements=W,F.addCustomElements=P,F.addValidChildren=U,F.elements=s}}),aL(bq,[bx,aG,a2],function(d,b,g){function c(p,k,u){var m=1,j,q,h,l;for(l=p.getShortEndedElements(),h=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,h.lastIndex=j=u;q=h.exec(k);){if(j=h.lastIndex,"/"===q[1]){m--}else{if(!q[1]){if(q[2] in l){continue}m++}}if(0===m){break}}return j}function a(j,h){function k(){}var e=this;j=j||{},e.schema=h=h||new d,j.fix_self_closing!==!1&&(j.fix_self_closing=!0),f("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=j[i]||k)}),e.parse=function(cG){function cz(m){var l,o;for(l=cD.length;l--&&cD[l].name!==m;){}if(l>=0){for(o=cD.length-1;o>=l;o--){m=cD[o],m.valid&&cB.end(m.name)}cD.length=l}}function cx(x,B,v,m,p){var z,C,w=/[\s\u0000-\u001F]+/g;if(B=B.toLowerCase(),v=B in ce?B:cr(v||m||p||""),cK&&!cs&&0!==B.indexOf("data-")){if(z=r[B],!z&&G){for(C=G.length;C--&&(z=G[C],!z.pattern.test(B));){}-1===C&&(z=null)}if(!z){return}if(z.validValues&&!(v in z.validValues)){return}}if(n[B]&&!j.allow_script_urls){var y=v.replace(w,"");try{y=decodeURIComponent(y)}catch(A){y=unescape(y)}if(q.test(y)){return}if(!j.allow_html_data_urls&&cq.test(y)&&!/^data:image\//i.test(y)){return}}cy.map[B]=v,cy.push({name:B,value:v})}var cB=this,cI,cw=0,cH,cF,cD=[],cy,cA,cE,cv,cs,cJ,ct,ce,cu,cK,be,Q,t,cC,r,G,cp,co,bt,Y,X,ae,J,K,Z,at=0,cr=b.decode,i,n=g.makeMap("src,href,data,background,formaction,poster"),q=/((java|vb)script|mhtml):/i,cq=/^data:/i;for(ae=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),J=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ct=h.getShortEndedElements(),X=j.self_closing_elements||h.getSelfClosingElements(),ce=h.getBoolAttrs(),cK=j.validate,cJ=j.remove_internals,i=j.fix_self_closing,K=h.getSpecialElements();cI=ae.exec(cG);){if(cw<cI.index&&cB.text(cr(cG.substr(cw,cI.index-cw))),cH=cI[6]){cH=cH.toLowerCase(),":"===cH.charAt(0)&&(cH=cH.substr(1)),cz(cH)}else{if(cH=cI[7]){if(cH=cH.toLowerCase(),":"===cH.charAt(0)&&(cH=cH.substr(1)),cu=cH in ct,i&&X[cH]&&cD.length>0&&cD[cD.length-1].name===cH&&cz(cH),!cK||(be=h.getElementRule(cH))){if(Q=!0,cK&&(r=be.attributes,G=be.attributePatterns),(cC=cI[8])?(cs=-1!==cC.indexOf("data-mce-type"),cs&&cJ&&(Q=!1),cy=[],cy.map={},cC.replace(J,cx)):(cy=[],cy.map={}),cK&&!cs){if(cp=be.attributesRequired,co=be.attributesDefault,bt=be.attributesForced,Y=be.removeEmptyAttrs,Y&&!cy.length&&(Q=!1),bt){for(cA=bt.length;cA--;){t=bt[cA],cv=t.name,Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),cy.map[cv]=Z,cy.push({name:cv,value:Z})}}if(co){for(cA=co.length;cA--;){t=co[cA],cv=t.name,cv in cy.map||(Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),cy.map[cv]=Z,cy.push({name:cv,value:Z}))}}if(cp){for(cA=cp.length;cA--&&!(cp[cA] in cy.map);){}-1===cA&&(Q=!1)}if(t=cy.map["data-mce-bogus"]){if("all"===t){cw=c(h,cG,ae.lastIndex),ae.lastIndex=cw;continue}Q=!1}}Q&&cB.start(cH,cy,cu)}else{Q=!1}if(cF=K[cH]){cF.lastIndex=cw=cI.index+cI[0].length,(cI=cF.exec(cG))?(Q&&(cE=cG.substr(cw,cI.index-cw)),cw=cI.index+cI[0].length):(cE=cG.substr(cw),cw=cG.length),Q&&(cE.length>0&&cB.text(cE,!0),cB.end(cH)),ae.lastIndex=cw;continue}cu||(cC&&cC.indexOf("/")==cC.length-1?Q&&cB.end(cH):cD.push({name:cH,valid:Q}))}else{(cH=cI[1])?(">"===cH.charAt(0)&&(cH=" "+cH),j.allow_conditional_comments||"[if"!==cH.substr(0,3)||(cH=" "+cH),cB.comment(cH)):(cH=cI[2])?cB.cdata(cH):(cH=cI[3])?cB.doctype(cH):(cH=cI[4])&&cB.pi(cH,cI[5])}}cw=cI.index+cI[0].length}for(cw<cG.length&&cB.text(cr(cG.substr(cw))),cA=cD.length-1;cA>=0;cA--){cH=cD[cA],cH.valid&&cB.end(cH.name)}}}var f=g.each;return a.findEndTag=c,a}),aL(aV,[bK,bx,bq,a2],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(m,a){function s(J){var x,l,w,H,K,E,D,C,A,u,z,B,I,G,F;for(z=c("tr,td,th,tbody,thead,tfoot,table"),u=a.getNonEmptyElements(),B=a.getTextBlockElements(),I=a.getSpecialElements(),x=0;x<J.length;x++){if(l=J[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(G=l.next;G&&B[G.name];){G.name="li",G.fixed=!0,l.parent.insert(G,l.parent),G=G.next}l.unwrap(l)}else{for(H=[l],w=l.parent;w&&!a.isValidChild(w.name,l.name)&&!z[w.name];w=w.parent){H.push(w)}if(w&&H.length>1){for(H.reverse(),K=E=e.filterNode(H[0].clone()),A=0;A<H.length-1;A++){for(a.isValidChild(E.name,H[A].name)?(D=e.filterNode(H[A].clone()),E.append(D)):D=E,C=H[A].firstChild;C&&C!=H[A+1];){F=C.next,D.append(C),C=F}E=D}K.isEmpty(u)?w.insert(l,H[0],!0):(w.insert(K,H[0],!0),w.insert(l,K)),w=H[0],(w.isEmpty(u)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(G=l.prev,G&&("ul"===G.name||"ul"===G.name)){G.append(l);continue}if(G=l.next,G&&("ul"===G.name||"ul"===G.name)){G.insert(l,G.firstChild,!0);continue}l.wrap(e.filterNode(new h("ul",1)));continue}a.isValidChild(l.parent.name,"div")&&a.isValidChild("div",l.name)?l.wrap(e.filterNode(new h("div",1))):I[l.name]?l.empty().remove():l.unwrap()}}}}}}var e=this,q={},n=[],i={},o={};m=m||{},m.validate="validate" in m?m.validate:!0,m.root_name=m.root_name||"body",e.schema=a=a||new d,e.filterNode=function(u){var l,v,p;v in q&&(p=i[v],p?p.push(u):i[v]=[u]),l=n.length;for(;l--;){v=n[l].name,v in u.attributes.map&&(p=o[v],p?p.push(u):o[v]=[u])}return u},e.addNodeFilter=function(p,l){j(b(p),function(r){var t=q[r];t||(q[r]=t=[]),t.push(l)})},e.addAttributeFilter=function(p,l){j(b(p),function(r){var t;for(t=0;t<n.length;t++){if(n[t].name===r){return void n[t].callbacks.push(l)}}n.push({name:r,callbacks:[l]})})},e.parse=function(at,cp){function cu(){function w(t){t&&(v=t.firstChild,v&&3==v.type&&(v.value=v.value.replace(r,"")),v=t.lastChild,v&&3==v.type&&(v.value=v.value.replace(be,"")))}var v=Q.firstChild,x,u;if(a.isValidChild(Q.name,U.toLowerCase())){for(;v;){x=v.next,3==v.type||1==v.type&&"p"!==v.name&&!l[v.name]&&!v.attr("data-mce-type")?u?u.append(v):(u=Z(U,1),u.attr(m.forced_root_block_attrs),Q.insert(u,v),u.append(v)):(w(u),u=null),v=x}w(u)}}function Z(v,x){var w=new h(v,x),u;return v in q&&(u=i[v],u?u.push(w):i[v]=[w]),w}function cq(x){var v,A,w,u,y=a.getBlockElements();for(v=x.prev;v&&3===v.type;){if(w=v.value.replace(be,""),w.length>0){return void (v.value=w)}if(A=v.next){if(3==A.type&&A.value.length){v=v.prev;continue}if(!y[A.name]&&"script"!=A.name&&"style"!=A.name){v=v.prev;continue}}u=v.prev,v.remove(),v=u}}function cs(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var Y,Q,ct,V,bt,X,cv,ae,G,p,cr,l,r,co=[],ce,be,K,J,W,z,F,U;if(cp=cp||{},i={},o={},l=f(c("script,style,head,html,body,title,meta,param"),a.getBlockElements()),F=a.getNonEmptyElements(),z=a.children,cr=m.validate,U="forced_root_block" in cp?cp.forced_root_block:m.forced_root_block,W=a.getWhiteSpaceElements(),r=/^[ \t\r\n]+/,be=/[ \t\r\n]+$/,K=/[ \t\r\n]+/g,J=/^[ \t\r\n]+$/,Y=new k({validate:cr,allow_script_urls:m.allow_script_urls,allow_conditional_comments:m.allow_conditional_comments,self_closing_elements:cs(a.getSelfClosingElements()),cdata:function(t){ct.append(Z("#cdata",4)).value=t},text:function(v,u){var w;ce||(v=v.replace(K," "),ct.lastChild&&l[ct.lastChild.name]&&(v=v.replace(r,""))),0!==v.length&&(w=Z("#text",3),w.raw=!!u,ct.append(w).value=v)},comment:function(t){ct.append(Z("#comment",8)).value=t},pi:function(v,u){ct.append(Z(v,7)).value=u,cq(ct)},doctype:function(v){var u;u=ct.append(Z("#doctype",10)),u.value=v,cq(ct)},start:function(A,w,C){var y,v,B,u,x;if(B=cr?a.getElementRule(A):{}){for(y=Z(B.outputName||A,1),y.attributes=w,y.shortEnded=C,ct.append(y),x=z[ct.name],x&&z[y.name]&&!x[y.name]&&co.push(y),v=n.length;v--;){u=n[v].name,u in w.map&&(G=o[u],G?G.push(y):o[u]=[y])}l[A]&&cq(y),C||(ct=y),!ce&&W[A]&&(ce=!0)}},end:function(w){var A,x,v,y,u;if(x=cr?a.getElementRule(w):{}){if(l[w]&&!ce){if(A=ct.firstChild,A&&3===A.type){if(v=A.value.replace(r,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}if(A=ct.lastChild,A&&3===A.type){if(v=A.value.replace(be,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}}if(ce&&W[w]&&(ce=!1),(x.removeEmpty||x.paddEmpty)&&ct.isEmpty(F)){if(x.paddEmpty){ct.empty().append(new h("#text","3")).value="\xa0"}else{if(!ct.attributes.map.name&&!ct.attributes.map.id){return u=ct.parent,l[ct.name]?ct.empty().remove():ct.unwrap(),void (ct=u)}}}ct=ct.parent}}},a),Q=ct=new h(cp.context||m.root_name,11),Y.parse(at),cr&&co.length&&(cp.context?cp.invalid=!0:s(co)),U&&("body"==Q.name||cp.isRootContent)&&cu(),!cp.invalid){for(p in i){for(G=q[p],V=i[p],cv=V.length;cv--;){V[cv].parent||V.splice(cv,1)}for(bt=0,X=G.length;X>bt;bt++){G[bt](V,p,cp)}}for(bt=0,X=n.length;X>bt;bt++){if(G=n[bt],G.name in o){for(V=o[G.name],cv=V.length;cv--;){V[cv].parent||V.splice(cv,1)}for(cv=0,ae=G.callbacks.length;ae>cv;cv++){G.callbacks[cv](V,G.name,cp)}}}}return Q},m.remove_trailing_brs&&e.addNodeFilter("br",function(F){var x,l=F.length,y,w=f({},a.getBlockElements()),D=a.getNonEmptyElements(),C,E,B,A,z,v;for(w.body=1,x=0;l>x;x++){if(y=F[x],C=y.parent,w[y.parent.name]&&y===C.lastChild){for(B=y.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){y=null;break}}B=B.prev}y&&(y.remove(),C.isEmpty(D)&&(z=a.getElementRule(C.name),z&&(z.removeEmpty?C.remove():z.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=y;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!w[C.name]);){C=C.parent}E===C&&(v=new h("#text",3),v.value="\xa0",y.replace(v))}}}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(v){for(var p=v.length,x,u,l,w;p--;){if(w=v[p],"a"===w.name&&w.firstChild&&!w.attr("href")){l=w.parent,x=w.lastChild;do{u=x.prev,l.insert(x,w),x=u}while(x)}}}),m.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(x){for(var B=x.length,v,l,w,p,z,C=a.getValidClasses(),y,A;B--;){for(v=x[B],l=v.attr("class").split(" "),z="",w=0;w<l.length;w++){p=l[w],A=!1,y=C["*"],y&&y[p]&&(A=!0),y=C[v.name],!A&&y&&y[p]&&(A=!0),A&&(z&&(z+=" "),z+=p)}z.length||(z=null),v.attr("class",z)}})}}),aL(bn,[aG,a2],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}!r||d?j[j.length]=">":j[j.length]=" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",h(i),"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aL(br,[bn,bx],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,t,i,q;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1&&(v=[],v.map={},q=d.getElementRule(w.name))){for(t=0,i=q.attributesOrder.length;i>t;t++){z=q.attributesOrder[t],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(t=0,i=y.length;i>t;t++){z=y[t].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aL(bR,[a9,aV,aG,br,bK,bx,aH,a2],function(k,w,g,b,j,f,q,x){function h(d){function a(l){return l&&"br"===l.name}var i,c;i=d.lastChild,a(i)&&(c=i.prev,a(c)&&(i.remove(),c.remove()))}var p=x.each,v=x.trim,m=k.DOM;return function(n,a){var d,l,c;return a&&(d=a.dom,l=a.schema),d=d||m,l=l||new f(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,c=new w(n,l),c.addAttributeFilter("data-mce-tabindex",function(s,i){for(var u=s.length,o;u--;){o=s[u],o.attr("tabindex",o.attributes.map["data-mce-tabindex"]),o.attr(i,null)}}),c.addAttributeFilter("src,href,style",function(E,y){for(var e=E.length,A,s,C="data-mce-"+y,z=n.url_converter,B=n.url_converter_scope,D;e--;){A=E[e],s=A.attributes.map[C],s!==D?(A.attr(y,s.length>0?s:null),A.attr(C,null)):(s=A.attributes.map[y],"style"===y?s=d.serializeStyle(d.parseStyle(s),A.name):z&&(s=z.call(B,s,y,A.name)),A.attr(y,s.length>0?s:null))}}),c.addAttributeFilter("class",function(s){for(var i=s.length,u,o;i--;){u=s[i],o=u.attr("class"),o&&(o=u.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",o.length>0?o:null))}}),c.addAttributeFilter("data-mce-type",function(y,s,z){for(var u=y.length,o;u--;){o=y[u],"bookmark"!==o.attributes.map["data-mce-type"]||z.cleanup||o.remove()}}),c.addNodeFilter("noscript",function(s){for(var i=s.length,o;i--;){o=s[i].firstChild,o&&(o.value=g.decode(o.value))}}),c.addNodeFilter("script,style",function(A,y){function C(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var z=A.length,u,B,s;z--;){u=A[z],B=u.firstChild?u.firstChild.value:"","script"===y?(s=u.attr("type"),s&&u.attr("type","mce-no/type"==s?null:s.replace(/^mce\-/,"")),B.length>0&&(u.firstChild.value="// <![CDATA[\n"+C(B)+"\n// ]]>")):B.length>0&&(u.firstChild.value="<!--\n"+C(B)+"\n-->")}}),c.addNodeFilter("#comment",function(o){for(var i=o.length,r;i--;){r=o[i],0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=r.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}}),c.addNodeFilter("xml:namespace,input",function(s,i){for(var u=s.length,o;u--;){o=s[u],7===o.type?o.remove():1===o.type&&("input"!==i||"type" in o.attributes.map||o.attr("type","text"))}}),n.fix_list_elements&&c.addNodeFilter("ul,ol",function(s){for(var i=s.length,u,o;i--;){u=s[i],o=u.parent,("ul"===o.name||"ol"===o.name)&&u.prev&&"li"===u.prev.name&&u.prev.append(u)}}),c.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(o,i){for(var r=o.length;r--;){o[r].attr(i,null)}}),{schema:l,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:function(C,s){var y=this,r,A,e,u,z,B;return q.ie&&d.select("script,style,select,map").length>0?(z=C.innerHTML,C=C.cloneNode(!1),d.setHTML(C,z)):C=C.cloneNode(!0),r=C.ownerDocument.implementation,r.createHTMLDocument&&(A=r.createHTMLDocument(""),p("BODY"==C.nodeName?C.childNodes:[C],function(i){A.body.appendChild(A.importNode(i,!0))}),C="BODY"!=C.nodeName?A.body.firstChild:A.body,e=d.doc,d.doc=A),s=s||{},s.format=s.format||"html",s.selection&&(s.forced_root_block=""),s.no_events||(s.node=C,y.onPreProcess(s)),B=c.parse(v(s.getInner?C.innerHTML:d.getOuterHTML(C)),s),h(B),u=new b(n,l),s.content=u.serialize(B),s.cleanup||(s.content=s.content.replace(/\uFEFF/g,"")),s.no_events||y.onPostProcess(s),e&&(d.doc=e),s.node=null,s.content},addRules:function(i){l.addValidElements(i)},setRules:function(i){l.setValidElements(i)},onPreProcess:function(i){a&&a.fire("PreProcess",i)},onPostProcess:function(i){a&&a.fire("PostProcess",i)}}}}),aL(bQ,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return void q[z?"setStart":"setEnd"](y,0)}if(w===A){return void q[z?"setStartBefore":"setEndAfter"](y)}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return void q[z?"setStartAfter":"setEndAfter"](y)}if(!w){return void (3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o))}for(;o;){if(3==o.nodeType&&(v=o.nodeValue,x+=v.length,x>=w)){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return void (3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o))}for(;o;){if(3==o.nodeType&&(x+=o.nodeValue.length,x>=w)){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(s){var m,D,l,u,r;l=b.create("a"),m=s?C:y,D=s?o:A,u=e.duplicate(),(m==w||m==w.documentElement)&&(m=q,D=0),3==m.nodeType?(m.parentNode.insertBefore(l,m),u.moveToElementText(l),u.moveStart("character",D),b.remove(l),e.setEndPoint(s?"StartToStart":"EndToEnd",u)):(r=m.childNodes,r.length?(D>=r.length?b.insertAfter(l,r[r.length-1]):m.insertBefore(l,r[D]),u.moveToElementText(l)):m.canHaveHTML&&(m.innerHTML="<span>&#xFEFF;</span>",l=m.firstChild,u.moveToElementText(l),u.collapse(g)),e.setEndPoint(s?"StartToStart":"EndToEnd",u),b.remove(l))}var e,z,C,o,y,A,x,w=f.dom.doc,q=w.body,i,k;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=q.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (x&&(x.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(k=C.childNodes[o],z=q.createControlRange(),z.addElement(k),z.select(),i=f.getRng(),i.item&&k===i.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aL(bL,[aH],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey||this.metaKeyPressed(b)},metaKeyPressed:function(b){return a.mac?b.metaKey:b.ctrlKey&&!b.altKey}}}),aL(bA,[bL,a2,aH],function(b,a,c){return function(cA,cI){function cD(f){var d=cI.settings.object_resizing;return d===!1||c.iOS?!1:("string"!=typeof d&&(d="table,img,div"),"false"===f.getAttribute("data-mce-resize")?!1:f==cI.getBody()?!1:cI.dom.is(f,d))}function cP(f){var j,h,i,d,g;j=f.screenX-G,h=f.screenY-K,Q=j*J[2]+co,X=h*J[3]+ae,Q=5>Q?5:Q,X=5>X?5:X,i="IMG"==cw.nodeName&&cI.settings.resize_img_proportional!==!1?!b.modifierPressed(f):b.modifierPressed(f)||"IMG"==cw.nodeName&&J[2]*J[3]!==0,i&&(e(j)>e(h)?(X=n(Q*Z),Q=n(X/Z)):(Q=n(X/Z),X=n(Q*Z))),cv.setStyles(cQ,{width:Q,height:X}),d=J.startPos.x+j,g=J.startPos.y+h,d=d>0?d:0,g=g>0?g:0,cv.setStyles(ce,{left:d,top:g,display:"block"}),ce.innerHTML=Q+" &times; "+X,J[2]<0&&cQ.clientWidth<=Q&&cv.setStyle(cQ,"left",cr+(co-Q)),J[3]<0&&cQ.clientHeight<=X&&cv.setStyle(cQ,"top",cq+(ae-X)),j=t.scrollWidth-cs,h=t.scrollHeight-cB,j+h!==0&&cv.setStyles(ce,{left:d-j,top:g-h}),be||(cI.fire("ObjectResizeStart",{target:cw,width:co,height:ae}),be=!0)}function cz(){function d(g,f){f&&(cw.style[g]||!cI.schema.isValid(cw.nodeName.toLowerCase(),g)?cv.setStyle(cw,g,f):cv.setAttrib(cw,g,f))}be=!1,d("width",Q),d("height",X),cv.unbind(at,"mousemove",cP),cv.unbind(at,"mouseup",cz),bt!=at&&(cv.unbind(bt,"mousemove",cP),cv.unbind(bt,"mouseup",cz)),cv.remove(cQ),cv.remove(ce),ct&&"TABLE"!=cw.nodeName||cF(cw),cI.fire("ObjectResized",{target:cw,width:Q,height:X}),cv.setAttrib(cw,"style",cv.getAttrib(cw,"style")),cI.nodeChanged()}function cF(p,j,m){var g,i,q,o,k;cK(),g=cv.getPos(p,t),cr=g.x,cq=g.y,k=p.getBoundingClientRect(),i=k.width||k.right-k.left,q=k.height||k.bottom-k.top,cw!=p&&(cE(),cw=p,Q=X=0),o=cI.fire("ObjectSelected",{target:p}),cD(p)&&!o.isDefaultPrevented()?cp(Y,function(h,f){function r(l){G=l.screenX,K=l.screenY,co=cw.clientWidth,ae=cw.clientHeight,Z=ae/co,J=h,h.startPos={x:i*h[0]+cr,y:q*h[1]+cq},cs=t.scrollWidth,cB=t.scrollHeight,cQ=cw.cloneNode(!0),cv.addClass(cQ,"mce-clonedresizable"),cv.setAttrib(cQ,"data-mce-bogus","all"),cQ.contentEditable=!1,cQ.unSelectabe=!0,cv.setStyles(cQ,{left:cr,top:cq,margin:0}),cQ.removeAttribute("data-mce-selected"),t.appendChild(cQ),cv.bind(at,"mousemove",cP),cv.bind(at,"mouseup",cz),bt!=at&&(cv.bind(bt,"mousemove",cP),cv.bind(bt,"mouseup",cz)),ce=cv.add(t,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},co+" &times; "+ae)}var d;return j?void (f==j&&r(m)):(d=cv.get("mceResizeHandle"+f),d&&cv.remove(d),d=cv.add(t,"div",{id:"mceResizeHandle"+f,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),c.ie&&(d.contentEditable=!1),cv.bind(d,"mousedown",function(l){l.stopImmediatePropagation(),l.preventDefault(),r(l)}),h.elm=d,void cv.setStyles(d,{left:i*h[0]+cr-d.offsetWidth/2,top:q*h[1]+cq-d.offsetHeight/2}))}):cN(),cw.setAttribute("data-mce-selected","1")}function cN(){var f,d;cK(),cw&&cw.removeAttribute("data-mce-selected");for(f in Y){d=cv.get("mceResizeHandle"+f),d&&(cv.unbind(d),cv.remove(d))}}function cy(f){function d(j,i){if(j){do{if(j===i){return !0}}while(j=j.parentNode)}}var h,g;if(!be&&!cI.removed){return cp(cv.select("img[data-mce-selected],hr[data-mce-selected]"),function(i){i.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:cA.getNode(),g=cv.$(g).closest(ct?"table":"table,img,hr")[0],d(g,t)&&(cx(),h=cA.getStart(!0),d(h,g)&&d(cA.getEnd(!0),g)&&(!ct||g!=h&&"IMG"!==h.nodeName))?void cF(g):void cN()}}function cM(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function cL(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function cJ(h){var l=h.srcElement,g,d,f,j,m,i,k;g=l.getBoundingClientRect(),i=cG.clientX-g.left,k=cG.clientY-g.top;for(d in Y){if(f=Y[d],j=l.offsetWidth*f[0],m=l.offsetHeight*f[1],e(j-i)<8&&e(m-k)<8){J=f;break}}be=!0,cI.fire("ObjectResizeStart",{target:cw,width:cw.clientWidth,height:cw.clientHeight}),cI.getDoc().selection.empty(),cF(l,d,cG)}function cC(f){var d=f.srcElement;if(d!=cw){if(cI.fire("ObjectSelected",{target:d}),cE(),0===d.id.indexOf("mceResizeHandle")){return void (f.returnValue=!1)}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(cN(),cw=d,cM(d,"resizestart",cJ))}}function cE(){cL(cw,"resizestart",cJ)}function cK(){for(var f in Y){var d=Y[f];d.elm&&(cv.unbind(d.elm),delete d.elm)}}function cx(){try{cI.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function cu(f){var d;if(ct){d=at.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function cO(){cw=cQ=null,ct&&(cE(),cL(t,"controlselect",cC))}var cv=cI.dom,cp=a.each,cw,cQ,ce,Y,J,cG,G,K,cr,cq,co,ae,Z,be,Q,X,at=cI.getDoc(),bt=document,ct=c.ie&&c.ie<11,e=Math.abs,n=Math.round,t=cI.getBody(),cs,cB;Y={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var cH=".mce-content-body";return cI.contentStyles.push(cH+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+cH+" .mce-resizehandle:hover {background: #000}"+cH+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+cH+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+cH+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),cI.on("init",function(){ct?(cI.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(cN(),cu(d.target))}),cM(t,"controlselect",cC),cI.on("mousedown",function(d){cG=d})):(cx(),c.ie>=11&&(cI.on("mousedown click",function(f){var d=f.target.nodeName;!be&&/^(TABLE|IMG|HR)$/.test(d)&&(cI.selection.select(f.target,"TABLE"==d),"mousedown"==f.type&&cI.nodeChanged())}),cI.dom.bind(t,"mscontrolselect",function(d){/^(TABLE|IMG|HR)$/.test(d.target.nodeName)&&(d.preventDefault(),"IMG"==d.target.tagName&&window.setTimeout(function(){cI.selection.select(d.target)},0))}))),cI.on("nodechange ResizeEditor ResizeWindow drop",function(d){window.requestAnimationFrame?window.requestAnimationFrame(function(){cy(d)}):cy(d)}),cI.on("keydown keyup",function(d){cw&&"TABLE"==cw.nodeName&&cy(d)}),cI.on("hide blur",cN)}),cI.on("remove",cK),{isResizable:cD,showResizeRect:cF,hideResizeRect:cN,updateResizeRect:cy,controlSelect:cu,destroy:cO}}}),aL(bz,[aH,a2],function(b,a){function c(e){var d=e.dom;this.getBookmark=function(x,r){function k(g,h){var f=0;return a.each(d.select(g),function(l,i){l==h&&(f=i)}),f}function A(g){function f(l){var s,m,h,p=l?"start":"end";s=g[p+"Container"],m=g[p+"Offset"],1==s.nodeType&&"TR"==s.nodeName&&(h=s.childNodes,s=h[Math.min(l?m:m-1,h.length-1)],s&&(m=l?0:s.childNodes.length,g["set"+(l?"Start":"End")](s,m)))}return f(!0),f(),g}function C(){function h(F,D){var H=F[D?"startContainer":"endContainer"],o=F[D?"startOffset":"endOffset"],E=[],m,G,p=0;if(3==H.nodeType){if(r){for(m=H.previousSibling;m&&3==m.nodeType;m=m.previousSibling){o+=m.nodeValue.length}}E.push(o)}else{G=H.childNodes,o>=G.length&&G.length&&(p=1,o=Math.max(0,G.length-1)),E.push(d.nodeIndex(G[o],r)+p)}for(;H&&H!=i;H=H.parentNode){E.push(d.nodeIndex(H,r))}return E}var g=e.getRng(!0),i=d.getRoot(),f={};return f.start=h(g,!0),e.isCollapsed()||(f.end=h(g)),f}var q,z,B,y,w,t,j="&#xFEFF;",n;if(2==x){return t=e.getNode(),w=t?t.nodeName:null,"IMG"==w?{name:w,index:k(w,t)}:e.tridentSel?e.tridentSel.getBookmark(x):C()}if(x){return{rng:e.getRng()}}if(q=e.getRng(),B=d.uniqueId(),y=e.isCollapsed(),n="overflow:hidden;line-height:0px",q.duplicate||q.item){if(q.item){return t=q.item(0),w=t.nodeName,{name:w,index:k(w,t)}}z=q.duplicate();try{q.collapse(),q.pasteHTML('<span data-mce-type="bookmark" id="'+B+'_start" style="'+n+'">'+j+"</span>"),y||(z.collapse(!1),q.moveToElementText(z.parentElement()),0===q.compareEndPoints("StartToEnd",z)&&z.move("character",-1),z.pasteHTML('<span data-mce-type="bookmark" id="'+B+'_end" style="'+n+'">'+j+"</span>"))}catch(v){return null}}else{if(t=e.getNode(),w=t.nodeName,"IMG"==w){return{name:w,index:k(w,t)}}z=A(q.cloneRange()),y||(z.collapse(!1),z.insertNode(d.create("span",{"data-mce-type":"bookmark",id:B+"_end",style:n},j))),q=A(q),q.collapse(!0),q.insertNode(d.create("span",{"data-mce-type":"bookmark",id:B+"_start",style:n},j))}return e.moveToBookmark({id:B,keep:1}),{id:B}},this.moveToBookmark=function(k){function g(l){var h=k[l?"start":"end"],u,i,s,f;if(h){for(s=h[0],i=q,u=h.length-1;u>=1;u--){if(f=i.childNodes,h[u]>f.length-1){return}i=f[h[u]]}3===i.nodeType&&(s=Math.min(h[0],i.nodeValue.length)),1===i.nodeType&&(s=Math.min(h[0],i.childNodes.length)),l?j.setStart(i,s):j.setEnd(i,s)}return !0}function r(y){var w=d.get(k.id+"_"+y),h,i,f,x,u=k.keep;if(w&&(h=w.parentNode,"start"==y?(u?(h=w.firstChild,i=1):i=d.nodeIndex(w),t=p=h,n=m=i):(u?(h=w.firstChild,i=1):i=d.nodeIndex(w),p=h,m=i),!u)){for(x=w.previousSibling,f=w.nextSibling,a.each(a.grep(w.childNodes),function(l){3==l.nodeType&&(l.nodeValue=l.nodeValue.replace(/\uFEFF/g,""))});w=d.get(k.id+"_"+y);){d.remove(w,1)}x&&f&&x.nodeType==f.nodeType&&3==x.nodeType&&!b.opera&&(i=x.nodeValue.length,x.appendData(f.nodeValue),d.remove(f),"start"==y?(t=p=x,n=m=i):(p=x,m=i))}}function v(f){return !d.isBlock(f)||f.innerHTML||b.ie||(f.innerHTML='<br data-mce-bogus="1" />'),f}var j,q,t,p,n,m;if(k){if(k.start){if(j=d.createRng(),q=d.getRoot(),e.tridentSel){return e.tridentSel.moveToBookmark(k)}g(!0)&&g()&&e.setRng(j)}else{k.id?(r("start"),r("end"),t&&(j=d.createRng(),j.setStart(v(t),n),j.setEnd(v(p),m),e.setRng(j))):k.name?e.select(d.select(k.name)[k.index]):k.rng&&e.setRng(k.rng)}}}}return c.isBookmarkNode=function(d){return d&&"SPAN"===d.tagName&&"bookmark"===d.getAttribute("data-mce-type")},c}),aL(bG,[aR,bQ,bA,aF,bz,aH,a2],function(k,g,b,j,f,q,v){function h(o,l,d,c){var n=this;n.dom=o,n.win=l,n.serializer=d,n.editor=c,n.bookmarkManager=new f(n),n.controlSelection=new b(n,c),n.win.getSelection||(n.tridentSel=new g(n))}var p=v.each,t=v.trim,m=q.ie;return h.prototype={setCursorLocation:function(d,a){var i=this,c=i.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),i.setRng(c),i.collapse(!1)):(i._moveEndPoint(c,i.editor.getBody(),!0),i.setRng(c))},getContent:function(y){var A=this,x=A.getRng(),u=A.dom.create("body"),z=A.getSel(),d,w,c;return y=y||{},d=w="",y.get=!0,y.format=y.format||"html",y.selection=!0,A.editor.fire("BeforeGetContent",y),"text"==y.format?A.isCollapsed()?"":x.text||(z.toString?z.toString():""):(x.cloneContents?(c=x.cloneContents(),c&&u.appendChild(c)):x.item!==aI||x.htmlText!==aI?(u.innerHTML="<br>"+(x.item?x.item(0).outerHTML:x.htmlText),u.removeChild(u.firstChild)):u.innerHTML=x.toString(),/^\s/.test(u.innerHTML)&&(d=" "),/\s+$/.test(u.innerHTML)&&(w=" "),y.getInner=!0,y.content=A.isCollapsed()?"":d+A.serializer.serialize(u,y)+w,A.editor.fire("GetContent",y),y.content)},setContent:function(y,A){var u=this,c=u.getRng(),x,d=u.win.document,z,B;if(A=A||{format:"html"},A.set=!0,A.selection=!0,y=A.content=y,A.no_events||u.editor.fire("BeforeSetContent",A),y=A.content,c.insertNode){y+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=y:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=y:c.createContextualFragment?c.insertNode(c.createContextualFragment(y)):(z=d.createDocumentFragment(),B=d.createElement("div"),z.appendChild(B),B.outerHTML=y,c.insertNode(z))),x=u.dom.get("__caret"),c=d.createRange(),c.setStartBefore(x),c.setEndBefore(x),u.setRng(c),u.dom.remove("__caret");try{u.setRng(c)}catch(w){}}else{c.item&&(d.execCommand("Delete",!1,null),c=u.getRng()),/^\s+/.test(y)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+y),u.dom.remove("__mce_tmp")):c.pasteHTML(y)}A.no_events||u.editor.fire("SetContent",A)},getStart:function(u){var l=this,x=l.getRng(),s,d,w,c;if(x.duplicate||x.item){if(x.item){return x.item(0)}for(w=x.duplicate(),w.collapse(1),s=w.parentElement(),s.ownerDocument!==l.dom.doc&&(s=l.dom.getRoot()),d=c=x.parentElement();c=c.parentNode;){if(c==s){s=d;break}}return s}return s=x.startContainer,1==s.nodeType&&s.hasChildNodes()&&(u&&x.collapsed||(s=s.childNodes[Math.min(s.childNodes.length-1,x.startOffset)])),s&&3==s.nodeType?s.parentNode:s},getEnd:function(l){var c=this,o=c.getRng(),d,a;return o.duplicate||o.item?o.item?o.item(0):(o=o.duplicate(),o.collapse(0),d=o.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=o.endContainer,a=o.endOffset,1==d.nodeType&&d.hasChildNodes()&&(l&&o.collapsed||(d=d.childNodes[a>0?a-1:a])),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(c,a){return this.bookmarkManager.getBookmark(c,a)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(l,c){var u=this,d=u.dom,a=d.createRng(),s;if(u.lastFocusBookmark=null,l){if(!c&&u.controlSelection.controlSelect(l)){return}s=d.nodeIndex(l),a.setStart(l.parentNode,s),a.setEnd(l.parentNode,s+1),c&&(u._moveEndPoint(a,l,!0),u._moveEndPoint(a,l)),u.setRng(a)}return l},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,i=a.getRng(),c;i.item&&(c=i.item(0),i=a.win.document.body.createTextRange(),i.moveToElementText(c)),i.collapse(!!d),a.setRng(i)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(z){function C(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var w=this,d,y,u,B=w.win.document,D;if(!z&&w.lastFocusBookmark){var x=w.lastFocusBookmark;return x.startContainer?(y=B.createRange(),y.setStart(x.startContainer,x.startOffset),y.setEnd(x.endContainer,x.endOffset)):y=x,y}if(z&&w.tridentSel){return w.tridentSel.getRangeAt(0)}try{(d=w.getSel())&&(y=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():B.createRange())}catch(A){}if(m&&y&&y.setStart&&B.selection){try{D=B.selection.createRange()}catch(A){}D&&D.item&&(u=D.item(0),y=B.createRange(),y.setStartBefore(u),y.setEndAfter(u))}return y||(y=B.createRange?B.createRange():B.body.createTextRange()),y.setStart&&9===y.startContainer.nodeType&&y.collapsed&&(u=w.dom.getRoot(),y.setStart(u,0),y.setEnd(u,0)),w.selectedRange&&w.explicitRange&&(0===C(y.START_TO_START,y,w.selectedRange)&&0===C(y.END_TO_END,y,w.selectedRange)?y=w.explicitRange:(w.selectedRange=null,w.explicitRange=null)),y},setRng:function(l,c){var u=this,d,a;if(l){if(l.select){try{l.select()}catch(s){}}else{if(u.tridentSel){if(l.cloneRange){try{return void u.tridentSel.addRange(l)}catch(s){}}}else{if(d=u.getSel()){u.explicitRange=l;try{d.removeAllRanges(),d.addRange(l)}catch(s){}c===!1&&d.extend&&(d.collapse(l.endContainer,l.endOffset),d.extend(l.startContainer,l.startOffset)),u.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}l.collapsed||l.startContainer!=l.endContainer||!d.setBaseAndExtent||q.ie||l.endOffset-l.startOffset<2&&l.startContainer.hasChildNodes()&&(a=l.startContainer.childNodes[l.startOffset],a&&"IMG"==a.tagName&&u.getSel().setBaseAndExtent(a,0,a,1))}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function y(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var A=this,u=A.getRng(),c,x=u.startContainer,d=u.endContainer,z=u.startOffset,B=u.endOffset,w=A.dom.getRoot();return u?u.setStart?(c=u.commonAncestorContainer,!u.collapsed&&(x==d&&2>B-z&&x.hasChildNodes()&&(c=x.childNodes[z]),3===x.nodeType&&3===d.nodeType&&(x=x.length===z?y(x.nextSibling,!0):x.parentNode,d=0===B?y(d.previousSibling,!1):d.parentNode,x&&x===d))?x:c&&3==c.nodeType?c.parentNode:c):(c=u.item?u.item(0):u.parentElement(),c.ownerDocument!==A.win.document&&(c=w),c):w},getSelectedBlocks:function(u,z){var x=this,e=x.dom,y,d,w=[];if(d=e.getRoot(),u=e.getParent(u||x.getStart(),e.isBlock),z=e.getParent(z||x.getEnd(),e.isBlock),u&&u!=d&&w.push(u),u&&z&&u!=z){y=u;for(var c=new k(u,d);(y=c.next())&&y!=z;){e.isBlock(y)&&w.push(y)}}return z&&u!=z&&z!=d&&w.push(z),w},isForward:function(){var d=this.dom,a=this.getSel(),i,c;return a&&a.anchorNode&&a.focusNode?(i=d.createRng(),i.setStart(a.anchorNode,a.anchorOffset),i.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return q.range&&new j(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var i=this,c;return i.selectorChangedData||(i.selectorChangedData={},c={},i.editor.on("NodeChange",function(s){var r=s.element,n=i.dom,u=n.getParents(r,null,n.getRoot()),l={};p(i.selectorChangedData,function(w,o){p(u,function(e){return n.is(e,o)?(c[o]||(p(w,function(x){x(!0,{node:e,selector:o,parents:u})}),c[o]=w),l[o]=w,!1):void 0})}),p(c,function(o,w){l[w]||(delete c[w],p(o,function(x){x(!1,{node:r,selector:w,parents:u})}))})})),i.selectorChangedData[d]||(i.selectorChangedData[d]=[]),i.selectorChangedData[d].push(a),i},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(z){function C(i){for(var a=0,l=0,c=i;c&&c.nodeType;){a+=c.offsetLeft||0,l+=c.offsetTop||0,c=c.offsetParent}return{x:a,y:l}}var w,d,y=this,u=y.dom,B=u.getRoot(),D,x;if("BODY"!=B.nodeName){var A=y.getScrollContainer();if(A){return w=C(z).y-C(A).y,x=A.clientHeight,D=A.scrollTop,void ((D>w||w+25>D+x)&&(A.scrollTop=D>w?w:w-x+25))}}d=u.getViewPort(y.editor.getWin()),w=u.getPos(z).y,D=d.y,x=d.h,(w<d.y||w+25>D+x)&&y.editor.getWin().scrollTo(0,D>w?w:w-x+25)},placeCaretAt:function(l,c){var u=this.editor.getDoc(),d,a;if(u.caretPositionFromPoint){a=u.caretPositionFromPoint(l,c),d=u.createRange(),d.setStart(a.offsetNode,a.offset),d.collapse(!0)}else{if(u.caretRangeFromPoint){d=u.caretRangeFromPoint(l,c)}else{if(u.body.createTextRange){d=u.body.createTextRange();try{d.moveToPoint(l,c),d.collapse(!0)}catch(s){d.collapse(c<u.body.clientHeight)}}}}this.setRng(d)},_moveEndPoint:function(c,u,e){var a=u,l=new k(u,a),d=this.dom.schema.getNonEmptyElements();do{if(3==u.nodeType&&0!==t(u.nodeValue).length){return void (e?c.setStart(u,0):c.setEnd(u,u.nodeValue.length))}if(d[u.nodeName]&&!/^(TD|TH)$/.test(u.nodeName)){return void (e?c.setStartBefore(u):"BR"==u.nodeName?c.setEndBefore(u):c.setEndAfter(u))}if(q.ie&&q.ie<11&&this.dom.isBlock(u)&&this.dom.isEmpty(u)){return void (e?c.setStart(u,0):c.setEnd(u,0))}}while(u=e?l.next():l.prev());"BODY"==a.nodeName&&(e?c.setStart(a,0):c.setEnd(a,a.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},h}),aL(bu,[bz,a2],function(c,a){function d(e){this.compare=function(j,g){function h(i){var k={};return b(e.getAttribs(i),function(m){var l=m.nodeName.toLowerCase();0!==l.indexOf("_")&&"style"!==l&&"data-mce-style"!==l&&(k[l]=e.getAttrib(i,l))}),k}function f(l,i){var m,k;for(k in l){if(l.hasOwnProperty(k)){if(m=i[k],"undefined"==typeof m){return !1}if(l[k]!=m){return !1}delete i[k]}}for(k in i){if(i.hasOwnProperty(k)){return !1}}return !0}return j.nodeName!=g.nodeName?!1:f(h(j),h(g))&&f(e.parseStyle(e.getAttrib(j,"style")),e.parseStyle(e.getAttrib(g,"style")))?!c.isBookmarkNode(j)&&!c.isBookmarkNode(g):!1}}var b=a.each;return d}),aL(bv,[a2],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),aL(bD,[aR,aF,bz,bu,a2,bv],function(d,b,g,c,a,f){return function(db){function cX(h){return h.nodeType&&(h=h.nodeName),!!db.schema.getTextBlockElements()[h.toLowerCase()]}function c1(h){return/^(TH|TD)$/.test(h.nodeName)}function c8(h){return h&&/^(IMG)$/.test(h.nodeName)}function cW(j,h){return cY.getParents(j,h,cY.getRoot())}function c7(h){return 1===h.nodeType&&"_mce_caret"===h.id}function c6(){c0({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(j,h,k){cN(k,function(l,m){cY.setAttrib(j,m,l)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cN("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(h){c0(h,{block:h,remove:"all"})}),c0(db.settings.formats)}function c4(){db.addShortcut("meta+b","bold_desc","Bold"),db.addShortcut("meta+i","italic_desc","Italic"),db.addShortcut("meta+u","underline_desc","Underline");for(var h=1;6>=h;h++){db.addShortcut("access+"+h,"",["FormatBlock",!1,"h"+h])}db.addShortcut("access+7","",["FormatBlock",!1,"p"]),db.addShortcut("access+8","",["FormatBlock",!1,"div"]),db.addShortcut("access+9","",["FormatBlock",!1,"address"])}function cZ(h){return h?cK[h]:cK}function c0(j,h){j&&("string"!=typeof j?cN(j,function(l,k){c0(k,l)}):(h=h.length?h:[h],cN(h,function(k){k.deep===cR&&(k.deep=!k.selector),k.split===cR&&(k.split=!k.selector||k.inline),k.remove===cR&&k.selector&&!k.inline&&(k.remove="none"),k.selector&&k.inline&&(k.mixed=!0,k.block_expand=!0),"string"==typeof k.classes&&(k.classes=k.classes.split(/\s+/))}),cK[j]=h))}function c5(h){return h&&cK[h]&&delete cK[h],cK}function cV(j){var h;return db.dom.getParent(j,function(k){return h=db.dom.getStyle(k,"text-decoration"),h&&"none"!==h}),h}function cQ(j){var h;1===j.nodeType&&j.parentNode&&1===j.parentNode.nodeType&&(h=cV(j.parentNode),db.dom.getStyle(j,"color")&&h?db.dom.setStyle(j,"text-decoration",h):db.dom.getStyle(j,"text-decoration")===h&&db.dom.setStyle(j,"text-decoration",null))}function c9(B,p,j){function v(m,l){if(l=l||A,m){if(l.onformat&&l.onformat(m,l,p,j),cN(l.styles,function(u,C){cY.setStyle(m,C,cE(u,p))}),l.styles){var h=cY.getAttrib(m,"style");h&&m.setAttribute("data-mce-style",h)}cN(l.attributes,function(u,C){cY.setAttrib(m,C,cE(u,p))}),cN(l.classes,function(u){u=cE(u,p),cY.hasClass(m,u)||cY.addClass(m,u)})}}function k(){function u(F,G){var l=new d(G);for(j=l.current();j;j=l.prev()){if(j.childNodes.length>1||j==F||"BR"==j.tagName){return j}}}var E=db.selection.getRng(),m=E.startContainer,D=E.endContainer;if(m!=D&&0===E.endOffset){var C=u(m,D),h=3==C.nodeType?C.length:C.childNodes.length;E.setEnd(C,h)}return E}function s(F,D,G){var u=[],m,E,C=!0;m=A.inline||A.block,E=cY.create(m),v(E),cw.walk(F,function(H){function h(M){var L,K,N,J,I;return I=C,L=M.nodeName.toLowerCase(),K=M.parentNode.nodeName.toLowerCase(),1===M.nodeType&&cM(M)&&(I=C,C="true"===cM(M),J=!0),cp(L,"br")?(l=0,void (A.block&&cY.remove(M))):A.wrapper&&cT(M,B,p)?void (l=0):C&&!J&&A.block&&!A.wrapper&&cX(L)&&n(K,m)?(M=cY.rename(M,m),v(M),u.push(M),void (l=0)):A.selector&&(cN(z,function(O){"collapsed" in O&&O.collapsed!==q||cY.is(M,O.selector)&&!c7(M)&&(v(M,O),N=!0)}),!A.inline||N)?void (l=0):void (!C||J||!n(m,L)||!n(K,m)||!G&&3===M.nodeType&&1===M.nodeValue.length&&65279===M.nodeValue.charCodeAt(0)||c7(M)||A.inline&&cA(M)?(l=0,cN(cL(M.childNodes),h),J&&(C=I),l=0):(l||(l=cY.clone(E,da),M.parentNode.insertBefore(l,M),u.push(l)),l.appendChild(M)))}var l;cN(H,h)}),A.links===!0&&cN(u,function(l){function h(H){"A"===H.nodeName&&v(H,A),cN(cL(H.childNodes),h)}h(l)}),cN(u,function(H){function l(K){var J=0;return cN(K.childNodes,function(L){cv(L)||cJ(L)||J++}),J}function I(K){var J,L;return cN(K.childNodes,function(M){return 1!=M.nodeType||cJ(M)||c7(M)?void 0:(J=M,da)}),J&&!cJ(J)&&bt(J,A)&&(L=cY.clone(J,da),v(L),cY.replace(L,K,r),cY.remove(J,1)),L||K}var h;if(h=l(H),(u.length>1||!cA(H))&&0===h){return void cY.remove(H,1)}if(A.inline||A.wrapper){if(A.exact||1!==h||(H=I(H)),cN(z,function(J){cN(cY.select(J.inline,H),function(K){cJ(K)||cs(J,p,K,J.exact?K:null)})}),cT(H.parentNode,B,p)){return cY.remove(H,1),H=0,r}A.merge_with_parents&&cY.getParent(H.parentNode,function(J){return cT(J,B,p)?(cY.remove(H,1),H=0,r):void 0}),H&&A.merge_siblings!==!1&&(H=cP(cB(H),H),H=cP(H,cB(H,r)))}})}var z=cZ(B),A=z[0],y,w,q=!j&&c3.isCollapsed();if(A){if(j){j.nodeType?(w=cY.createRng(),w.setStartBefore(j),w.setEndAfter(j),s(cz(w,z),null,!0)):s(j,null,!0)}else{if(q&&A.inline&&!cY.select("td.mce-item-selected,th.mce-item-selected").length){at("apply",B,p)}else{var x=db.selection.getNode();o||!z[0].defaultBlock||cY.getParent(x,cY.isBlock)||c9(z[0].defaultBlock),db.selection.setRng(k()),y=c3.getBookmark(),s(cz(c3.getRng(r),z),y),A.styles&&(A.styles.color||A.styles.textDecoration)&&(cU(x,cQ,"childNodes"),cQ(x)),c3.moveToBookmark(y),be(c3.getRng(r)),db.nodeChanged()}}}}function cS(x,D,l,j){function q(F){var H,y,G,h,m;if(1===F.nodeType&&cM(F)&&(h=B,B="true"===cM(F),m=!0),H=cL(F.childNodes),B&&!m){for(y=0,G=u.length;G>y&&!cs(u[y],D,F,F);y++){}}if(p.deep&&H.length){for(y=0,G=H.length;G>y;y++){q(H[y])}m&&(B=h)}}function k(m){var h;return cN(cW(m.parentNode).reverse(),function(y){var s;h||"_start"==y.id||"_end"==y.id||(s=cT(y,x,D,j),s&&s.split!==!1&&(h=y))}),h}function E(H,y,h,G){var m,J,L,F,I,K;if(H){for(K=H.parentNode,m=y.parentNode;m&&m!=K;m=m.parentNode){for(J=cY.clone(m,da),I=0;I<u.length;I++){if(cs(u[I],D,J,J)){J=0;break}}J&&(L&&J.appendChild(L),F||(F=J),L=J)}!G||p.mixed&&cA(H)||(y=cY.split(H,y)),L&&(h.parentNode.insertBefore(L,h),F.appendChild(h))}return y}function A(h){return E(k(h),h,h,!0)}function z(m){var h=cY.get(m?"_start":"_end"),s=h[m?"firstChild":"lastChild"];return cJ(s)&&(s=s[m?"firstChild":"lastChild"]),3==s.nodeType&&0===s.data.length&&(s=m?h.previousSibling||h.nextSibling:h.nextSibling||h.previousSibling),cY.remove(h,!0),s}function w(s){var h,y,m=s.commonAncestorContainer;if(s=cz(s,u,r),p.split){if(h=t(s,r),y=t(s),h!=y){if(/^(TR|TH|TD)$/.test(h.nodeName)&&h.firstChild&&(h="TR"==h.nodeName?h.firstChild.firstChild||h:h.firstChild||h),m&&/^T(HEAD|BODY|FOOT|R)$/.test(m.nodeName)&&c1(y)&&y.firstChild&&(y=y.firstChild||y),cY.isChildOf(h,y)&&!cA(y)&&!c1(h)&&!c1(y)){return h=cu(h,"span",{id:"_start","data-mce-type":"bookmark"}),A(h),void (h=z(r))}h=cu(h,"span",{id:"_start","data-mce-type":"bookmark"}),y=cu(y,"span",{id:"_end","data-mce-type":"bookmark"}),A(h),A(y),h=z(r),y=z()}else{h=y=A(h)}s.startContainer=h.parentNode?h.parentNode:h,s.startOffset=cx(h),s.endContainer=y.parentNode?y.parentNode:y,s.endOffset=cx(y)+1}cw.walk(s,function(F){cN(F,function(G){q(G),1===G.nodeType&&"underline"===db.dom.getStyle(G,"text-decoration")&&G.parentNode&&"underline"===cV(G.parentNode)&&cs({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,G)})})}var u=cZ(x),p=u[0],v,C,B=!0;return l?void (l.nodeType?(C=cY.createRng(),C.setStartBefore(l),C.setEndAfter(l),w(C)):w(l)):void (c3.isCollapsed()&&p.inline&&!cY.select("td.mce-item-selected,th.mce-item-selected").length?at("remove",x,D,j):(v=c3.getBookmark(),w(c3.getRng(r)),c3.moveToBookmark(v),p.inline&&dc(x,D,c3.getStart())&&be(c3.getRng(!0)),db.nodeChanged()))}function cF(k,h,l){var j=cZ(k);!dc(k,h,l)||"toggle" in j[0]&&!j[0].toggle?c9(k,h,l):cS(k,h,l)}function cT(q,v,k,h){function p(C,A,z){var D,y,B=A[z],x;if(A.onmatch){return A.onmatch(C,A,z)}if(B){if(B.length===cR){for(D in B){if(B.hasOwnProperty(D)){if(y="attributes"===z?cY.getAttrib(C,D):cI(C,D),h&&!y&&!A.exact){return}if((!h||A.exact)&&!cp(y,cH(cE(B[D],k),D))){return}}}}else{for(x=0;x<B.length;x++){if("attributes"===z?cY.getAttrib(C,B[x]):cI(C,B[x])){return A}}}}return A}var j=cZ(v),u,w,m;if(j&&q){for(w=0;w<j.length;w++){if(u=j[w],bt(q,u)&&p(q,u,"attributes")&&p(q,u,"styles")){if(m=u.classes){for(w=0;w<m.length;w++){if(!cY.hasClass(q,m[w])){return}}}return u}}}}function dc(l,j,m){function k(q){var p=cY.getRoot();return q===p?!1:(q=cY.getParent(q,function(s){return s.parentNode===p||!!cT(s,l,j,!0)}),cT(q,l,j))}var h;return m?k(m):(m=c3.getNode(),k(m)?r:(h=c3.getStart(),h!=m&&k(h)?r:da))}function cC(l,j){var m,k=[],h={};return m=c3.getStart(),cY.getParent(m,function(s){var q,p;for(q=0;q<l.length;q++){p=l[q],!h[p]&&cT(s,p,j)&&(h[p]=!0,k.push(p))}},cY.getRoot()),k}function ct(m){var k=cZ(m),q,l,j,p,h;if(k){for(q=c3.getStart(),l=cW(q),p=k.length-1;p>=0;p--){if(h=k[p].selector,!h||k[p].defaultBlock){return r}for(j=l.length-1;j>=0;j--){if(cY.is(l[j],h)){return r}}}}return da}function co(k,h,l){var j;return e||(e={},j={},db.on("NodeChange",function(p){var m=cW(p.element),q={};m=a.grep(m,function(s){return 1==s.nodeType&&!s.getAttribute("data-mce-bogus")}),cN(e,function(u,s){cN(m,function(v){return cT(v,s,{},u.similar)?(j[s]||(cN(u,function(w){w(!0,{node:v,format:s,parents:m})}),j[s]=u),q[s]=u,!1):void 0})}),cN(j,function(s,u){q[u]||(delete j[u],cN(s,function(v){v(!1,{node:p.element,format:u,parents:m})}))})})),cN(k.split(","),function(m){e[m]||(e[m]=[],e[m].similar=l),e[m].push(h)}),this}function c2(h){return f.getCssText(db,h)}function bt(j,h){return cp(j,h.inline)?r:cp(j,h.block)?r:h.selector?1==j.nodeType&&cY.is(j,h.selector):void 0}function cp(j,h){return j=j||"",h=h||"",j=""+(j.nodeName||j),h=""+(h.nodeName||h),j.toLowerCase()==h.toLowerCase()}function cI(j,h){return cH(cY.getStyle(j,h),h)}function cH(j,h){return("color"==h||"backgroundColor"==h)&&(j=cY.toHex(j)),"fontWeight"==h&&700==j&&(j="bold"),"fontFamily"==h&&(j=j.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+j}function cE(j,h){return"string"!=typeof j?j=j(h):h&&(j=j.replace(/%(\w+)/g,function(k,l){return h[l]||k})),j}function cv(h){return h&&3===h.nodeType&&/^([\t \r\n]+|)$/.test(h.nodeValue)}function cu(k,h,l){var j=cY.create(h,l);return k.parentNode.insertBefore(j,k),j.appendChild(k),j}function cz(H,s,j){function x(y){function m(J){return"BR"==J.nodeName&&J.getAttribute("data-mce-bogus")&&!J.nextSibling}var v,l,I,h,p;if(v=l=y?A:F,h=y?"previousSibling":"nextSibling",p=cY.getRoot(),3==v.nodeType&&!cv(v)&&(y?G>0:E<v.nodeValue.length)){return v}for(;;){if(!s[0].block_expand&&cA(l)){return l}for(I=l[h];I;I=I[h]){if(!cJ(I)&&!cv(I)&&!m(I)){return l}}if(l.parentNode==p){v=l;break}l=l.parentNode}return v}function q(l,h){for(h===cR&&(h=3===l.nodeType?l.length:l.childNodes.length);l&&l.hasChildNodes();){l=l.childNodes[h],l&&(h=3===l.nodeType?l.length:l.childNodes.length)}return{node:l,offset:h}}function w(l){for(var h=l;h;){if(1===h.nodeType&&cM(h)){return"false"===cM(h)?h:l}h=h.parentNode}return l}function D(v,K,p){function I(M,L){var O,N,l=M.nodeValue;return"undefined"==typeof L&&(L=p?l.length:0),p?(O=l.lastIndexOf(" ",L),N=l.lastIndexOf("\xa0",L),O=O>N?O:N,-1===O||j||O++):(O=l.indexOf(" ",L),N=l.indexOf("\xa0",L),O=-1!==O&&(-1===N||N>O)?O:N),O}var y,h,J,m;if(3===v.nodeType){if(J=I(v,K),-1!==J){return{container:v,offset:J}}m=v}for(y=new d(v,cY.getParent(v,cA)||db.getBody());h=y[p?"prev":"next"]();){if(3===h.nodeType){if(m=h,J=I(h),-1!==J){return{container:h,offset:J}}}else{if(cA(h)){break}}}return m?(K=p?0:m.length,{container:m,offset:K}):void 0}function C(v,p){var l,y,h,m;for(3==v.nodeType&&0===v.nodeValue.length&&v[p]&&(v=v[p]),l=cW(v),y=0;y<l.length;y++){for(h=0;h<s.length;h++){if(m=s[h],!("collapsed" in m&&m.collapsed!==H.collapsed)&&cY.is(l[y],m.selector)){return l[y]}}}return v}function B(p,l){var m,h=cY.getRoot();if(s[0].wrapper||(m=cY.getParent(p,s[0].block,h)),m||(m=cY.getParent(3==p.nodeType?p.parentNode:p,function(v){return v!=h&&cX(v)})),m&&s[0].wrapper&&(m=cW(m,"ul,ol").reverse()[0]||m),!m){for(m=p;m[l]&&!cA(m[l])&&(m=m[l],!cp(m,"br"));){}}return m||p}var z,k,u,A=H.startContainer,G=H.startOffset,F=H.endContainer,E=H.endOffset;if(1==A.nodeType&&A.hasChildNodes()&&(z=A.childNodes.length-1,A=A.childNodes[G>z?z:G],3==A.nodeType&&(G=0)),1==F.nodeType&&F.hasChildNodes()&&(z=F.childNodes.length-1,F=F.childNodes[E>z?z:E-1],3==F.nodeType&&(E=F.nodeValue.length)),A=w(A),F=w(F),(cJ(A.parentNode)||cJ(A))&&(A=cJ(A)?A:A.parentNode,A=A.nextSibling||A,3==A.nodeType&&(G=0)),(cJ(F.parentNode)||cJ(F))&&(F=cJ(F)?F:F.parentNode,F=F.previousSibling||F,3==F.nodeType&&(E=F.length)),s[0].inline&&(H.collapsed&&(u=D(A,G,!0),u&&(A=u.container,G=u.offset),u=D(F,E),u&&(F=u.container,E=u.offset)),k=q(F,E),k.node)){for(;k.node&&0===k.offset&&k.node.previousSibling;){k=q(k.node.previousSibling)}k.node&&k.offset>0&&3===k.node.nodeType&&" "===k.node.nodeValue.charAt(k.offset-1)&&k.offset>1&&(F=k.node,F.splitText(k.offset-1))}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==A.nodeType&&0!==G||(A=x(!0)),s[0].inline&&3==F.nodeType&&E!==F.nodeValue.length||(F=x())),s[0].selector&&s[0].expand!==da&&!s[0].inline&&(A=C(A,"previousSibling"),F=C(F,"nextSibling")),(s[0].block||s[0].selector)&&(A=B(A,"previousSibling"),F=B(F,"nextSibling"),s[0].block&&(cA(A)||(A=x(!0)),cA(F)||(F=x()))),1==A.nodeType&&(G=cx(A),A=A.parentNode),1==F.nodeType&&(E=cx(F)+1,F=F.parentNode),{startContainer:A,startOffset:G,endContainer:F,endOffset:E}}function cr(j,h){return h.links&&"A"==j.tagName}function cs(m,k,q,l){var j,p,h;if(!bt(q,m)&&!cr(q,m)){return da}if("all"!=m.remove){for(cN(m.styles,function(s,u){s=cH(cE(s,k),u),"number"==typeof u&&(u=s,l=0),(m.remove_similar||!l||cp(cI(l,u),s))&&cY.setStyle(q,u,""),h=1}),h&&""===cY.getAttrib(q,"style")&&(q.removeAttribute("style"),q.removeAttribute("data-mce-style")),cN(m.attributes,function(u,s){var v;if(u=cE(u,k),"number"==typeof s&&(s=u,l=0),!l||cp(cY.getAttrib(l,s),u)){if("class"==s&&(u=cY.getAttrib(q,s),u&&(v="",cN(u.split(/\s+/),function(w){/mce\-\w+/.test(w)&&(v+=(v?" ":"")+w)}),v))){return void cY.setAttrib(q,s,v)}"class"==s&&q.removeAttribute("className"),i.test(s)&&q.removeAttribute("data-mce-"+s),q.removeAttribute(s)}}),cN(m.classes,function(s){s=cE(s,k),(!l||cY.hasClass(l,s))&&cY.removeClass(q,s)}),p=cY.getAttribs(q),j=0;j<p.length;j++){if(0!==p[j].nodeName.indexOf("_")){return da}}}return"none"!=m.remove?(cy(q,m),r):void 0}function cy(l,j){function m(q,p,s){return q=cB(q,p,s),!q||"BR"==q.nodeName||cA(q)}var k=l.parentNode,h;j.block&&(o?k==cY.getRoot()&&(j.list_block&&cp(l,j.list_block)||cN(cL(l.childNodes),function(p){n(o,p.nodeName.toLowerCase())?h?h.appendChild(p):(h=cu(p,o),cY.setAttribs(h,db.settings.forced_root_block_attrs)):h=0})):cA(l)&&!cA(k)&&(m(l,da)||m(l.firstChild,r,1)||l.insertBefore(cY.create("br"),l.firstChild),m(l,r)||m(l.lastChild,da,1)||l.appendChild(cY.create("br")))),j.selector&&j.inline&&!cp(j.inline,l)||cY.remove(l,1)}function cB(j,h,k){if(j){for(h=h?"nextSibling":"previousSibling",j=k?j:j[h];j;j=j[h]){if(1==j.nodeType||!cv(j)){return j}}}}function cP(l,k){function p(s,q){for(j=s;j;j=j[q]){if(3==j.nodeType&&0!==j.nodeValue.length){return s}if(1==j.nodeType&&!cJ(j)){return j}}return s}var j,m,h=new c(cY);if(l&&k&&(l=p(l,"previousSibling"),k=p(k,"nextSibling"),h.compare(l,k))){for(j=l.nextSibling;j&&j!=k;){m=j,j=j.nextSibling,l.appendChild(m)}return cY.remove(k),cN(cL(k.childNodes),function(q){l.appendChild(q)}),l}return k}function t(j,m){var k,h,l;return k=j[m?"startContainer":"endContainer"],h=j[m?"startOffset":"endOffset"],1==k.nodeType&&(l=k.childNodes.length-1,!m&&h&&h--,k=k.childNodes[h>l?l:h]),3===k.nodeType&&m&&h>=k.nodeValue.length&&(k=new d(k,db.getBody()).next()||k),3!==k.nodeType||m||0!==h||(k=new d(k,db.getBody()).prev()||k),k}function at(E,p,j,w){function k(l){var h=cY.create("span",{id:y,"data-mce-bogus":!0,style:C?"color:red":""});return l&&h.appendChild(db.getDoc().createTextNode(cq)),h}function s(l,h){for(;l;){if(3===l.nodeType&&l.nodeValue!==cq||l.childNodes.length>1){return !1}h&&1===l.nodeType&&h.push(l),l=l.firstChild}return !0}function B(h){for(;h;){if(h.id===y){return h}h=h.parentNode}}function D(h){var l;if(h){for(l=new d(h,h),h=l.current();h;h=l.next()){if(3===h.nodeType){return h}}}}function A(m,h){var u,l;if(m){l=c3.getRng(!0),s(m)?(h!==!1&&(l.setStartBefore(m),l.setEndBefore(m)),cY.remove(m)):(u=D(m),u.nodeValue.charAt(0)===cq&&(u.deleteData(0,1),l.startContainer==u&&l.startOffset>0&&l.setStart(u,l.startOffset-1),l.endContainer==u&&l.endOffset>0&&l.setEnd(u,l.endOffset-1)),cY.remove(m,1)),c3.setRng(l)}else{if(m=B(c3.getStart()),!m){for(;m=cY.get(y);){A(m,!1)}}}}function z(){var G,v,u,m,F,h,H;G=c3.getRng(!0),m=G.startOffset,h=G.startContainer,H=h.nodeValue,v=B(c3.getStart()),v&&(u=D(v)),H&&m>0&&m<H.length&&/\w/.test(H.charAt(m))&&/\w/.test(H.charAt(m-1))?(F=c3.getBookmark(),G.collapse(!0),G=cz(G,cZ(p)),G=cw.split(G),c9(p,j,G),c3.moveToBookmark(F)):(v&&u.nodeValue===cq?c9(p,j,v):(v=k(!0),u=v.firstChild,G.insertNode(v),m=1,c9(p,j,v)),c3.setCursorLocation(u,m))}function x(){var J=c3.getRng(!0),O,M,F,L,N,K,I=[],G,v;for(O=J.startContainer,M=J.startOffset,N=O,3==O.nodeType&&(M!=O.nodeValue.length&&(L=!0),N=N.parentNode);N;){if(cT(N,p,j,w)){K=N;break}N.nextSibling&&(L=!0),I.push(N),N=N.parentNode}if(K){if(L){F=c3.getBookmark(),J.collapse(!0),J=cz(J,cZ(p),!0),J=cw.split(J),cS(p,j,J),c3.moveToBookmark(F)}else{for(v=k(),N=v,G=I.length-1;G>=0;G--){N.appendChild(cY.clone(I[G],!1)),N=N.firstChild}N.appendChild(cY.doc.createTextNode(cq)),N=N.firstChild;var H=cY.getParent(K,cX);H&&cY.isEmpty(H)?K.parentNode.replaceChild(v,K):cY.insertAfter(v,K),c3.setCursorLocation(N,1),cY.isEmpty(K)&&cY.remove(K)}}}function q(){var h;h=B(c3.getStart()),h&&!cY.isEmpty(h)&&cU(h,function(l){1!=l.nodeType||l.id===y||cY.isEmpty(l)||cY.setAttrib(l,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",C=db.settings.caret_debug;db._hasCaretEvents||(cD=function(){var l=[],h;if(s(B(c3.getStart()),l)){for(h=l.length;h--;){cY.setAttrib(l[h],"data-mce-bogus","1")}}},cO=function(l){var h=l.keyCode;A(),8==h&&c3.isCollapsed()&&c3.getStart().innerHTML==cq&&A(B(c3.getStart())),(37==h||39==h)&&A(B(c3.getStart())),q()},db.on("SetContent",function(h){h.selection&&q()}),db._hasCaretEvents=!0),"apply"==E?z():x()}function be(m){var v=m.startContainer,q=m.startOffset,k,u,j,p,h;if((m.startContainer!=m.endContainer||!c8(m.startContainer.childNodes[m.startOffset]))&&(3==v.nodeType&&q>=v.nodeValue.length&&(q=cx(v),v=v.parentNode,k=!0),1==v.nodeType)){for(p=v.childNodes,v=p[Math.min(q,p.length-1)],u=new d(v,cY.getParent(v,cY.isBlock)),(q>p.length-1||k)&&u.next(),j=u.current();j;j=u.next()){if(3==j.nodeType&&!cv(j)){return h=cY.create("a",{"data-mce-bogus":"all"},cq),j.parentNode.insertBefore(h,j),m.setStart(j,0),c3.setRng(m),void cY.remove(h)}}}}var cK={},cY=db.dom,c3=db.selection,cw=new b(cY),n=db.schema.isValidChild,cA=cY.isBlock,o=db.settings.forced_root_block,cx=cY.nodeIndex,cq="\ufeff",i=/^(src|href|style)$/,da=!1,r=!0,e,cR,cM=cY.getContentEditable,cO,cD,cJ=g.isBookmarkNode,cN=a.each,cL=a.grep,cU=a.walk,cG=a.extend;cG(this,{get:cZ,register:c0,unregister:c5,apply:c9,remove:cS,toggle:cF,match:dc,matchAll:cC,matchNode:cT,canApply:ct,formatChanged:co,getCssText:c2}),c6(),c4(),db.on("BeforeGetContent",function(h){cD&&"raw"!=h.format&&cD()}),db.on("mouseup keydown",function(h){cO&&cO(h)})}}),aL(bJ,[bL,aH,a2,bq],function(d,b,g,c){var a=g.trim,f;return f=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(o){function i(){var x=o.getContent({format:"raw",no_events:1}),B=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,h,y,e,A,w,z=o.schema;for(x=x.replace(f,""),w=z.getShortEndedElements();A=B.exec(x);){y=B.lastIndex,e=A[0].length,h=w[A[1]]?y:c.findEndTag(z,x,y),x=x.substring(0,y-e)+x.substring(h),B.lastIndex=y-e}return a(x)}function r(e){o.isNotDirty=!e}function v(h){j.typing=!1,j.add({},h)}var j=this,q=0,t=[],p,m,k=0;return o.on("init",function(){j.add()}),o.on("BeforeExecCommand",function(l){var h=l.command;"Undo"!=h&&"Redo"!=h&&"mceRepaint"!=h&&j.beforeChange()}),o.on("ExecCommand",function(l){var h=l.command;"Undo"!=h&&"Redo"!=h&&"mceRepaint"!=h&&v(l)}),o.on("ObjectResizeStart Cut",function(){j.beforeChange()}),o.on("SaveContent ObjectResized blur",v),o.on("DragEnd",v),o.on("KeyUp",function(h){var e=h.keyCode;h.isDefaultPrevented()||((e>=33&&36>=e||e>=37&&40>=e||45==e||13==e||h.ctrlKey)&&(v(),o.nodeChanged()),(46==e||8==e||b.mac&&(91==e||93==e))&&o.nodeChanged(),m&&j.typing&&(o.isDirty()||(r(t[0]&&i()!=t[0].content),o.isNotDirty||o.fire("change",{level:t[0],lastLevel:null})),o.fire("TypingUndo"),m=!1,o.nodeChanged()))}),o.on("KeyDown",function(l){var h=l.keyCode;if(!l.isDefaultPrevented()){if(h>=33&&36>=h||h>=37&&40>=h||45==h){return void (j.typing&&v(l))}var s=l.ctrlKey&&!l.altKey||l.metaKey;!(16>h||h>20)||224==h||91==h||j.typing||s||(j.beforeChange(),j.typing=!0,j.add({},l),m=!0)}}),o.on("MouseDown",function(h){j.typing&&v(h)}),o.addShortcut("meta+z","","Undo"),o.addShortcut("meta+y,meta+shift+z","","Redo"),o.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||o.nodeChanged()}),j={data:t,typing:!1,beforeChange:function(){k||(p=o.selection.getBookmark(2,!0))},add:function(n,w){var h,x=o.settings,u;if(n=n||{},n.content=i(),k||o.removed){return null}if(u=t[q],o.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:w}).isDefaultPrevented()){return null}if(u&&u.content==n.content){return null}if(t[q]&&(t[q].beforeBookmark=p),x.custom_undo_redo_levels&&t.length>x.custom_undo_redo_levels){for(h=0;h<t.length-1;h++){t[h]=t[h+1]}t.length--,q=t.length}n.bookmark=o.selection.getBookmark(2,!0),q<t.length-1&&(t.length=q+1),t.push(n),q=t.length-1;var e={level:n,lastLevel:u,originalEvent:w};return o.fire("AddUndo",e),q>0&&(r(!0),o.fire("change",e)),n},undo:function(){var e;return j.typing&&(j.add(),j.typing=!1),q>0&&(e=t[--q],0===q&&r(!1),o.setContent(e.content,{format:"raw"}),o.selection.moveToBookmark(e.beforeBookmark),o.fire("undo",{level:e})),e},redo:function(){var e;return q<t.length-1&&(e=t[++q],o.setContent(e.content,{format:"raw"}),o.selection.moveToBookmark(e.bookmark),r(!0),o.fire("redo",{level:e})),e},clear:function(){t=[],q=0,j.typing=!1,o.fire("ClearUndos")},hasUndo:function(){return q>0||j.typing&&t[0]&&i()!=t[0].content},hasRedo:function(){return q<t.length-1&&!this.typing},transact:function(h){j.beforeChange();try{k++,h()}finally{k--}j.add()}}}}),aL(aB,[aR,aF,aH],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function e(cu){function cx(o){return o&&n.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==n.getContentEditable(o)}function ct(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)}function cv(v){var o;n.isBlock(v)&&(o=q.getRng(),v.appendChild(n.create("span",null,"\xa0")),q.select(v),v.lastChild.outerHTML="",q.setRng(o))}function cy(w){var o=w,x=[],v;if(o){for(;o=o.firstChild;){if(n.isBlock(o)){return}1!=o.nodeType||k[o.nodeName.toLowerCase()]||x.push(o)}for(v=x.length;v--;){o=x[v],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?n.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&n.remove(o)}}}function bt(y){function z(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var x,B,v,C=y,w;if(y){if(d.ie&&d.ie<9&&K&&K.firstChild&&K.firstChild==K.lastChild&&"BR"==K.firstChild.tagName&&n.remove(K.firstChild),/^(LI|DT|DD)$/.test(y.nodeName)){var A=z(y.firstChild);A&&/^(UL|OL|DL)$/.test(A.nodeName)&&y.insertBefore(n.doc.createTextNode("\xa0"),y.firstChild)}if(v=n.createRng(),d.ie||y.normalize(),y.hasChildNodes()){for(x=new c(y,y);B=x.current();){if(3==B.nodeType){v.setStart(B,0),v.setEnd(B,0);break}if(j[B.nodeName.toLowerCase()]){v.setStartBefore(B),v.setEndBefore(B);break}C=B,B=x.next()}B||(v.setStart(C,0),v.setEnd(C,0))}else{"BR"==y.nodeName?y.nextSibling&&n.isBlock(y.nextSibling)?((!at||9>at)&&(w=n.create("br"),y.parentNode.insertBefore(w,y)),v.setStartBefore(y),v.setEndBefore(y)):(v.setStartAfter(y),v.setEndAfter(y)):(v.setStart(y,0),v.setEnd(y,0))}q.setRng(v),n.remove(w),q.scrollIntoView(y)}}function Y(v){var o=g.forced_root_block;o&&o.toLowerCase()===v.tagName.toLowerCase()&&n.setAttribs(v,g.forced_root_block_attrs)}function cz(o){o.innerHTML=b?"":'<br data-mce-bogus="1">'}function ae(y){var w=cp,A,v,z,x=p.getTextInlineElements();if(y||"TABLE"==X?(A=n.create(y||i),Y(A)):A=K.cloneNode(!1),z=A,g.keep_styles!==!1){do{if(x[w.nodeName]){if("_mce_caret"==w.id){continue}v=w.cloneNode(!1),n.setAttrib(v,"id",""),A.hasChildNodes()?(v.appendChild(A.firstChild),A.appendChild(v)):(z=v,A.appendChild(v))}}while(w=w.parentNode)}return b||(z.innerHTML='<br data-mce-bogus="1">'),A}function cq(v){var x,w,o;if(3==cp.nodeType&&(v?Q>0:Q<cp.nodeValue.length)){return !1}if(cp.parentNode==K&&l&&!v){return !0}if(v&&1==cp.nodeType&&cp==K.firstChild){return !0}if("TABLE"===cp.nodeName||cp.previousSibling&&"TABLE"==cp.previousSibling.nodeName){return l&&!v||!l&&v}for(x=new c(cp,K),3==cp.nodeType&&(v&&0===Q?x.prev():v||Q!=cp.nodeValue.length||x.next());w=x.current();){if(1===w.nodeType){if(!w.getAttribute("data-mce-bogus")&&(o=w.nodeName.toLowerCase(),k[o]&&"br"!==o)){return !1}}else{if(3===w.nodeType&&!/^[ \t\r\n]*$/.test(w.nodeValue)){return !1}}v?x.prev():x.next()}return !0}function be(z,C){var x,v,w,D,y,B,A=i||"P";if(v=n.getParent(z,n.isBlock),!v||!cx(v)){if(v=v||cr,B=v==h.getBody()||ct(v)?v.nodeName.toLowerCase():v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes()){return x=n.create(A),Y(x),v.appendChild(x),t.setStart(x,0),t.setEnd(x,0),x}for(D=z;D.parentNode!=v;){D=D.parentNode}for(;D&&!n.isBlock(D);){w=D,D=D.previousSibling}if(w&&p.isValidChild(B,A.toLowerCase())){for(x=n.create(A),Y(x),w.parentNode.insertBefore(x,w),D=w;D&&!n.isBlock(D);){y=D.nextSibling,x.appendChild(D),D=y}t.setStart(z,C),t.setEnd(z,C)}}return z}function cA(){function v(y){for(var x=ce[y?"firstChild":"lastChild"];x&&1!=x.nodeType;){x=x[y?"nextSibling":"previousSibling"]}return x===K}function o(){var x=ce.parentNode;return/^(LI|DT|DD)$/.test(x.nodeName)?x:ce}if(ce!=h.getBody()){var w=ce.parentNode.nodeName;/^(OL|UL|LI)$/.test(w)&&(i="LI"),G=i?ae(i):n.create("BR"),v(!0)&&v()?"LI"==w?n.insertAfter(G,o()):n.replace(G,ce):v(!0)?"LI"==w?(n.insertAfter(G,o()),G.appendChild(n.doc.createTextNode(" ")),G.appendChild(ce)):ce.parentNode.insertBefore(G,ce):v()?(n.insertAfter(G,o()),cv(G)):(ce=o(),cs=t.cloneRange(),cs.setStartAfter(K),cs.setEndAfter(ce),Z=cs.extractContents(),"LI"==i&&"LI"==Z.firstChild.nodeName?(G=Z.firstChild,n.insertAfter(Z,ce)):(n.insertAfter(Z,ce),n.insertAfter(G,ce))),n.remove(K),bt(G),m.add()}}function co(){h.execCommand("InsertLineBreak",!1,cu)}function J(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function s(w){var o=n.getRoot(),x,v;for(x=w;x!==o&&"false"!==n.getContentEditable(x);){"true"===n.getContentEditable(x)&&(v=x),x=x.parentNode}return x!==o?v:o}function cw(v){var o;b||(v.normalize(),o=v.lastChild,(!o||/^(left|right)$/gi.test(n.getStyle(o,"float",!0)))&&n.add(v,"br"))}function r(){G=/^(H[1-6]|PRE|FIGURE)$/.test(X)&&"HGROUP"!=f?ae(i):ae(),g.end_container_on_empty_block&&cx(ce)&&n.isEmpty(K)?G=n.split(ce,K):n.insertAfter(G,K),bt(G)}var t,cs,cr,cp,Q,K,at,u,G,Z,ce,X,f,i,l;if(t=q.getRng(!0),!cu.isDefaultPrevented()){if(!t.collapsed){return void h.execCommand("Delete")}if(new a(n).normalize(t),cp=t.startContainer,Q=t.startOffset,i=(g.force_p_newlines?"p":"")||g.forced_root_block,i=i?i.toUpperCase():"",at=n.doc.documentMode,u=cu.shiftKey,1==cp.nodeType&&cp.hasChildNodes()&&(l=Q>cp.childNodes.length-1,cp=cp.childNodes[Math.min(Q,cp.childNodes.length-1)]||cp,Q=l&&3==cp.nodeType?cp.nodeValue.length:0),cr=s(cp)){if(m.beforeChange(),!n.isBlock(cr)&&cr!=n.getRoot()){return void ((!i||u)&&co())}if((i&&!u||!i&&u)&&(cp=be(cp,Q)),K=n.getParent(cp,n.isBlock),ce=K?n.getParent(K.parentNode,n.isBlock):null,X=K?K.nodeName.toUpperCase():"",f=ce?ce.nodeName.toUpperCase():"","LI"!=f||cu.ctrlKey||(K=ce,X=f),/^(LI|DT|DD)$/.test(X)){if(!i&&u){return void co()}if(n.isEmpty(K)){return void cA()}}if("PRE"==X&&g.br_in_pre!==!1){if(!u){return void co()}}else{if(!i&&!u&&"LI"!=X||i&&u){return void co()}}i&&K===h.getBody()||(i=i||"P",cq()?r():cq(!0)?(G=K.parentNode.insertBefore(ae(),K),cv(G),bt(K)):(cs=t.cloneRange(),cs.setEndAfter(K),Z=cs.extractContents(),J(Z),G=Z.firstChild,n.insertAfter(Z,K),cy(G),cw(K),n.isEmpty(K)&&cz(K),n.isEmpty(G)?(n.remove(G),r()):bt(G)),n.setAttrib(G,"id",""),h.fire("NewBlock",{newBlock:G}),m.add())}}}var n=h.dom,q=h.selection,g=h.settings,m=h.undoManager,p=h.schema,k=p.getNonEmptyElements(),j=p.getMoveCaretBeforeOnEnterElements();h.on("keydown",function(f){13==f.keyCode&&e(f)!==!1&&f.preventDefault()})}}),aL(bk,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,n,e,i=-16777215,o,D,A,z,B;if(B=j.forced_root_block,F&&1===F.nodeType&&B){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(a){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",i),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",i)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,B.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){e=F,F=F.nextSibling,f.remove(e);continue}n||(n=f.create(B,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(n,F),o=!0),e=F,F=F.nextSibling,n.appendChild(e)}else{n=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(a){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aL(bl,[br,aH,a2,bu,aF,aR],function(A,q,b,w,k,D){var F=b.each,v=b.extend,C=b.map,E=b.inArray,B=b.explode,z=q.gecko,x=q.ie,j=q.ie&&q.ie<11,t=!0,y=!1;return function(G){function o(N,M,S,L){var P,r,R=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(N)||L&&L.skip_focus||G.focus(),L=v({},L),L=G.fire("BeforeExecCommand",{command:N,ui:M,value:S}),L.isDefaultPrevented()){return !1}if(r=N.toLowerCase(),P=g.exec[r]){return P(r,M,S),G.fire("ExecCommand",{command:N,ui:M,value:S}),!0}if(F(G.plugins,function(T){return T.execCommand&&T.execCommand(N,M,S)?(G.fire("ExecCommand",{command:N,ui:M,value:S}),R=!0,!1):void 0}),R){return R}if(G.theme&&G.theme.execCommand&&G.theme.execCommand(N,M,S)){return G.fire("ExecCommand",{command:N,ui:M,value:S}),!0}try{R=G.getDoc().execCommand(N,M,S)}catch(H){}return R?(G.fire("ExecCommand",{command:N,ui:M,value:S}),!0):!1}function i(H){var r;if(!G._isHidden()){if(H=H.toLowerCase(),r=g.state[H]){return r(H)}try{return G.getDoc().queryCommandState(H)}catch(L){}return !1}}function O(H){var r;if(!G._isHidden()){if(H=H.toLowerCase(),r=g.value[H]){return r(H)}try{return G.getDoc().queryCommandValue(H)}catch(L){}}}function l(H,r){r=r||"exec",F(H,function(L,M){F(M.toLowerCase().split(","),function(N){g[r][N]=L})})}function u(H,r,L){H=H.toLowerCase(),g.exec[H]=function(P,N,R,M){return r.call(L||G,N,R,M)}}function n(H){if(H=H.toLowerCase(),g.exec[H]){return !0}try{return G.getDoc().queryCommandSupported(H)}catch(r){}return !1}function Q(H,r,L){H=H.toLowerCase(),g.state[H]=function(){return r.call(L||G)}}function p(H,r,L){H=H.toLowerCase(),g.value[H]=function(){return r.call(L||G)}}function f(r){return r=r.toLowerCase(),!!g.exec[r]}function c(H,L,r){return L===aI&&(L=y),r===aI&&(r=null),G.getDoc().execCommand(H,L,r)}function K(r){return h.match(r)}function a(r,H){h.toggle(r,H?{value:H}:aI),G.nodeChanged()}function d(r){e=s.getBookmark(r)}function J(){s.moveToBookmark(e)}var I,s,h,g={state:{},exec:{},value:{}},m=G.settings,e;G.on("PreInit",function(){I=G.dom,s=G.selection,m=G.settings,h=G.formatter}),v(this,{execCommand:o,queryCommandState:i,queryCommandValue:O,queryCommandSupported:n,addCommands:l,addCommand:u,addQueryStateHandler:Q,addQueryValueHandler:p,hasCustomCommand:f}),l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){G.undoManager.add()},"Cut,Copy,Paste":function(M){var L=G.getDoc(),H;try{c(M)}catch(N){H=t}if(H||!L.queryCommandSupported(M)){var r=G.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");q.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),G.windowManager.alert(r)}},unlink:function(){if(s.isCollapsed()){var r=s.getNode();return void ("A"==r.tagName&&G.dom.remove(r,!0))}h.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(H){var r=H.substring(7);"full"==r&&(r="justify"),F("left,center,right,justify".split(","),function(L){r!=L&&h.remove("align"+L)}),"none"!=r&&(a("align"+r),o("mceRepaint"))},"InsertUnorderedList,InsertOrderedList":function(H){var r,L;c(H),r=I.getParent(s.getNode(),"ol,ul"),r&&(L=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(L.nodeName)&&(d(),I.split(L,r),J()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){a(r)},"ForeColor,HiliteColor,FontName":function(H,r,L){a(H,L)},FontSize:function(N,L,P){var M,H;P>=1&&7>=P&&(H=B(m.font_size_style_values),M=B(m.font_size_classes),P=M?M[P-1]||P:H[P-1]||P),a(N,P)},RemoveFormat:function(r){h.remove(r)},mceBlockQuote:function(){a("blockquote")},FormatBlock:function(H,r,L){return a(L||"p")},mceCleanup:function(){var r=s.getBookmark();G.setContent(G.getContent({cleanup:t}),{cleanup:t}),s.moveToBookmark(r)},mceRemoveNode:function(L,H,M){var r=M||s.getNode();r!=G.getBody()&&(d(),G.dom.remove(r,t),J())},mceSelectNodeDepth:function(L,H,M){var r=0;I.getParent(s.getNode(),function(N){return 1==N.nodeType&&r++==M?(s.select(N),y):void 0},G.getBody())},mceSelectNode:function(H,r,L){s.select(L)},mceInsertContent:function(X,at,ae){function ct(cv){function S(cx){return T[cx]&&3==T[cx].nodeType}var cw,T,N;return cw=s.getRng(!0),T=cw.startContainer,N=cw.startOffset,3==T.nodeType&&(N>0?cv=cv.replace(/^&nbsp;/," "):S("previousSibling")||(cv=cv.replace(/^ /,"&nbsp;")),N<T.length?cv=cv.replace(/&nbsp;(<br>|)$/," "):S("nextSibling")||(cv=cv.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),cv}function bt(){var S,N,T;S=s.getRng(!0),N=S.startContainer,T=S.startOffset,3==N.nodeType&&S.collapsed&&("\xa0"===N.data[T]?(N.deleteData(T,1),/[\u00a0| ]$/.test(ae)||(ae+=" ")):"\xa0"===N.data[T-1]&&(N.deleteData(T-1,1),/[\u00a0| ]$/.test(ae)||(ae=" "+ae)))}function cr(N){if(cu){for(P=N.firstChild;P;P=P.walk(!0)){L[P.name]&&P.attr("data-mce-new","true")}}}function V(){if(cu){var S=G.getBody(),N=new w(I);F(I.select("*[data-mce-new]"),function(cv){cv.removeAttribute("data-mce-new");for(var T=cv.parentNode;T&&T!=S;T=T.parentNode){N.compare(T,cv)&&I.remove(cv,!0)}})}}var cq,cp,Z,be,co,U,M,cs,P,Y,R,cu,W,L=G.schema.getTextInlineElements();"string"!=typeof ae&&(cu=ae.merge,W=ae.data,ae=ae.content),/^ | $/.test(ae)&&(ae=ct(ae)),cq=G.parser,cp=new A({validate:m.validate},G.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',U={content:ae,format:"html",selection:!0},G.fire("BeforeSetContent",U),ae=U.content,-1==ae.indexOf("{$caret}")&&(ae+="{$caret}"),ae=ae.replace(/\{\$caret\}/,R),cs=s.getRng();var H=cs.startContainer||(cs.parentElement?cs.parentElement():null),ce=G.getBody();H===ce&&s.isCollapsed()&&I.isBlock(ce.firstChild)&&I.isEmpty(ce.firstChild)&&(cs=I.createRng(),cs.setStart(ce.firstChild,0),cs.setEnd(ce.firstChild,0),s.setRng(cs)),s.isCollapsed()||(G.getDoc().execCommand("Delete",!1,null),bt()),Z=s.getNode();var r={context:Z.nodeName.toLowerCase(),data:W};if(co=cq.parse(ae,r),cr(co),P=co.lastChild,"mce_marker"==P.attr("id")){for(M=P,P=P.prev;P;P=P.walk(!0)){if(3==P.type||!I.isBlock(P.name)){G.schema.isValidChild(P.parent.name,"span")&&P.parent.insert(M,P,"br"===P.name);break}}}if(r.invalid){for(s.setContent(R),Z=s.getNode(),be=G.getBody(),9==Z.nodeType?Z=P=be:P=Z;P!==be;){Z=P,P=P.parentNode}ae=Z==be?be.innerHTML:I.getOuterHTML(Z),ae=cp.serialize(cq.parse(ae.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return cp.serialize(co)}))),Z==be?I.setHTML(be,ae):I.setOuterHTML(Z,ae)}else{ae=cp.serialize(co),P=Z.firstChild,Y=Z.lastChild,!P||P===Y&&"BR"===P.nodeName?I.setHTML(Z,ae):s.setContent(ae)}V(),M=I.get("mce_marker"),s.scrollIntoView(M),cs=I.createRng(),P=M.previousSibling,P&&3==P.nodeType?(cs.setStart(P,P.nodeValue.length),x||(Y=M.nextSibling,Y&&3==Y.nodeType&&(P.appendData(Y.data),Y.parentNode.removeChild(Y)))):(cs.setStartBefore(M),cs.setEndBefore(M)),I.remove(M),s.setRng(cs),G.fire("SetContent",U),G.addVisual()},mceInsertRawHTML:function(H,r,L){s.setContent("tiny_mce_marker"),G.setContent(G.getContent().replace(/tiny_mce_marker/g,function(){return L}))},mceToggleFormat:function(H,r,L){a(L)},mceSetContent:function(H,r,L){G.setContent(L)},"Indent,Outdent":function(L){var H,M,r;H=m.indentation,M=/[a-z%]+$/i.exec(H),H=parseInt(H,10),i("InsertUnorderedList")||i("InsertOrderedList")?c(L):(m.forced_root_block||I.getParent(s.getNode(),I.isBlock)||h.apply("div"),F(s.getSelectedBlocks(),function(P){if("LI"!=P.nodeName){var N=G.getParam("indent_use_margin",!1)?"margin":"padding";N+="rtl"==I.getStyle(P,"direction",!0)?"Right":"Left","outdent"==L?(r=Math.max(0,parseInt(P.style[N]||0,10)-H),I.setStyle(P,N,r?r+M:"")):(r=parseInt(P.style[N]||0,10)+H+M,I.setStyle(P,N,r))}}))},mceRepaint:function(){if(z){try{d(t),s.getSel()&&s.getSel().selectAllChildren(G.getBody()),s.collapse(t),J()}catch(r){}}},InsertHorizontalRule:function(){G.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){G.hasVisual=!G.hasVisual,G.addVisual()},mceReplaceContent:function(H,r,L){G.execCommand("mceInsertContent",!1,L.replace(/\{\$selection\}/g,s.getContent({format:"text"})))},mceInsertLink:function(M,H,N){var L;"string"==typeof N&&(N={href:N}),L=I.getParent(s.getNode(),"a"),N.href=N.href.replace(" ","%20"),L&&N.href||h.remove("link"),N.href&&h.apply("link",N,L)},selectAll:function(){var H=I.getRoot(),r;s.getRng().setStart?(r=I.createRng(),r.setStart(H,0),r.setEnd(H,H.childNodes.length),s.setRng(r)):(r=s.getRng(),r.item||(r.moveToElementText(H),r.select()))},"delete":function(){c("Delete");var r=G.getBody();I.isEmpty(r)&&(G.setContent(""),r.firstChild&&I.isBlock(r.firstChild)?G.selection.setCursorLocation(r.firstChild,0):G.selection.setCursorLocation(r,0))},mceNewDocument:function(){G.setContent("")},InsertLineBreak:function(Z,P,T){function V(){for(var ce=new D(W,M),bt,co=G.schema.getNonEmptyElements();bt=ce.next();){if(co[bt.nodeName.toLowerCase()]||bt.length>0){return !0}}}var R=T,U,at,N,ae=s.getRng(!0);new k(I).normalize(ae);var Y=ae.startOffset,W=ae.startContainer;if(1==W.nodeType&&W.hasChildNodes()){var X=Y>W.childNodes.length-1;W=W.childNodes[Math.min(Y,W.childNodes.length-1)]||W,Y=X&&3==W.nodeType?W.nodeValue.length:0}var M=I.getParent(W,I.isBlock),r=M?M.nodeName.toUpperCase():"",be=M?I.getParent(M.parentNode,I.isBlock):null,H=be?be.nodeName.toUpperCase():"",S=R&&R.ctrlKey;"LI"!=H||S||(M=be,r=H),W&&3==W.nodeType&&Y>=W.nodeValue.length&&(j||V()||(U=I.create("br"),ae.insertNode(U),ae.setStartAfter(U),ae.setEndAfter(U),at=!0)),U=I.create("br"),ae.insertNode(U);var L=I.doc.documentMode;return j&&"PRE"==r&&(!L||8>L)&&U.parentNode.insertBefore(I.doc.createTextNode("\r"),U),N=I.create("span",{},"&nbsp;"),U.parentNode.insertBefore(N,U),s.scrollIntoView(N),I.remove(N),at?(ae.setStartBefore(U),ae.setEndBefore(U)):(ae.setStartAfter(U),ae.setEndAfter(U)),s.setRng(ae),G.undoManager.add(),t}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(M){var H="align"+M.substring(7),N=s.isCollapsed()?[I.getParent(s.getNode(),I.isBlock)]:s.getSelectedBlocks(),L=C(N,function(r){return !!h.matchNode(r,H)});return -1!==E(L,t)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return K(r)},mceBlockQuote:function(){return K("blockquote")},Outdent:function(){var r;if(m.inline_styles){if((r=I.getParent(s.getStart(),I.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return t}if((r=I.getParent(s.getEnd(),I.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return t}}return i("InsertUnorderedList")||i("InsertOrderedList")||!m.inline_styles&&!!I.getParent(s.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(H){var r=I.getParent(s.getNode(),"ul,ol");return r&&("insertunorderedlist"===H&&"UL"===r.tagName||"insertorderedlist"===H&&"OL"===r.tagName)}},"state"),l({"FontSize,FontName":function(H){var r=0,L;return(L=I.getParent(s.getNode(),"span"))&&(r="fontsize"==H?L.style.fontSize:L.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),l({Undo:function(){G.undoManager.undo()},Redo:function(){G.undoManager.redo()}})}}),aL(bm,[a2],function(d){function b(k,m){var i=this,j,h;if(k=c(k),m=i.settings=m||{},j=m.base_uri,/^([\w\-]+):([^\/]{2})/i.test(k)||/^\s*#/.test(k)){return void (i.source=k)}var n=0===k.indexOf("//");0!==k.indexOf("/")||n||(k=(j?j.protocol||"http":"http")+"://mce_host"+k),/^[\w\-]*:?\/\//.test(k)||(h=m.base_uri?m.base_uri.path:new b(location.href).directory,""===m.base_uri.protocol?k="//mce_host"+i.toAbsPath(h,k):(k=/([^#?]*)([#?]?.*)/.exec(k),k=(j&&j.protocol||"http")+"://mce_host"+i.toAbsPath(h,k[1])+k[2])),k=k.replace(/@@/g,"(mce_at)"),k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k),g(a,function(e,o){var l=k[o];l&&(l=l.replace(/\(mce_at\)/g,"@@")),i[e]=l}),j&&(i.protocol||(i.protocol=j.protocol),i.userInfo||(i.userInfo=j.userInfo),i.port||"mce_host"!==i.host||(i.port=j.port),i.host&&"mce_host"!==i.host||(i.host=j.host),i.source=""),n&&(i.protocol="")}var g=d.each,c=d.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(i){var h=this;i=/^(.*?)\/?(\w+)?$/.exec(i),h.path=i[0],h.directory=i[1],h.file=i[2],h.source="",h.getURI()},toRelative:function(k){var m=this,j;if("./"===k){return k}if(k=new b(k,{base_uri:m}),"mce_host"!=k.host&&m.host!=k.host&&k.host||m.port!=k.port||m.protocol!=k.protocol&&""!==k.protocol){return k.getURI()}var h=m.getURI(),l=k.getURI();return h==l||"/"==h.charAt(h.length-1)&&h.substr(0,h.length-1)==l?h:(j=m.toRelPath(m.path,k.path),k.query&&(j+="?"+k.query),k.anchor&&(j+="#"+k.anchor),j)},toAbsolute:function(h,i){return h=new b(h,{base_uri:this}),h.getURI(i&&this.isSameOrigin(h))},isSameOrigin:function(i){if(this.host==i.host&&this.protocol==i.protocol){if(this.port==i.port){return !0}var h=f[this.protocol];if(h&&(this.port||h)==(i.port||h)){return !0}}return !1},toRelPath:function(m,k){var q,l=0,j="",p,h;if(m=m.substring(0,m.lastIndexOf("/")),m=m.split("/"),q=k.split("/"),m.length>=q.length){for(p=0,h=m.length;h>p;p++){if(p>=q.length||m[p]!=q[p]){l=p+1;break}}}if(m.length<q.length){for(p=0,h=q.length;h>p;p++){if(p>=m.length||m[p]!=q[p]){l=p+1;break}}}if(1===l){return k}for(p=0,h=m.length-(l-1);h>p;p++){j+="../"}for(p=l-1,h=q.length;h>p;p++){j+=p!=l-1?"/"+q[p]:q[p]}return j},toAbsPath:function(n,k){var m,j=0,p=[],h,l;for(h=/\/$/.test(k)?"/":"",n=n.split("/"),k=k.split("/"),g(n,function(i){i&&p.push(i)}),n=p,m=k.length-1,p=[];m>=0;m--){0!==k[m].length&&"."!==k[m]&&(".."!==k[m]?j>0?j--:p.push(k[m]):j++)}return m=n.length-j,l=0>=m?p.reverse().join("/"):n.slice(0,m).join("/")+"/"+p.reverse().join("/"),0!==l.indexOf("/")&&(l="/"+l),h&&l.lastIndexOf("/")!==l.length-1&&(l+=h),l},getURI:function(i){var h,j=this;return(!j.source||i)&&(h="",i||(h+=j.protocol?j.protocol+"://":"//",j.userInfo&&(h+=j.userInfo+"@"),j.host&&(h+=j.host),j.port&&(h+=":"+j.port)),j.path&&(h+=j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),j.source=h),j.source}},b.parseDataUri=function(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}},b}),aL(b5,[a2],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],"function"==typeof i&&m[k]?o[k]=q(k,i):o[k]=i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),aL(aN,[a2],function(b){function a(x){function h(){return !1}function e(){return !0}function k(r,f){var t,n,d,u;if(r=r.toLowerCase(),f=f||{},f.type=r,f.target||(f.target=w),f.preventDefault||(f.preventDefault=function(){f.isDefaultPrevented=e},f.stopPropagation=function(){f.isPropagationStopped=e},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=e},f.isDefaultPrevented=h,f.isPropagationStopped=h,f.isImmediatePropagationStopped=h),x.beforeFire&&x.beforeFire(f),t=p[r]){for(n=0,d=t.length;d>n;n++){if(u=t[n],u.once&&v(r,u.func),f.isImmediatePropagationStopped()){return f.stopPropagation(),f}if(u.func.call(w,f)===!1){return f.preventDefault(),f}}}return f}function g(u,A,n,B){var f,z,d;if(A===!1&&(A=h),A){for(A={func:A},B&&b.extend(A,B),z=u.toLowerCase().split(" "),d=z.length;d--;){u=z[d],f=p[u],f||(f=p[u]=[],m(u,!0)),n?f.unshift(A):f.push(A)}}return q}function v(u,l){var A,s,f,z,d;if(u){for(z=u.toLowerCase().split(" "),A=z.length;A--;){if(u=z[A],s=p[u],!u){for(f in p){m(f,!1),delete p[f]}return q}if(s){if(l){for(d=s.length;d--;){s[d].func===l&&(s=s.slice(0,d).concat(s.slice(d+1)),p[u]=s)}}else{s.length=0}s.length||(m(u,!1),delete p[u])}}}else{for(u in p){m(u,!1)}p={}}return q}function y(f,d,i){return g(f,d,i,{once:!0})}function j(d){return d=d.toLowerCase(),!(!p[d]||0===p[d].length)}var q=this,w,p={},m;x=x||{},w=x.scope||q,m=x.toggleEvent||h,q.fire=k,q.on=g,q.off=v,q.once=y,q.has=j}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),aL(aW,[],function(){function a(b){this.create=b.create}return a.create=function(b,c){return new a({create:function(h,g){function f(e){h.set(g,e.value)}function j(i){b.set(c,i.value)}var d;return h.on("change:"+g,j),b.on("change:"+c,f),d=h._bindings,d||(d=h._bindings=[],h.on("destroy",function(){for(var i=d.length;i--;){d[i]()}})),d.push(function(){b.off("change:"+c,f)}),b.get(c)}})},a}),aL(bB,[aN],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},once:function(c,d){return a(this).once(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),aL(bh,[aW,bB,b5,a2],function(d,b,g,c){function a(h){return h.nodeType>0}function f(j,i){var k,h;if(j===i){return !0}if(null===j||null===i){return j===i}if("object"!=typeof j||"object"!=typeof i){return j===i}if(c.isArray(i)){if(j.length!==i.length){return !1}for(k=j.length;k--;){if(!f(j[k],i[k])){return !1}}}if(a(j)||a(i)){return j===i}h={};for(k in i){if(!f(j[k],i[k])){return !1}h[k]=!0}for(k in j){if(!h[k]&&!f(j[k],i[k])){return !1}}return !0}return g.extend({Mixins:[b],init:function(e){var i,h;e=e||{};for(i in e){h=e[i],h instanceof d&&(e[i]=h.create(this,i))}this.data=e},set:function(j,l){var k,h,e=this.data[j];if(l instanceof d&&(l=l.create(this,j)),"object"==typeof j){for(k in j){this.set(k,j[k])}return this}return f(e,l)||(this.data[j]=l,h={target:this,name:j,value:l,oldValue:e},this.fire("change:"+j,h),this.fire("change",h)),this},get:function(h){return this.data[h]},has:function(h){return h in this.data},bind:function(e){return d.create(this,e)},destroy:function(){this.fire("destroy")}})}),aL(bI,[b5],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.classes.contains(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=r(l[1],[]),function(o){return !n(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function a(u){u&&l.push(u)}var s;return s=j.exec(o.replace(c,"")),a(v(s[1])),a(i(s[2])),a(q(s[3])),a(w(s[4],s[5],s[6])),a(k(s[7])),l.psuedo=!!s[7],l.direct=t,l}function r(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&r(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var n=this.match;this._selectors=r(m,[])},match:function(A,F){var v,k,x,q,D,G,w,C,E,B,z,y,m;for(F=F||this._selectors,v=0,k=F.length;k>v;v++){for(D=F[v],q=D.length,m=A,y=0,x=q-1;x>=0;x--){for(C=D[x];m;){if(C.psuedo){for(z=m.parent().items(),E=B=z.length;E--&&z[E]!==m;){}}for(G=0,w=C.length;w>G;G++){if(!C[G](m,E,B)){G=w+1;break}}if(G===w){y++;break}if(x===q-1){break}m=m.parent()}}if(y===q){return !0}}return !1},find:function(p){function q(w,A,v){var n,y,B,r,x,z=A[v];for(n=0,y=w.length;y>n;n++){for(x=w[n],B=0,r=z.length;r>B;B++){if(!z[B](x,n,y)){B=r+1;break}}if(B===r){v==A.length-1?o.push(x):x.items&&q(x.items(),A,v+1)}else{if(z.direct){return}}x.items&&q(x.items(),A,v)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),aL(bj,[a2,bI,b5],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this},addClass:function(a){return this.each(function(e){e.classes.add(a)})},removeClass:function(a){return this.each(function(e){e.classes.remove(a)})}},g.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aL(bC,[a2,a9],function(b,a){var c=0;return{id:function(){return"mceu_"+c++},createFragment:function(d){return a.DOM.createFragment(d)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(g){var d,h;if(g.getBoundingClientRect){var f=g.getBoundingClientRect();d=Math.max(f.width||f.right-f.left,g.offsetWidth),h=Math.max(f.height||f.bottom-f.bottom,g.offsetHeight)}else{d=g.offsetWidth,h=g.offsetHeight}return{width:d,height:h}},getPos:function(d,f){return a.DOM.getPos(d,f)},getViewPort:function(d){return a.DOM.getViewPort(d)},get:function(d){return document.getElementById(d)},addClass:function(d,f){return a.DOM.addClass(d,f)},removeClass:function(d,f){return a.DOM.removeClass(d,f)},hasClass:function(d,f){return a.DOM.hasClass(d,f)},toggleClass:function(f,g,d){return a.DOM.toggleClass(f,g,d)},css:function(f,g,d){return a.DOM.setStyle(f,g,d)},getRuntimeStyle:function(d,f){return a.DOM.getStyle(d,f,!0)},on:function(g,h,f,d){return a.DOM.bind(g,h,f,d)},off:function(f,g,d){return a.DOM.unbind(f,g,d)},fire:function(f,g,d){return a.DOM.fire(f,g,d)},innerHtml:function(d,f){a.DOM.setHTML(d,f)}}}),aL(bs,[],function(){return{parseBox:function(b){var a,c=10;if(b){return"number"==typeof b?(b=b||0,{top:b,left:b,bottom:b,right:b}):(b=b.split(" "),a=b.length,1===a?b[1]=b[2]=b[3]=b[0]:2===a?(b[2]=b[0],b[3]=b[1]):3===a&&(b[3]=b[1]),{top:parseInt(b[0],c)||0,right:parseInt(b[1],c)||0,bottom:parseInt(b[2],c)||0,left:parseInt(b[3],c)||0})}},measureBox:function(c,a){function d(e){var f=document.defaultView;return f?(e=e.replace(/[A-Z]/g,function(g){return"-"+g}),f.getComputedStyle(c,null).getPropertyValue(e)):c.currentStyle[e]}function b(g){var f=parseFloat(d(g),10);return isNaN(f)?0:f}return{top:b(a+"TopWidth"),right:b(a+"RightWidth"),bottom:b(a+"BottomWidth"),left:b(a+"LeftWidth")}}}}),aL(bg,[a2],function(b){function a(){}function c(d){this.cls=[],this.cls._map={},this.onchange=d||a,this.prefix=""}return b.extend(c.prototype,{add:function(d){return d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change()),this},remove:function(f){if(this.contains(f)){for(var d=0;d<this.cls.length&&this.cls[d]!==f;d++){}this.cls.splice(d,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,d){var g=this.contains(f);return g!==d&&(g?this.remove(f):this.add(f),this._change()),this},contains:function(d){return !!this.cls._map[d]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),c.prototype.toString=function(){var f;if(this.clsValue){return this.clsValue}f="";for(var d=0;d<this.cls.length;d++){d>0&&(f+=" "),f+=this.prefix+this.cls[d]}return f},c}),aL(ad,[],function(){function b(h,f){function k(i){window.setTimeout(i,0)}var g,d=window.requestAnimationFrame,j=["ms","moz","webkit"];for(g=0;g<j.length&&!d;g++){d=window[j[g]+"RequestAnimationFrame"]}d||(d=k),d(h,f)}var a={},c;return{add:function(e){var d=e.parent();if(d){if(!d._layout||d._layout.isNative()){return}a[d._id]||(a[d._id]=d),c||(c=!0,b(function(){var g,f;c=!1;for(g in a){f=a[g],f.state.get("rendered")&&f.reflow()}a={}},document.body))}},remove:function(d){a[d._id]&&delete a[d._id]}}}),aL(bM,[b5,a2,aN,bh,bj,bC,aY,bs,bg,ad],function(G,k,z,w,C,y,J,q,B,I){function j(a){return a._eventDispatcher||(a._eventDispatcher=new z({scope:a,toggleEvent:function(c,d){d&&z.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a.state.get("rendered")&&H(a))}})),a._eventDispatcher}function H(K){function O(c){var d=K.getParentCtrl(c.target);d&&d.fire(c.type,c)}function h(){var c=M._lastHoverCtrl;c&&(c.fire("mouseleave",{target:c.getEl()}),c.parents().each(function(d){d.fire("mouseleave",{target:d.getEl()})}),M._lastHoverCtrl=null)}function a(e){var Q=K.getParentCtrl(e.target),p=M._lastHoverCtrl,d=0,u,c,l;if(Q!==p){if(M._lastHoverCtrl=Q,c=Q.parents().toArray().reverse(),c.push(Q),p){for(l=p.parents().toArray().reverse(),l.push(p),d=0;d<l.length&&c[d]===l[d];d++){}for(u=l.length-1;u>=d;u--){p=l[u],p.fire("mouseleave",{target:p.getEl()})}}for(u=d;u<c.length;u++){Q=c[u],Q.fire("mouseenter",{target:Q.getEl()})}}}function v(c){c.preventDefault(),"mousewheel"==c.type?(c.deltaY=-1/40*c.wheelDelta,c.wheelDeltaX&&(c.deltaX=-1/40*c.wheelDeltaX)):(c.deltaX=0,c.deltaY=c.detail),c=K.fire("wheel",c)}var g,P,m,M,N,L;if(N=K._nativeEvents){for(m=K.parents().toArray(),m.unshift(K),g=0,P=m.length;!M&&P>g;g++){M=m[g]._eventsRoot}for(M||(M=m[m.length-1]||K),K._eventsRoot=M,P=g,g=0;P>g;g++){m[g]._eventsRoot=M}var f=M._delegates;f||(f=M._delegates={});for(L in N){if(!N){return !1}"wheel"!==L||D?("mouseenter"===L||"mouseleave"===L?M._hasMouseEnter||(J(M.getEl()).on("mouseleave",h).on("mouseover",a),M._hasMouseEnter=1):f[L]||(J(M.getEl()).on(L,O),f[L]=!0),N[L]=!1):F?J(K.getEl()).on("mousewheel",v):J(K.getEl()).on("DOMMouseScroll",v)}}}var F="onmousewheel" in document,D=!1,x="mce-",A,E=0,b={Statics:{classPrefix:x},isRtl:function(){return A.rtl},classPrefix:x,init:function(d){function h(i){var c;for(i=i.split(" "),c=0;c<i.length;c++){a.classes.add(i[c])}}var a=this,f,g;a.settings=d=k.extend({},a.Defaults,d),a._id=d.id||"mceu_"+E++,a._aria={role:d.role},a._elmCache={},a.$=J,a.state=new w({visible:!0,active:!1,disabled:!1,value:""}),a.data=new w(d.data),a.classes=new B(function(){a.state.get("rendered")&&(a.getEl().className=this.toString())}),a.classes.prefix=a.classPrefix,f=d.classes,f&&(a.Defaults&&(g=a.Defaults.classes,g&&f!=g&&h(g)),h(f)),k.each("title text name visible disabled active value".split(" "),function(c){c in d&&a[c](d[c])}),a.on("click",function(){return a.disabled()?!1:void 0}),a.settings=d,a.borderBox=q.parseBox(d.border),a.paddingBox=q.parseBox(d.padding),a.marginBox=q.parseBox(d.margin),d.hidden&&a.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},initLayoutRect:function(){var R=this,Y=R.settings,K,o,N=R.getEl(),V,M,T,X,S,Q,O,s;K=R.borderBox=R.borderBox||q.measureBox(N,"border"),R.paddingBox=R.paddingBox||q.measureBox(N,"padding"),R.marginBox=R.marginBox||q.measureBox(N,"margin"),s=y.getSize(N),Q=Y.minWidth,O=Y.minHeight,T=Q||s.width,X=O||s.height,V=Y.width,M=Y.height,S=Y.autoResize,S="undefined"!=typeof S?S:!V&&!M,V=V||T,M=M||X;var L=K.left+K.right,P=K.top+K.bottom,W=Y.maxWidth||65535,U=Y.maxHeight||65535;return R._layoutRect=o={x:Y.x||0,y:Y.y||0,w:V,h:M,deltaW:L,deltaH:P,contentW:V-L,contentH:M-P,innerW:V-L,innerH:M-P,startMinWidth:Q||0,startMinHeight:O||0,minW:Math.min(T,W),minH:Math.min(X,U),maxW:W,maxH:U,autoResize:S,scrollW:0},R._lastLayoutRect={},o},layoutRect:function(m){var u=this,f=u._layoutRect,c,h,d,p,v,g;return f||(f=u.initLayoutRect()),m?(d=f.deltaW,p=f.deltaH,m.x!==v&&(f.x=m.x),m.y!==v&&(f.y=m.y),m.minW!==v&&(f.minW=m.minW),m.minH!==v&&(f.minH=m.minH),h=m.w,h!==v&&(h=h<f.minW?f.minW:h,h=h>f.maxW?f.maxW:h,f.w=h,f.innerW=h-d),h=m.h,h!==v&&(h=h<f.minH?f.minH:h,h=h>f.maxH?f.maxH:h,f.h=h,f.innerH=h-p),h=m.innerW,h!==v&&(h=h<f.minW-d?f.minW-d:h,h=h>f.maxW-d?f.maxW-d:h,f.innerW=h,f.w=h+d),h=m.innerH,h!==v&&(h=h<f.minH-p?f.minH-p:h,h=h>f.maxH-p?f.maxH-p:h,f.innerH=h,f.h=h+p),m.contentW!==v&&(f.contentW=m.contentW),m.contentH!==v&&(f.contentH=m.contentH),c=u._lastLayoutRect,(c.x!==f.x||c.y!==f.y||c.w!==f.w||c.h!==f.h)&&(g=A.repaintControls,g&&g.map&&!g.map[u._id]&&(g.push(u),g.map[u._id]=!0),c.x=f.x,c.y=f.y,c.w=f.w,c.h=f.h),u):f},repaint:function(){var p=this,M,g,d,m,f,K=0,N=0,h,v,L;v=document.createRange?function(a){return a}:Math.round,M=p.getEl().style,m=p._layoutRect,h=p._lastRepaintRect||{},f=p.borderBox,K=f.left+f.right,N=f.top+f.bottom,m.x!==h.x&&(M.left=v(m.x)+"px",h.x=m.x),m.y!==h.y&&(M.top=v(m.y)+"px",h.y=m.y),m.w!==h.w&&(L=v(m.w-K),M.width=(L>=0?L:0)+"px",h.w=m.w),m.h!==h.h&&(L=v(m.h-N),M.height=(L>=0?L:0)+"px",h.h=m.h),p._hasBody&&m.innerW!==h.innerW&&(L=v(m.innerW),d=p.getEl("body"),d&&(g=d.style,g.width=(L>=0?L:0)+"px"),h.innerW=m.innerW),p._hasBody&&m.innerH!==h.innerH&&(L=v(m.innerH),d=d||p.getEl("body"),d&&(g=g||d.style,g.height=(L>=0?L:0)+"px"),h.innerH=m.innerH),p._lastRepaintRect=h,p.fire("repaint",{},!1)},on:function(d,a){function f(h){var g,i;return"string"!=typeof h?h:function(e){return g||c.parentsAndSelf().each(function(m){var l=m.settings.callbacks;return l&&(g=l[h])?(i=m,!1):void 0}),g?g.call(i,e):(e.action=h,void this.fire("execute",e))}}var c=this;return j(c).on(d,f(a)),c},off:function(c,a){return j(this).off(c,a),this},fire:function(f,c,g){var d=this;if(c=c||{},c.control||(c.control=d),c=j(d).fire(f,c),g!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(f,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return j(this).has(a)},parents:function(d){var a=this,f,c=new C;for(f=a.parent();f;f=f.parent()){c.add(f)}return d&&(c=c.filter(d)),c},parentsAndSelf:function(a){return new C(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(c){var a=c?this._id+"-"+c:this._id;return this._elmCache[a]||(this._elmCache[a]=J("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var f=this,c=f.getEl(f.ariaTarget);return"undefined"==typeof a?f._aria[d]:(f._aria[d]=a,f.state.get("rendered")&&c.setAttribute("role"==d?d:"aria-"+d,a),f)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return A.translate?A.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var g=this,c=g.getEl(),l=g.parent(),f,a;if(g.items){var h=g.items().toArray();for(a=h.length;a--;){h[a].remove()}}l&&l.items&&(f=[],l.items().each(function(e){e!==g&&f.push(e)}),l.items().set(f),l._lastRect=null),g._eventsRoot&&g._eventsRoot==g&&J(c).off();var d=g.getRoot().controlIdLookup;return d&&delete d[g._id],c&&c.parentNode&&c.parentNode.removeChild(c),g.state.set("rendered",!1),g.state.destroy(),g.fire("remove"),g},renderBefore:function(a){return J(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return J(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var h=this,p=h.settings,d,a,g,c,v;h.$el=J(h.getEl()),h.state.set("rendered",!0);for(c in p){0===c.indexOf("on")&&h.on(c.substr(2),p[c])}if(h._eventsRoot){for(g=h.parent();!v&&g;g=g.parent()){v=g._eventsRoot}if(v){for(c in v._nativeEvents){h._nativeEvents[c]=!0}}}H(h),p.style&&(d=h.getEl(),d&&(d.setAttribute("style",p.style),d.style.cssText=p.style)),h.settings.border&&(a=h.borderBox,h.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));var f=h.getRoot();f.controlIdLookup||(f.controlIdLookup={}),f.controlIdLookup[h._id]=h;for(var m in h._aria){h.aria(m,h._aria[m])}h.state.get("visible")===!1&&(h.getEl().style.display="none"),h.bindStates(),h.state.on("change:visible",function(e){var l=e.value,i;h.state.get("rendered")&&(h.getEl().style.display=l===!1?"none":"",h.getEl().getBoundingClientRect()),i=h.parent(),i&&(i._lastRect=null),h.fire(l?"show":"hide"),I.add(h)}),h.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(p){function M(o,c){var s,l,a=o;for(s=l=0;a&&a!=c&&a.nodeType;){s+=a.offsetLeft||0,l+=a.offsetTop||0,a=a.offsetParent}return{x:s,y:l}}var g=this.getEl(),d=g.parentNode,m,f,K,N,h,v,L=M(g,d);return m=L.x,f=L.y,K=g.offsetWidth,N=g.offsetHeight,h=d.clientWidth,v=d.clientHeight,"end"==p?(m-=h-K,f-=v-N):"center"==p&&(m-=h/2-K/2,f-=v/2-N/2),d.scrollLeft=m,d.scrollTop=f,this},getRoot:function(){for(var d=this,a,f=[];d;){if(d.rootControl){a=d.rootControl;break}f.push(d),a=d,d=d.parent()}a||(a=this);for(var c=f.length;c--;){f[c].rootControl=a}return a},reflow:function(){I.remove(this);var a=this.parent();return a._layout&&!a._layout.isNative()&&a.reflow(),this}};return k.each("text title visible disabled active value".split(" "),function(a){b[a]=function(c){return 0===arguments.length?this.state.get(a):("undefined"!=typeof c&&this.state.set(a,c),this)}}),A=G.extend(b)}),aL(bE,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aL(ci,[],function(){return function(P){function B(a){return a&&1===a.nodeType}function I(a){return a=a||k,B(a)?a.getAttribute("role"):null}function F(c){for(var a,b=c||k;b=b.parentNode;){if(a=I(b)){return a}}}function L(a){var b=k;return B(b)?b.getAttribute("aria-"+a):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a}function T(a){return H(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(I(a))?!0:!1}function D(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){T(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||S.getEl()),c}function K(c){var a,d;c=c||E,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function R(b){var a=K(b),c=D(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?A(a.lastAriaIndex,c):A(0,c)}function A(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function Q(d,b){var f=-1,c=K();b=b||D(c.getEl());for(var a=0;a<b.length;a++){b[a]===k&&(f=a)}f+=d,c.lastAriaIndex=A(f,b)}function O(){var a=F();"tablist"==a?Q(-1,D(k.parentNode)):E.parent().submenu?z():Q(-1)}function M(){var b=I(),a=F();"tablist"==a?Q(1,D(k.parentNode)):"menuitem"==b&&"menu"==a&&L("haspopup")?j():Q(1)}function G(){Q(-1)}function J(){var b=I(),a=F();"menuitem"==b&&"menubar"==a?j():"button"==b&&L("haspopup")?j({key:"down"}):Q(1)}function N(b){var a=F();if("tablist"==a){var c=D(E.getEl("body"))[0];c&&c.focus()}else{Q(b.shiftKey?-1:1)}}function z(){E.fire("cancel")}function j(a){a=a||{},E.fire("click",{target:k,aria:a})}var S=P.root,k,E;try{k=document.activeElement}catch(q){k=document.body}return E=S.getParentCtrl(k),S.on("keydown",function(b){function a(d,c){H(k)||c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,O);break;case 39:a(b,M);break;case 38:a(b,G);break;case 40:a(b,J);break;case 27:z();break;case 14:case 13:case 32:a(b,j);break;case 9:N(b)!==!1&&b.preventDefault()}}}),S.on("focusin",function(a){k=a.target,E=a.control}),{focusFirst:R}}}),aL(aS,[bM,bj,bI,bE,ci,a2,aY,bg,ad],function(j,p,f,b,h,d,m,q,g){var k={};return j.extend({init:function(a){var c=this;c._super(a),a=c.settings,a.fixed&&c.state.set("fixed",!0),c._items=new p,c.isRtl()&&c.classes.add("rtl"),c.bodyClasses=new q(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())}),c.bodyClasses.prefix=c.classPrefix,c.classes.add("container"),c.bodyClasses.add("container-body"),a.containerCls&&c.classes.add(a.containerCls),c._layout=b.create((a.layout||"")+"layout"),c.settings.items?c.add(c.settings.items):c.add(c.render()),c._hasBody=!0},items:function(){return this._items},find:function(a){return a=k[a]=k[a]||new f(a),a.find(this)},add:function(c){var a=this;return a.items().add(a.create(c)).parent(a),a},focus:function(o){var c=this,s,l,a;return o&&(l=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav)?void l.focusFirst(c):(a=c.find("*"),c.statusbar&&a.add(c.statusbar.items()),a.each(function(i){return i.settings.autofocus?(s=null,!1):void (i.canFocus&&(s=s||i))}),s&&s.focus(),c)},replace:function(o,c){for(var s,l=this.items(),a=l.length;a--;){if(l[a]===o){l[a]=c;break}}a>=0&&(s=c.getEl(),s&&s.parentNode.removeChild(s),s=o.getEl(),s&&s.parentNode.removeChild(s)),c.parent(this)},create:function(l){var o=this,e,c=[];return d.isArray(l)||(l=[l]),d.each(l,function(a){a&&(a instanceof j||("string"==typeof a&&(a={type:a}),e=d.extend({},o.settings.defaults,a),a.type=e.type=e.type||a.type||o.settings.defaultType||(e.defaults?e.defaults.type:null),a=b.create(e)),c.push(a))}),c},renderNew:function(){var a=this;return a.items().each(function(c,i){var e;c.parent(a),c.state.get("rendered")||(e=a.getEl("body"),e.hasChildNodes()&&i<=e.childNodes.length-1?m(e.childNodes[i]).before(c.renderHtml()):m(e).append(c.renderHtml()),c.postRender(),g.add(c))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(c){var a=this;return a.items().set(a.create(c).concat(a.items().toArray())),a.renderNew()},insert:function(v,s,x){var u=this,l,w,c;return v=u.create(v),l=u.items(),!x&&s<l.length-1&&(s+=1),s>=0&&s<l.length&&(w=l.slice(0,s).toArray(),c=l.slice(s).toArray(),l.set(w.concat(v,c))),u.renderNew()},fromJSON:function(c){var a=this;for(var i in c){a.find("#"+i).value(c[i])}return a},toJSON:function(){var c=this,a={};return c.find("*").each(function(l){var o=l.name(),i=l.value();o&&"undefined"!=typeof i&&(a[o]=i)}),a},renderHtml:function(){var c=this,a=c._layout,i=this.settings.role;return c.preRender(),a.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"'+(i?' role="'+this.settings.role+'"':"")+'><div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+a.renderHtml(c)+"</div></div>"},postRender:function(){var c=this,a;return c.items().exec("postRender"),c._super(),c._layout.postRender(c),c.state.set("rendered",!0),c.settings.style&&c.$el.css(c.settings.style),c.settings.border&&(a=c.borderBox,c.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),c.parent()||(c.keyboardNav=new h({root:c})),c},initLayoutRect:function(){var c=this,a=c._super();return c._layout.recalc(c),a},recalc:function(){var c=this,a=c._layoutRect,i=c._lastRect;return i&&i.w==a.w&&i.h==a.h?void 0:(c._layout.recalc(c),a=c.layoutRect(),c._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(g.remove(this),this.visible()){for(j.repaintControls=[],j.repaintControls.map={},this.recalc(),a=j.repaintControls.length;a--;){j.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),j.repaintControls=[]}return this}})}),aL(aZ,[aY],function(b){function a(k){var q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}function c(f){var d,g;if(f.changedTouches){for(d="screenX screenY pageX pageY clientX clientY".split(" "),g=0;g<d.length;g++){f[d[g]]=f.changedTouches[0][d[g]]}}}return function(e,k){function g(){return w.getElementById(k.handle||e)}var t,w=k.document||document,j,q,v,p,n,m;k=k||{},q=function(f){var i=a(w),h,d;c(f),f.preventDefault(),j=f.button,h=g(),n=f.screenX,m=f.screenY,d=window.getComputedStyle?window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,t=b("<div>").css({position:"absolute",top:0,left:0,width:i.width,height:i.height,zIndex:2147483647,opacity:0.0001,cursor:d}).appendTo(w.body),b(w).on("mousemove touchmove",p).on("mouseup touchend",v),k.start(f)},p=function(d){return c(d),d.button!==j?v(d):(d.deltaX=d.screenX-n,d.deltaY=d.screenY-m,d.preventDefault(),void k.drag(d))},v=function(d){c(d),b(w).off("mousemove touchmove",p).off("mouseup touchend",v),t.remove(),k.stop&&k.stop(d)},this.destroy=function(){b(g()).off()},b(g()).on("mousedown touchstart",q)}}),aL(bX,[aY,aZ],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,q,k,n,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),b(c.getEl("absend")).css(B,c.layoutRect()[o]-1),!z){return void b(w).css("display","none")}b(w).css("display","block"),x=c.getEl("body"),q=c.getEl("scroll"+F+"t"),k=x["client"+G]-2*e,k-=j&&i?w["client"+E]:0,n=x["scroll"+G],r=k/n,D={},D[B]=x["offset"+C]+e,D[A]=k,b(w).css(D),D={},D[B]=x["scroll"+C]*r,D[A]=k*r,b(q).css(D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;b(c.getEl()).append('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>'),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b("#"+j).addClass(o+"active")},drag:function(v){var n,l,w,s,r=c.layoutRect();l=r.contentW>r.innerW,w=r.contentH>r.innerH,s=c.getEl("body")["client"+i]-2*e,s-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=s/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b("#"+j).removeClass(o+"active")}})}c.classes.add("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b(c.getEl("body")).on("scroll",f)),f())}}}),aL(b3,[aS,bX],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),aL(cg,[bC],function(b){function a(z,j,e){var m,g,x,A,k,w,y,v,q,p;return q=b.getViewPort(),g=b.getPos(j),x=g.x,A=g.y,z.state.get("fixed")&&"static"==b.getRuntimeStyle(document.body,"position")&&(x-=q.x,A-=q.y),m=z.getEl(),p=b.getSize(m),k=p.width,w=p.height,p=b.getSize(j),y=p.width,v=p.height,e=(e||"").split(""),"b"===e[0]&&(A+=v),"r"===e[1]&&(x+=y),"c"===e[0]&&(A+=Math.round(v/2)),"c"===e[1]&&(x+=Math.round(y/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this.state.get("fixed")){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d.state.get("rendered")?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aL(aM,[bC],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aL(a6,[b3,cg,aM,bC,aY],function(J,w,C,z,F){function B(b,a){for(;b;){if(b==a){return !0}b=b.parent()}}function N(c){for(var a=H.length;a--;){var d=H[a],b=d.getParentCtrl(c.target);if(d.settings.autohide){if(b&&(B(b,d)||d.parent()===b)){continue}c=d.fire("autohide",{target:c.target}),c.isDefaultPrevented()||d.hide()}}}function x(){G||(G=function(a){2!=a.button&&N(a)},F(document).on("click touchstart",G))}function E(){A||(A=function(){var a;for(a=H.length;a--;){q(H[a])}},F(window).on("scroll",A))}function L(){if(!D){var b=document.documentElement,a=b.clientWidth,c=b.clientHeight;D=function(){document.all&&a==b.clientWidth&&c==b.clientHeight||(a=b.clientWidth,c=b.clientHeight,M.hideAll())},F(window).on("resize",D)}}function q(b){function a(e,g){for(var f,d=0;d<H.length;d++){if(H[d]!=b){for(f=H[d].parent();f&&(f=f.parent());){f==b&&H[d].fixed(e).moveBy(0,g).repaint()}}}}var c=z.getViewPort().y;b.settings.autofix&&(b.state.get("fixed")?b._autoFixY>c&&(b.fixed(!1).layoutRect({y:b._autoFixY}).repaint(),a(!1,b._autoFixY-c)):(b._autoFixY=b.layoutRect().y,b._autoFixY<c&&(b.fixed(!0).layoutRect({y:0}).repaint(),a(!0,c-b._autoFixY))))}function K(f,c){var h,d=M.zIndex||65535,g;if(f){k.push(c)}else{for(h=k.length;h--;){k[h]===c&&k.splice(h,1)}}if(k.length){for(h=0;h<k.length;h++){k[h].modal&&(d++,g=k[h]),k[h].getEl().style.zIndex=d,k[h].zIndex=d,d++}}var b=document.getElementById(c.classPrefix+"modal-block");g?F(b).css("z-index",g.zIndex-1):b&&(b.parentNode.removeChild(b),j=!1),M.currentZIndex=d}function I(b){var a;for(a=H.length;a--;){H[a]===b&&H.splice(a,1)}for(a=k.length;a--;){k[a]===b&&k.splice(a,1)}}var G,A,D,H=[],k=[],j,M=J.extend({Mixins:[w,C],init:function(b){var a=this;a._super(b),a._eventsRoot=a,a.classes.add("floatpanel"),b.autohide&&(x(),L(),H.push(a)),b.autofix&&(E(),a.on("move",function(){q(this)})),a.on("postrender show",function(d){if(d.control==a){var f,c=a.classPrefix;a.modal&&!j&&(f=F("#"+c+"modal-block"),f[0]||(f=F('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>').appendTo(a.getContainerElm())),setTimeout(function(){f.addClass(c+"in"),F(a.getEl()).addClass(c+"in")},0),j=!0),K(!0,a)}}),a.on("show",function(){a.parents().each(function(c){return c.state.get("fixed")?(a.fixed(!0),!1):void 0})}),b.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.classes.add("popover").add("bottom").add(a.isRtl()?"end":"start"))},fixed:function(b){var a=this;if(a.state.get("fixed")!=b){if(a.state.get("rendered")){var c=z.getViewPort();b?a.layoutRect().y-=c.y:a.layoutRect().y+=c.y}a.classes.toggle("fixed",b),a.state.set("fixed",b)}return a},show:function(){var b=this,a,c=b._super();for(a=H.length;a--&&H[a]!==b;){}return -1===a&&H.push(b),c},hide:function(){return I(this),K(!1,this),this._super()},hideAll:function(){M.hideAll()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||(a.remove(),K(!1,a)),a},remove:function(){I(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return M.hideAll=function(){for(var b=H.length;b--;){var a=H[b];a&&a.settings.autohide&&(a.hide(),H.splice(b,1))}},M}),aL(ap,[a6,b3,bC,aY,aZ,bs,aH],function(p,y,h,b,k,g,w){function z(d){var c="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",f=b("meta[name=viewport]")[0],a;w.overrideViewPort!==!1&&(f||(f=document.createElement("meta"),f.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(f)),a=f.getAttribute("content"),a&&"undefined"!=typeof q&&(q=a),f.setAttribute("content",d?c:q))}function j(c){for(var a=0;a<x.length;a++){if(x[a]._fullscreen){return}}b([document.documentElement,document.body]).removeClass(c+"fullscreen")}function v(){function c(){var i,d=h.getWindowSize(),f;for(i=0;i<x.length;i++){f=x[i].layoutRect(),x[i].moveTo(x[i].settings.x||Math.max(0,d.w/2-f.w/2),x[i].settings.y||Math.max(0,d.h/2-f.h/2))}}var a={w:window.innerWidth,h:window.innerHeight};window.setInterval(function(){var d=window.innerWidth,f=window.innerHeight;(a.w!=d||a.h!=f)&&(a={w:d,h:f},b(window).trigger("resize"))},0),b(window).on("resize",c)}var x=[],q="",m=p.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var c=this;c._super(a),c.isRtl()&&c.classes.add("rtl"),c.classes.add("window"),c.bodyClasses.add("window-body"),c.state.set("fixed",!0),a.buttons&&(c.statusbar=new y({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:c.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),c.statusbar.classes.add("foot"),c.statusbar.parent(c)),c.on("click",function(d){-1!=d.target.className.indexOf(c.classPrefix+"close")&&c.close()}),c.on("cancel",function(){c.close()}),c.aria("describedby",c.describedBy||c._id+"-none"),c.aria("label",a.title),c._fullscreen=!1},recalc:function(){var n=this,f=n.statusbar,l,d,s,c;n._fullscreen&&(n.layoutRect(h.getWindowSize()),n.layoutRect().contentH=n.layoutRect().innerH),n._super(),l=n.layoutRect(),n.settings.title&&!n._fullscreen&&(d=l.headerW,d>l.w&&(s=l.x-Math.max(0,d/2),n.layoutRect({w:d,x:s}),c=!0)),f&&(f.layoutRect({w:n.layoutRect().innerW}).recalc(),d=f.layoutRect().minW+l.deltaW,d>l.w&&(s=l.x-Math.max(0,d-l.w),n.layoutRect({w:d,x:s}),c=!0)),c&&n.recalc()},initLayoutRect:function(){var n=this,f=n._super(),l=0,d;if(n.settings.title&&!n._fullscreen){d=n.getEl("head");var s=h.getSize(d);f.headerW=s.width,f.headerH=s.height,l+=f.headerH}n.statusbar&&(l+=n.statusbar.layoutRect().h),f.deltaH+=l,f.minH+=l,f.h+=l;var c=h.getWindowSize();return f.x=n.settings.x||Math.max(0,c.w/2-f.w/2),f.y=n.settings.y||Math.max(0,c.h/2-f.h/2),f},renderHtml:function(){var A=this,f=A._layout,C=A._id,u=A.classPrefix,d=A.settings,B="",c="",l=d.html;return A.preRender(),f.preRender(A),d.title&&(B='<div id="'+C+'-head" class="'+u+'window-head"><div id="'+C+'-title" class="'+u+'title">'+A.encode(d.title)+'</div><button type="button" class="'+u+'close" aria-hidden="true">\xd7</button><div id="'+C+'-dragh" class="'+u+'dragh"></div></div>'),d.url&&(l='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof l&&(l=f.renderHtml(A)),A.statusbar&&(c=A.statusbar.renderHtml()),'<div id="'+C+'" class="'+A.classes+'" hidefocus="1"><div class="'+A.classPrefix+'reset" role="application">'+B+'<div id="'+C+'-body" class="'+A.bodyClasses+'">'+l+"</div>"+c+"</div></div>"},fullscreen:function(u){var o=this,n=document.documentElement,f,r=o.classPrefix,d;if(u!=o._fullscreen){if(b(window).on("resize",function(){var c;if(o._fullscreen){if(f){o._timer||(o._timer=setTimeout(function(){var i=h.getWindowSize();o.moveTo(0,0).resizeTo(i.w,i.h),o._timer=0},50))}else{c=(new Date).getTime();var a=h.getWindowSize();o.moveTo(0,0).resizeTo(a.w,a.h),(new Date).getTime()-c>50&&(f=!0)}}}),d=o.layoutRect(),o._fullscreen=u,u){o._initial={x:d.x,y:d.y,w:d.w,h:d.h},o.borderBox=g.parseBox("0"),o.getEl("head").style.display="none",d.deltaH-=d.headerH+2,b([n,document.body]).addClass(r+"fullscreen"),o.classes.add("fullscreen");var A=h.getWindowSize();o.moveTo(0,0).resizeTo(A.w,A.h)}else{o.borderBox=g.parseBox(o.settings.border),o.getEl("head").style.display="",d.deltaH+=d.headerH,b([n,document.body]).removeClass(r+"fullscreen"),o.classes.remove("fullscreen"),o.moveTo(o._initial.x,o._initial.y).resizeTo(o._initial.w,o._initial.h)}}return o.reflow()},postRender:function(){var c=this,a;setTimeout(function(){c.classes.add("in")},0),c._super(),c.statusbar&&c.statusbar.postRender(),c.focus(),this.dragHelper=new k(c._id+"-dragh",{start:function(){a={x:c.layoutRect().x,y:c.layoutRect().y}},drag:function(d){c.moveTo(a.x+d.deltaX,a.y+d.deltaY)}}),c.on("submit",function(d){d.isDefaultPrevented()||c.close()}),x.push(c),z(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var c=this,a;for(c.dragHelper.destroy(),c._super(),c.statusbar&&this.statusbar.remove(),a=x.length;a--;){x[a]===c&&x.splice(a,1)}z(x.length>0),j(c.classPrefix)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return w.desktop||v(),m}),aL(cd,[ap],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function d(h,g,i){return{type:"button",text:h,subtype:i?"primary":"",onClick:function(j){j.control.parents()[1].close(),e(g)}}}var c,e=f.callback||function(){};switch(f.buttons){case a.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case a.YES_NO:case a.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)],f.buttons==a.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return new b({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){e(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aL(bw,[ap,cd],function(b,a){return function(f){function d(){return e.length?e[e.length-1]:void 0}var c=this,e=[];c.windows=e,f.on("remove",function(){for(var g=e.length;g--;){e[g].close()}}),c.open=function(h,j){var g;return f.editorManager.setActive(f),h.title=h.title||" ",h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new b(h),e.push(g),g.on("close",function(){for(var i=e.length;i--;){e[i]===g&&e.splice(i,1)}e.length||f.focus()}),h.data&&g.on("postRender",function(){this.find("*").each(function(i){var k=i.name();k in h.data&&i.value(h.data[k])})}),g.features=h||{},g.params=j||{},1===e.length&&f.nodeChanged(),g.renderTo().reflow()},c.alert=function(j,h,g){a.alert(j,function(){h?h.call(g||this):f.focus()})},c.confirm=function(h,i,g){a.confirm(h,function(j){i.call(g||this,j)})},c.close=function(){d()&&d().close()},c.getParams=function(){return d()?d().params:null},c.setParams=function(g){d()&&(d().params=g)},c.getWindows=function(){return e}}}),aL(au,[a9],function(b){function a(e,g,f){for(var d=[];g&&g!=e;g=g.parentNode){d.push(b.nodeIndex(g,f))}return d}function c(h,f){var j,g,d;for(g=h,j=f.length-1;j>=0;j--){if(d=g.childNodes,f[j]>d.length-1){return null}g=d[f[j]]}return g}return{create:a,resolve:c}}),aL(b1,[bL,aF,aR,au,bK,aG,aH,a2],function(h,d,k,g,c,j,b,f){return function(cQ){function cX(m,l){try{cQ.getDoc().execCommand(m,!1,l)}catch(p){}}function cM(){var l=cQ.getDoc().documentMode;return l?l:6}function cW(l){return l.isDefaultPrevented()}function cV(m){var l,p;m.dataTransfer&&(cQ.selection.isCollapsed()&&"IMG"==m.target.tagName&&ct.select(m.target),l=cQ.selection.getContent(),l.length>0&&(p=cE+escape(cQ.id)+","+escape(l),m.dataTransfer.setData(cF,p)))}function cT(m){var l;return m.dataTransfer&&(l=m.dataTransfer.getData(cF),l&&l.indexOf(cE)>=0)?(l=l.substr(cE.length).split(","),{id:unescape(l[0]),html:unescape(l[1])}):null}function cO(l){cQ.queryCommandSupported("mceInsertClipboardContent")?cQ.execCommand("mceInsertClipboardContent",!1,{content:l}):cQ.execCommand("mceInsertContent",!1,l)}function cP(){function z(u){var m=D.schema.getBlockElements(),v=cQ.getBody();if("BR"!=u.nodeName){return !1}for(u=u;u!=v&&!m[u.nodeName];u=u.parentNode){if(u.nextSibling){return !1}}return !0}function p(u,m){var v;for(v=u.nextSibling;v&&v!=m;v=v.nextSibling){if((3!=v.nodeType||0!==cs.trim(v.data).length)&&v!==m){return !1}}return v===m}function G(x,u,w){var y,m,v;for(v=D.schema.getNonEmptyElements(),y=new k(w||x,x);m=y[u?"next":"prev"]();){if(v[m.nodeName]&&!z(m)){return m}if(3==m.nodeType&&m.data.length>0){return m}}}function B(w){var y,v,m,x,u;if(!w.collapsed&&(y=D.getParent(d.getNode(w.startContainer,w.startOffset),D.isBlock),v=D.getParent(d.getNode(w.endContainer,w.endOffset),D.isBlock),u=cQ.schema.getTextBlockElements(),y!=v&&u[y.nodeName]&&u[v.nodeName]&&"false"!==D.getContentEditable(y)&&"false"!==D.getContentEditable(v))){return w.deleteContents(),m=G(y,!1),x=G(v,!0),D.isEmpty(v)||cs(y).append(v.childNodes),cs(v).remove(),m?1==m.nodeType?"BR"==m.nodeName?(w.setStartBefore(m),w.setEndBefore(m)):(w.setStartAfter(m),w.setEndAfter(m)):(w.setStart(m,m.data.length),w.setEnd(m,m.data.length)):x&&(1==x.nodeType?(w.setStartBefore(x),w.setEndBefore(x)):(w.setStart(x,0),w.setEnd(x,0))),F.setRng(w),!0}}function K(y,M){var x,v,w,L,m,C;if(!y.collapsed){return y}if(m=y.startContainer,C=y.startOffset,3==m.nodeType){if(M){if(C<m.data.length){return y}}else{if(C>0){return y}}}if(x=d.getNode(y.startContainer,y.startOffset),w=D.getParent(x,D.isBlock),v=G(cQ.getBody(),M,x),L=D.getParent(v,D.isBlock),!x||!v){return y}if(L&&w!=L){if(M){if(!p(w,L)){return y}1==x.nodeType?"BR"==x.nodeName?y.setStartBefore(x):y.setStartAfter(x):y.setStart(x,x.data.length),1==v.nodeType?y.setEnd(v,0):y.setEndBefore(v)}else{if(!p(L,w)){return y}1==v.nodeType?"BR"==v.nodeName?y.setStartBefore(v):y.setStartAfter(v):y.setStart(v,v.data.length),1==x.nodeType?y.setEnd(x,0):y.setEndBefore(x)}}return y}function q(u){var m=F.getRng();return m=K(m,u),B(m)?!0:void 0}function A(N,S){function x(m,u){return y=cs(u).parents().filter(function(U,T){return !!cQ.schema.getTextInlineElements()[T.nodeName]}),P=m.cloneNode(!1),y=f.map(y,function(T){return T=T.cloneNode(!1),P.hasChildNodes()?(T.appendChild(P.firstChild),P.appendChild(T)):P.appendChild(T),P.appendChild(T),T}),y.length?(v=D.create("br"),y[0].appendChild(v),D.replace(P,m),S.setStartBefore(v),S.setEndBefore(v),cQ.selection.setRng(S),v):null}function C(m){return m&&cQ.schema.getTextBlockElements()[m.tagName]}var w,Q,P,R,O,M,L,v,y;if(S.collapsed&&(M=S.startContainer,L=S.startOffset,Q=D.getParent(M,D.isBlock),C(Q))){if(1==M.nodeType){if(M=M.childNodes[L],M&&"BR"!=M.tagName){return}if(O=N?Q.nextSibling:Q.previousSibling,D.isEmpty(Q)&&C(O)&&D.isEmpty(O)&&x(Q,M)){return D.remove(O),!0}}else{if(3==M.nodeType){if(w=g.create(Q,M),R=Q.cloneNode(!0),M=g.resolve(R,w),N){if(L>=M.data.length){return}M.deleteData(L,1)}else{if(0>=L){return}M.deleteData(L-1,1)}if(D.isEmpty(R)){return x(Q,M)}}}}}function J(v){var m,w,u;q(v)||(f.each(cQ.getBody().getElementsByTagName("*"),function(x){"SPAN"==x.tagName&&x.setAttribute("mce-data-marked",1),!x.hasAttribute("data-mce-style")&&x.hasAttribute("style")&&cQ.dom.setAttrib(x,"style",cQ.dom.getAttrib(x,"style"))}),m=new l(function(){}),m.observe(cQ.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),cQ.getDoc().execCommand(v?"ForwardDelete":"Delete",!1,null),w=cQ.selection.getRng(),u=w.startContainer.parentNode,f.each(m.takeRecords(),function(y){if(D.isChildOf(y.target,cQ.getBody())){if("style"==y.attributeName){var x=y.target.getAttribute("data-mce-style");x?y.target.setAttribute("style",x):y.target.removeAttribute("style")}f.each(y.addedNodes,function(M){if("SPAN"==M.nodeName&&!M.getAttribute("mce-data-marked")){var L,C;M==u&&(L=w.startOffset,C=M.firstChild),D.remove(M,!0),C&&(w.setStart(C,L),w.setEnd(C,L),cQ.selection.setRng(w))}})}}),m.disconnect(),f.each(cQ.dom.select("span[mce-data-marked]"),function(x){x.removeAttribute("mce-data-marked")}))}var E=cQ.getDoc(),D=cQ.dom,F=cQ.selection,l=window.MutationObserver,H,I;l||(H=!0,l=function(){function v(y){var x=y.relatedNode||y.target;w.push({target:x,addedNodes:[x]})}function m(y){var x=y.relatedNode||y.target;w.push({target:x,attributeName:y.attrName})}var w=[],u;this.observe=function(x){u=x,u.addEventListener("DOMSubtreeModified",v,!1),u.addEventListener("DOMNodeInsertedIntoDocument",v,!1),u.addEventListener("DOMNodeInserted",v,!1),u.addEventListener("DOMAttrModified",m,!1)},this.disconnect=function(){u.removeEventListener("DOMSubtreeModified",v,!1),u.removeEventListener("DOMNodeInsertedIntoDocument",v,!1),u.removeEventListener("DOMNodeInserted",v,!1),u.removeEventListener("DOMAttrModified",m,!1)},this.takeRecords=function(){return w}}),cQ.on("keydown",function(w){var u=w.keyCode==cw,y=w.ctrlKey||w.metaKey;if(!cW(w)&&(u||w.keyCode==i)){var v=cQ.selection.getRng(),m=v.startContainer,x=v.startOffset;if(u&&w.shiftKey){return}if(A(u,v)){return void w.preventDefault()}if(!y&&v.collapsed&&3==m.nodeType&&(u?x<m.data.length:x>0)){return}w.preventDefault(),y&&cQ.selection.getSel().modify("extend",u?"forward":"backward",w.metaKey?"lineboundary":"word"),J(u)}}),cQ.on("keypress",function(v){if(!cW(v)&&!F.isCollapsed()&&v.charCode>31&&!h.metaKeyPressed(v)){var C,x,u,y,m,w;C=cQ.selection.getRng(),w=String.fromCharCode(v.charCode),v.preventDefault(),x=cs(C.startContainer).parents().filter(function(M,L){return !!cQ.schema.getTextInlineElements()[L.nodeName]}),J(!0),x=x.filter(function(M,L){return !cs.contains(cQ.getBody(),L)}),x.length?(u=D.createFragment(),x.each(function(M,L){L=L.cloneNode(!1),u.hasChildNodes()?(L.appendChild(u.firstChild),u.appendChild(L)):(m=L,u.appendChild(L)),u.appendChild(L)}),m.appendChild(cQ.getDoc().createTextNode(w)),y=D.getParent(C.startContainer,D.isBlock),D.isEmpty(y)?cs(y).empty().append(u):C.insertNode(u),C.setStart(m.firstChild,1),C.setEnd(m.firstChild,1),cQ.selection.setRng(C)):cQ.selection.setContent(w)}}),cQ.addCommand("Delete",function(){J()}),cQ.addCommand("ForwardDelete",function(){J(!0)}),H||(cQ.on("dragstart",function(m){I=F.getRng(),cV(m)}),cQ.on("drop",function(m){if(!cW(m)){var u=cT(m);u&&(m.preventDefault(),window.setTimeout(function(){var v=d.getCaretRangeFromPoint(m.x,m.y,E);I&&(F.setRng(I),I=null),J(),F.setRng(v),cO(u.html)},0))}}),cQ.on("cut",function(m){cW(m)||!m.clipboardData||cQ.selection.isCollapsed()||(m.preventDefault(),m.clipboardData.clearData(),m.clipboardData.setData("text/html",cQ.selection.getContent()),m.clipboardData.setData("text/plain",cQ.selection.getContent({format:"text"})),window.setTimeout(function(){J(!0)},0))}))}function cU(){function l(q){var p=n.create("body"),u=q.cloneContents();return p.appendChild(u),ct.serializer.serialize(p,{format:"html"})}function m(w){if(!w.setStart){if(w.item){return !1}var u=w.duplicate();return u.moveToElementText(cQ.getBody()),d.compareRanges(w,u)}var q=l(w),v=n.createRng();v.selectNode(cQ.getBody());var p=l(v);return q===p}cQ.on("keydown",function(v){var q=v.keyCode,u,p;if(!cW(v)&&(q==cw||q==i)){if(u=cQ.selection.isCollapsed(),p=cQ.getBody(),u&&!n.isEmpty(p)){return}if(!u&&!m(cQ.selection.getRng())){return}v.preventDefault(),cQ.setContent(""),p.firstChild&&n.isBlock(p.firstChild)?cQ.selection.setCursorLocation(p.firstChild,0):cQ.selection.setCursorLocation(p,0),cQ.nodeChanged()}})}function cL(){cQ.shortcuts.add("meta+a",null,"SelectAll")}function cH(){cQ.settings.content_editable||(n.bind(cQ.getDoc(),"focusin",function(){ct.setRng(ct.getRng())}),n.bind(cQ.getDoc(),"mousedown mouseup",function(l){l.target==cQ.getDoc().documentElement&&(cQ.getBody().focus(),"mousedown"==l.type?ct.placeCaretAt(l.clientX,l.clientY):ct.setRng(ct.getRng()))}))}function cY(){cQ.on("keydown",function(m){if(!cW(m)&&m.keyCode===i){if(!cQ.getBody().getElementsByTagName("hr").length){return}if(ct.isCollapsed()&&0===ct.getRng(!0).startOffset){var l=ct.getNode(),p=l.previousSibling;if("HR"==l.nodeName){return n.remove(l),void m.preventDefault()}p&&p.nodeName&&"hr"===p.nodeName.toLowerCase()&&(n.remove(p),m.preventDefault())}}})}function cJ(){window.Range.prototype.getClientRects||cQ.on("mousedown",function(m){if(!cW(m)&&"HTML"===m.target.nodeName){var l=cQ.getBody();l.blur(),setTimeout(function(){l.focus()},0)}})}function cA(){cQ.on("click",function(m){var l=m.target;/^(IMG|HR)$/.test(l.nodeName)&&(m.preventDefault(),ct.getSel().setBaseAndExtent(l,0,l,1),cQ.nodeChanged()),"A"==l.nodeName&&n.hasClass(l,"mce-item-anchor")&&(m.preventDefault(),ct.select(l))})}function cK(){function m(){var p=n.getAttribs(ct.getStart().cloneNode(!1));return function(){var q=ct.getStart();q!==cQ.getBody()&&(n.setAttrib(q,"style",null),cS(p,function(u){q.setAttributeNode(u.cloneNode(!0))}))}}function l(){return !ct.isCollapsed()&&n.getParent(ct.getStart(),n.isBlock)!=n.getParent(ct.getEnd(),n.isBlock)}cQ.on("keypress",function(q){var p;return cW(q)||8!=q.keyCode&&46!=q.keyCode||!l()?void 0:(p=m(),cQ.getDoc().execCommand("delete",!1,null),p(),q.preventDefault(),!1)}),n.bind(cQ.getDoc(),"cut",function(q){var p;!cW(q)&&l()&&(p=m(),setTimeout(function(){p()},0))})}function c0(){document.body.setAttribute("role","application")}function cy(){cQ.on("keydown",function(m){if(!cW(m)&&m.keyCode===i&&ct.isCollapsed()&&0===ct.getRng(!0).startOffset){var l=ct.getNode().previousSibling;if(l&&l.nodeName&&"table"===l.nodeName.toLowerCase()){return m.preventDefault(),!1}}})}function cp(){cM()>7||(cX("RespectVisibilityInDesign",!0),cQ.contentStyles.push(".mceHideBrInPre pre br {display: none}"),n.addClass(cQ.getBody(),"mceHideBrInPre"),e.addNodeFilter("pre",function(q){for(var m=q.length,v,p,u,l;m--;){for(v=q[m].getAll("br"),p=v.length;p--;){u=v[p],l=u.prev,l&&3===l.type&&"\n"!=l.value.charAt(l.value-1)?l.value+="\n":u.parent.insert(new c("#text",3),u,!0).value="\n"}}}),cZ.addNodeFilter("pre",function(q){for(var m=q.length,v,p,l,u;m--;){for(v=q[m].getAll("br"),p=v.length;p--;){l=v[p],u=l.prev,u&&3==u.type&&(u.value=u.value.replace(/\r?\n$/,""))}}}))}function at(){n.bind(cQ.getBody(),"mouseup",function(){var m,l=ct.getNode();"IMG"==l.nodeName&&((m=n.getStyle(l,"width"))&&(n.setAttrib(l,"width",m.replace(/[^0-9%]+/g,"")),n.setStyle(l,"width","")),(m=n.getStyle(l,"height"))&&(n.setAttrib(l,"height",m.replace(/[^0-9%]+/g,"")),n.setStyle(l,"height","")))})}function cR(){cQ.on("keydown",function(p){var v,q,m,u,l;if(!cW(p)&&p.keyCode==h.BACKSPACE&&(v=ct.getRng(),q=v.startContainer,m=v.startOffset,u=n.getRoot(),l=q,v.collapsed&&0===m)){for(;l&&l.parentNode&&l.parentNode.firstChild==l&&l.parentNode!=u;){l=l.parentNode}"BLOCKQUOTE"===l.tagName&&(cQ.formatter.toggle("blockquote",null,l),v=n.createRng(),v.setStart(q,0),v.setEnd(q,0),ct.setRng(v))}})}function ae(){function l(){cQ._refreshContentEditable(),cX("StyleWithCSS",!1),cX("enableInlineTableEditing",!1),bt.object_resizing||cX("enableObjectResizing",!1)}bt.readonly||cQ.on("BeforeExecCommand MouseDown",l)}function be(){function l(){cS(n.select("a"),function(p){var m=p.parentNode,q=n.getRoot();if(m.lastChild===p){for(;m&&!n.isBlock(m);){if(m.parentNode.lastChild!==m||m===q){return}m=m.parentNode}n.add(m,"br",{"data-mce-bogus":1})}})}cQ.on("SetContent ExecCommand",function(m){("setcontent"==m.type||"mceInsertLink"===m.command)&&l()})}function cC(){bt.forced_root_block&&cQ.on("init",function(){cX("DefaultParagraphSeparator",bt.forced_root_block)})}function cB(){cQ.on("Undo Redo SetContent",function(l){l.initial||cQ.execCommand("mceRepaint")})}function cz(){cQ.on("keydown",function(m){var l;cW(m)||m.keyCode!=i||(l=cQ.getDoc().selection.createRange(),l&&l.item&&(m.preventDefault(),cQ.undoManager.beforeChange(),n.remove(l.item(0)),cQ.undoManager.add()))})}function cr(){var l;cM()>=10&&(l="",cS("p div h1 h2 h3 h4 h5 h6".split(" "),function(m,p){l+=(p>0?",":"")+m+":empty"}),cQ.contentStyles.push(l+"{padding-right: 1px !important}"))}function cq(){cM()<9&&(e.addNodeFilter("noscript",function(p){for(var l=p.length,q,m;l--;){q=p[l],m=q.firstChild,m&&q.attr("data-mce-innertext",m.value)}}),cZ.addNodeFilter("noscript",function(q){for(var m=q.length,u,p,l;m--;){u=q[m],p=q[m].firstChild,p?p.value=j.decode(p.value):(l=u.attributes.map["data-mce-innertext"],l&&(u.attr("data-mce-innertext",null),p=new c("#text",3),p.value=l,p.raw=!0,u.append(p)))}}))}function cv(){function v(A,y){var B=m.createTextRange();try{B.moveToPoint(A,y)}catch(z){B=null}return B}function p(y){var z;y.button?(z=v(y.x,y.y),z&&(z.compareEndPoints("StartToStart",l)>0?z.setEndPoint("StartToStart",l):z.setEndPoint("EndToEnd",l),z.select())):x()}function x(){var y=u.selection.createRange();l&&!y.item&&0===y.compareEndPoints("StartToEnd",y)&&l.select(),n.unbind(u,"mouseup",x),n.unbind(u,"mousemove",p),l=w=0}var u=n.doc,m=u.body,w,l,q;u.documentElement.unselectable=!0,n.bind(u,"mousedown contextmenu",function(y){if("HTML"===y.target.nodeName){if(w&&x(),q=u.documentElement,q.scrollHeight>q.clientHeight){return}w=1,l=v(y.x,y.y),l&&(n.bind(u,"mouseup",x),n.bind(u,"mousemove",p),n.getRoot().focus(),l.select())}})}function ce(){cQ.on("keyup focusin mouseup",function(l){65==l.keyCode&&h.metaKeyPressed(l)||ct.normalize()},!0)}function co(){cQ.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function cu(){cQ.inline||cQ.on("keydown",function(){document.activeElement==document.body&&cQ.getWin().focus()})}function cx(){cQ.inline||(cQ.contentStyles.push("body {min-height: 150px}"),cQ.on("click",function(m){var l;if("HTML"==m.target.nodeName){if(b.ie>11){return void cQ.getBody().focus()}l=cQ.selection.getRng(),cQ.getBody().focus(),cQ.selection.setRng(l),cQ.selection.normalize(),cQ.nodeChanged()}}))}function cG(){b.mac&&cQ.on("keydown",function(l){!h.metaKeyPressed(l)||l.shiftKey||37!=l.keyCode&&39!=l.keyCode||(l.preventDefault(),cQ.selection.getSel().modify("move",37==l.keyCode?"backward":"forward","lineboundary"))})}function r(){cX("AutoUrlDetect",!1)}function s(){cQ.on("click",function(m){var l=m.target;do{if("A"===l.tagName){return void m.preventDefault()}}while(l=l.parentNode)}),cQ.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function t(){cQ.on("init",function(){cQ.dom.bind(cQ.getBody(),"submit",function(l){l.preventDefault()})})}function cD(){e.addNodeFilter("br",function(m){for(var l=m.length;l--;){"Apple-interchange-newline"==m[l].attr("class")&&m[l].remove()}})}function cN(){cQ.on("dragstart",function(l){cV(l)}),cQ.on("drop",function(m){if(!cW(m)){var p=cT(m);if(p&&p.id!=cQ.id){m.preventDefault();var l=d.getCaretRangeFromPoint(m.x,m.y,cQ.getDoc());ct.setRng(l),cO(p.html)}}})}var cS=f.each,cs=cQ.$,i=h.BACKSPACE,cw=h.DELETE,n=cQ.dom,ct=cQ.selection,bt=cQ.settings,e=cQ.parser,cZ=cQ.serializer,o=b.gecko,a=b.ie,cI=b.webkit,cE="data:text/mce-internal,",cF=a?"Text":"URL";cR(),cU(),ce(),cI&&(cP(),cH(),cA(),cC(),t(),cy(),cD(),b.iOS?(cu(),cx(),s()):cL()),a&&b.ie<11&&(cY(),c0(),cp(),at(),cz(),cr(),cq(),cv()),b.ie>=11&&(cx(),cy()),b.ie&&(cL(),r(),cN()),o&&(cY(),cJ(),cK(),ae(),be(),cB(),co(),cG(),cy())}}),aL(bZ,[bB,a9,a2],function(h,d,k){function g(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(a)?i.getDoc().documentElement:i.settings.event_root?(i.eventRoot||(i.eventRoot=j.select(i.settings.event_root)[0]),i.eventRoot):i.getBody()}function c(m,l){var o=g(m,l),a;if(m.delegates||(m.delegates={}),!m.delegates[l]){if(m.settings.event_root){if(b||(b={},m.editorManager.on("removeEditor",function(){var e;if(!m.editorManager.activeEditor&&b){for(e in b){m.dom.unbind(g(m,e))}b=null}})),b[l]){return}a=function(u){for(var t=u.target,p=m.editorManager.editors,e=p.length;e--;){var q=p[e].getBody();(q===t||j.isChildOf(t,q))&&(p[e].hidden||p[e].fire(l,u))}},b[l]=a,j.bind(o,l,a)}else{a=function(e){m.hidden||m.fire(l,e)},j.bind(o,l,a),m.delegates[l]=a}}}var j=d.DOM,b,f={bindPendingEventDelegates:function(){var a=this;k.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var l=this;l.settings.readonly||"focus"!=i&&"blur"!=i&&(a?l.initialized?c(l,i):l._pendingNativeEvents?l._pendingNativeEvents.push(i):l._pendingNativeEvents=[i]:l.initialized&&(l.dom.unbind(g(l,i),i,l.delegates[i]),delete l.delegates[i]))},unbindAllNativeEvents:function(){var i=this,a;if(i.delegates){for(a in i.delegates){i.dom.unbind(g(i,a),a,i.delegates[a])}delete i.delegates}i.inline||(i.getBody().onload=null,i.dom.unbind(i.getWin()),i.dom.unbind(i.getDoc())),i.dom.unbind(i.getBody()),i.dom.unbind(i.getContainer())}};return f=k.extend({},h,f)}),aL(aw,[a2,aH],function(d,b){var g=d.each,c=d.explode,a={f9:120,f10:121,f11:122},f=d.makeMap("alt,ctrl,shift,meta,access");return function(h){function i(p,n,k,r){var m,q,o;o={func:k,scope:r||h,desc:h.translate(n)},g(c(p,"+"),function(l){l in f?o[l]=!0:/^[0-9]{2,}$/.test(l)?o.keyCode=parseInt(l,10):(o.charCode=l.charCodeAt(0),o.keyCode=a[l]||l.toUpperCase().charCodeAt(0))}),m=[o.keyCode];for(q in f){o[q]?m.push(q):o[q]=!1}return o.id=m.join(","),o.access&&(o.alt=!0,b.mac?o.ctrl=!0:o.shift=!0),o.meta&&(b.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o}var e=this,j={};h.on("keyup keypress keydown",function(k){(k.altKey||k.ctrlKey||k.metaKey)&&!k.isDefaultPrevented()&&g(j,function(l){return l.ctrl==k.ctrlKey&&l.meta==k.metaKey&&l.alt==k.altKey&&l.shift==k.shiftKey&&(k.keyCode==l.keyCode||k.charCode&&k.charCode==l.charCode)?(k.preventDefault(),"keydown"==k.type&&l.func.call(l.scope),!0):void 0})}),e.add=function(p,n,q,k){var m;return m=q,"string"==typeof q?q=function(){h.execCommand(m,!1,null)}:d.isArray(m)&&(q=function(){h.execCommand(m[0],m[1],m[2])}),g(c(p.toLowerCase()),function(o){var l=i(o,n,q,k);j[l.id]=l}),!0},e.remove=function(l){var k=i(l);return j[k.id]?(delete j[k.id],!0):!1}}}),aL(b6,[],function(){function j(c,a){return function(){c.apply(a,arguments)}}function p(a){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=null,this._value=null,this._deferreds=[],q(a,j(b,this),j(h,this))}function f(c){var a=this;return null===this._state?void this._deferreds.push(c):void g(function(){var o=a._state?c.onFulfilled:c.onRejected;if(null===o){return void (a._state?c.resolve:c.reject)(a._value)}var l;try{l=o(a._value)}catch(e){return void c.reject(e)}c.resolve(l)})}function b(e){try{if(e===this){throw new TypeError("A promise cannot be resolved with itself.")}if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i){return void q(j(i,e),j(b,this),j(h,this))}}this._state=!0,this._value=e,d.call(this)}catch(c){h.call(this,c)}}function h(a){this._state=!1,this._value=a,d.call(this)}function d(){for(var c=0,a=this._deferreds.length;a>c;c++){f.call(this,this._deferreds[c])}this._deferreds=null}function m(i,a,l,c){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof a?a:null,this.resolve=l,this.reject=c}function q(o,c,s){var l=!1;try{o(function(i){l||(l=!0,c(i))},function(i){l||(l=!0,s(i))})}catch(a){if(l){return}l=!0,s(a)}}if(window.Promise){return window.Promise}var g=p.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return p.prototype["catch"]=function(a){return this.then(null,a)},p.prototype.then=function(l,c){var a=this;return new p(function(e,i){f.call(a,new m(l,c,e,i))})},p.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new p(function(e,u){function l(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r){return void r.call(n,function(o){l(t,o)},u)}}a[t]=n,0===--c&&e(a)}catch(i){u(i)}}if(0===a.length){return e([])}for(var c=a.length,s=0;s<a.length;s++){l(s,a[s])}})},p.resolve=function(a){return a&&"object"==typeof a&&a.constructor===p?a:new p(function(c){c(a)})},p.reject=function(a){return new p(function(c,e){e(a)})},p.race=function(a){return new p(function(e,o){for(var l=0,c=a.length;c>l;l++){a[l].then(e,o)}})},p}),aL(bp,[],function(){function a(b){return function(){return b}}return{constant:a}}),aL(cl,[b6,a2,bp],function(b,a,c){return function(h){function f(l){var i,m;return m={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},i=m[l.blob().type.toLowerCase()]||"dat",l.id()+"."+i}function j(l,i){return l?l.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i}function e(i){return{id:i.id,blob:i.blob,base64:i.base64,filename:c.constant(f(i))}}function g(o,l,p){var i,m;i=new XMLHttpRequest,i.open("POST",h.url),i.withCredentials=h.credentials,i.onload=function(){var n;return 200!=i.status?void p("HTTP Error: "+i.status):(n=JSON.parse(i.responseText),n&&"string"==typeof n.location?void l(j(h.basePath,n.location)):void p("Invalid JSON: "+i.responseText))},m=new FormData,m.append("file",o.blob(),f(o)),i.send(m)}function d(p){function l(i){return new b(function(o){var q=h.handler;q(e(i),function(r){o({url:r,blobInfo:i,status:!0})},function(r){o({url:"",blobInfo:i,status:!1,error:r})})})}var m;return h.url||h.handler!==g?(m=a.map(p,function(o){var i,q=o.id();return k[q]?k[q]:(i=l(o).then(function(n){return delete k[q],n})["catch"](function(n){return delete k[q],n}),k[q]=i,i)}),b.all(m)):new b(function(i){i([])})}var k={};return h=a.extend({credentials:!1,handler:g},h),{upload:d}}}),aL(by,[b6],function(d){function b(e){return new d(function(h){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200==this.status&&h(this.response)},i.send()})}function g(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}}function c(e){return new d(function(l){var k,j,m;e=g(e);try{k=atob(e.data)}catch(h){return void l(new Blob([]))}for(j=new Uint8Array(k.length),m=0;m<j.length;m++){j[m]=k.charCodeAt(m)}l(new Blob([j],{type:e.type}))})}function a(h){return 0===h.indexOf("blob:")?b(h):0===h.indexOf("data:")?c(h):null}function f(e){return new d(function(h){var i=new FileReader;i.onloadend=function(){h(i.result)},i.readAsDataURL(e)})}return{uriToBlob:a,blobToDataUri:f,parseDataUri:g}}),aL(aj,[b6,a4,by,aH],function(d,b,f,c){var a=0;return function(h){function e(j){function i(p,n){var o,l;return 0===p.src.indexOf("blob:")?(l=h.getByUri(p.src),void (l&&n({image:p,blobInfo:l}))):(o=f.parseDataUri(p.src).data,l=h.findFirst(function(q){return q.base64()===o}),void (l?n({image:p,blobInfo:l}):f.uriToBlob(p.src).then(function(t){var q="blobid"+a++,r=h.create(q,t,o);h.add(r),n({image:p,blobInfo:r})})))}var m,k;return m=b.filter(j.getElementsByTagName("img"),function(n){var l=n.src;return c.fileApi?n.hasAttribute("data-mce-bogus")?!1:n.hasAttribute("data-mce-placeholder")?!1:l&&l!=c.transparentSrc?0===l.indexOf("data:")||0===l.indexOf("blob:"):!1:!1}),k=b.map(m,function(l){var o;return g[l.src]?new d(function(n){g[l.src].then(function(p){n({image:l,blobInfo:p.blobInfo})})}):(o=new d(function(n){i(l,n)}).then(function(n){return delete g[n.image.src],n})["catch"](function(n){return delete g[l.src],n}),g[l.src]=o,o)}),d.all(k)}var g={};return{findAll:e}}}),aL(ab,[a4,bp],function(b,a){return function(){function m(i,c,l){return{id:k(i),blob:k(c),base64:k(l),blobUri:k(URL.createObjectURL(c))}}function h(c){f(c.id())||d.push(c)}function f(c){return j(function(i){return i.id()===c})}function j(c){return b.filter(d,c)[0]}function e(c){return j(function(i){return i.blobUri()==c})}function g(){b.each(d,function(c){URL.revokeObjectURL(c.blobUri())}),d=[]}var d=[],k=a.constant;return{create:m,add:h,get:f,getByUri:e,findFirst:j,destroy:g}}}),aL(ar,[a4,cl,aj,ab],function(c,a,d,b){return function(q){function j(f){return function(g){return q.selection?f(g):[]}}function y(h,f,i){var g=0;do{g=h.indexOf(f,g),-1!==g&&(h=h.substring(0,g)+i+h.substr(g+f.length),g+=i.length-f.length+1)}while(-1!==g);return h}function A(g,f,h){return g=y(g,'src="'+f+'"','src="'+h+'"'),g=y(g,'data-mce-src="'+f+'"','data-mce-src="'+h+'"')}function n(f,g){c.each(q.undoManager.data,function(h){h.content=A(h.content,f,g)})}function x(f){return k||(k=new a({url:q.settings.images_upload_url,basePath:q.settings.images_upload_base_path,credentials:q.settings.images_upload_credentials,handler:q.settings.images_upload_handler})),w().then(j(function(g){var h;return h=c.map(g,function(i){return i.blobInfo}),k.upload(h).then(j(function(i){return i=c.map(i,function(m,o){var l=g[o].image;return n(l.src,m.url),q.$(l).attr({src:m.url,"data-mce-src":q.convertURL(m.url,"src")}),{element:l,status:m.status}}),f&&f(i),i}))}))}function z(f){return q.settings.automatic_uploads!==!1?x(f):void 0}function w(){return t||(t=new d(e)),t.findAll(q.getBody()).then(j(function(f){return c.each(f,function(g){n(g.image.src,g.blobInfo.blobUri()),g.image.src=g.blobInfo.blobUri()}),f}))}function v(){e.destroy(),t=k=null}function r(f){return f.replace(/src="(blob:[^"]+)"/g,function(g,i){var h=e.getByUri(i);return h||(h=c.reduce(q.editorManager.editors,function(m,l){return m||l.editorUpload.blobCache.getByUri(i)},null)),h?'src="data:'+h.blob().type+";base64,"+h.base64()+'"':g})}var e=new b,k,t;return q.on("setContent",function(){q.settings.automatic_uploads!==!1?z():w()}),q.on("RawSaveContent",function(f){f.content=r(f.content)}),q.on("getContent",function(f){f.source_view||"raw"==f.format||(f.content=r(f.content))}),{blobCache:e,uploadImages:x,uploadImagesAuto:z,scanForImages:w,destroy:v}}}),aL(b4,[a9,aY,bP,bb,bK,bR,br,bG,bD,bJ,aB,bk,bl,bm,aD,aU,bw,bx,aV,b1,aH,a2,bZ,aw,ar],function(cA,cs,cp,cw,cr,cE,co,cu,cC,ce,cB,cz,cx,cq,ct,cy,bt,ae,cD,at,X,be,cF,V,G){function q(g,d,c){var h=this,b,f;b=h.documentBaseUrl=c.documentBaseURL,f=c.baseURI,h.settings=d=Z({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:b,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:h.convertURL,url_converter_scope:h,ie7_compat:!0},d),cp.language=d.language||"en",cp.languageLoad=d.language_load,cp.baseURL=c.baseURL,h.id=d.id=g,h.isNotDirty=!0,h.plugins={},h.documentBaseURI=new cq(d.document_base_url||b,{base_uri:f}),h.baseURI=f,h.contentCSS=[],h.contentStyles=[],h.shortcuts=new V(h),h.loadedCSS={},h.editorCommands=new cx(h),d.target&&(h.targetElm=d.target),h.suffix=c.suffix,h.editorManager=c,h.inline=d.inline,d.cache_suffix&&(X.cacheSuffix=d.cache_suffix.replace(/^[\?\&]+/,"")),d.override_viewport===!1&&(X.overrideViewPort=!1),c.fire("SetupEditor",h),h.execCallback("setup",h),h.$=cs.overrideDefaults(function(){return{context:h.inline?h.getBody():h.getDoc(),element:h.getBody()}})}var cv=cA.DOM,j=cp.ThemeManager,t=cp.PluginManager,Z=be.extend,Y=be.each,W=be.explode,K=be.inArray,J=be.trim,U=be.resolve,z=cy.Event,F=X.gecko,Q=X.ie;return q.prototype={render:function(){function g(){cv.unbind(window,"ready",g),k.render()}function d(){var i=ct.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!j.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",j.load(f.theme,a)}be.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),Y(f.external_plugins,function(m,l){t.load(l,m),f.plugins+=" "+l}),Y(f.plugins.split(/[ ,]/),function(m){if(m=J(m),m&&!t.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=t.dependencies(m);Y(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=t.createUrl(n,o),t.load(o.resource,o)})}else{t.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!z.domLoaded){return void cv.bind(window,"ready",g)}if(k.getElement()&&X.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||cv.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(cv.insertAfter(cv.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},cv.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.isNotDirty=!0,b._mceOldSubmit(b)})),k.windowManager=new bt(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=cv.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),d()}},init:function(){function R(d){var b=t.get(d),a,c;a=t.urls[d]||A.documentBaseUrl.replace(/\/$/,""),d=J(d),b&&-1===K(I,d)&&(Y(t.dependencies(d),function(e){R(e)}),c=new b(A,a,A.$),A.plugins[d]=c,c.init&&(c.init(A,a),I.push(d)))}var A=this,H=A.settings,C=A.getElement(),M,E,cH,B,L,T,x,S,P,N,D,I=[];if(this.editorManager.i18n.setCode(H.language),A.rtl=H.rtl_ui||this.editorManager.i18n.rtl,A.editorManager.add(A),H.aria_label=H.aria_label||cv.getAttrib(C,"aria-label",A.getLang("aria.rich_text_area")),H.theme&&("function"!=typeof H.theme?(H.theme=H.theme.replace(/-/,""),T=j.get(H.theme),A.theme=new T(A,j.urls[H.theme]),A.theme.init&&A.theme.init(A,j.urls[H.theme]||A.documentBaseUrl.replace(/\/$/,""),A.$)):A.theme=H.theme),Y(H.plugins.replace(/\-/g,"").split(/[ ,]/),R),H.render_ui&&A.theme&&(A.orgDisplay=C.style.display,"function"!=typeof H.theme?(M=H.width||C.style.width||C.offsetWidth,E=H.height||C.style.height||C.offsetHeight,cH=H.min_height||100,N=/^[0-9\.]+(|px)$/i,N.test(""+M)&&(M=Math.max(parseInt(M,10),100)),N.test(""+E)&&(E=Math.max(parseInt(E,10),cH)),L=A.theme.renderUI({targetNode:C,width:M,height:E,deltaWidth:H.delta_width,deltaHeight:H.delta_height}),H.content_editable||(E=(L.iframeHeight||E)+("number"==typeof E?L.deltaHeight||0:""),cH>E&&(E=cH))):(L=H.theme(A,C),L.editorContainer.nodeType&&(L.editorContainer=L.editorContainer.id=L.editorContainer.id||A.id+"_parent"),L.iframeContainer.nodeType&&(L.iframeContainer=L.iframeContainer.id=L.iframeContainer.id||A.id+"_iframecontainer"),E=L.iframeHeight||C.offsetHeight),A.editorContainer=L.editorContainer),H.content_css&&Y(W(H.content_css),function(a){A.contentCSS.push(A.documentBaseURI.toAbsolute(a))}),H.content_style&&A.contentStyles.push(H.content_style),H.content_editable){return C=B=L=null,A.initContentBody()}for(A.iframeHTML=H.doctype+"<html><head>",H.document_base_url!=A.documentBaseUrl&&(A.iframeHTML+='<base href="'+A.documentBaseURI.getURI()+'" />'),!X.caretAfter&&H.ie7_compat&&(A.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),A.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',D=0;D<A.contentCSS.length;D++){var O=A.contentCSS[D];A.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+be._addCacheSuffix(O)+'" />',A.loadedCSS[O]=!0}S=H.body_id||"tinymce",-1!=S.indexOf("=")&&(S=A.getParam("body_id","","hash"),S=S[A.id]||S),P=H.body_class||"",-1!=P.indexOf("=")&&(P=A.getParam("body_class","","hash"),P=P[A.id]||""),H.content_security_policy&&(A.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+H.content_security_policy+'" />'),A.iframeHTML+='</head><body id="'+S+'" class="mce-content-body '+P+'" data-id="'+A.id+'"><br></body></html>';var w='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+A.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&X.ie&&X.ie<12&&(x=w);var k=cv.create("iframe",{id:A.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:A.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:E,display:"block"}});if(k.onload=function(){k.onload=null,A.fire("load")},cv.setAttrib(k,"src",x||'javascript:""'),A.contentAreaContainer=L.iframeContainer,A.iframeElement=k,B=cv.add(L.iframeContainer,k),Q){try{A.getDoc()}catch(cG){B.src=x=w}}L.editorContainer&&(cv.get(L.editorContainer).style.display=A.orgDisplay,A.hidden=cv.isHidden(L.editorContainer)),A.getElement().style.display="none",cv.setAttrib(A.id,"aria-hidden",!0),x||A.initContentBody(),C=B=L=null},initContentBody:function(b){var g=this,e=g.settings,d=g.getElement(),c=g.getDoc(),f,a;e.inline||(g.getElement().style.visibility=g.orgVisibility),b||e.content_editable||(c.open(),c.write(g.iframeHTML),c.close()),e.content_editable&&(g.on("remove",function(){var h=this.getBody();cv.removeClass(h,"mce-content-body"),cv.removeClass(h,"mce-edit-focus"),cv.setAttrib(h,"contentEditable",null)}),cv.addClass(d,"mce-content-body"),g.contentDocument=c=e.content_document||document,g.contentWindow=e.content_window||window,g.bodyElement=d,e.content_document=e.content_window=null,e.root_name=d.nodeName.toLowerCase()),f=g.getBody(),f.disabled=!0,e.readonly||(g.inline&&"static"==cv.getStyle(f,"position",!0)&&(f.style.position="relative"),f.contentEditable=g.getParam("content_editable_state",!0)),f.disabled=!1,g.editorUpload=new G(g),g.schema=new ae(e),g.dom=new cA(c,{keep_values:!0,url_converter:g.convertURL,url_converter_scope:g,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:g.inline?g.getBody():null,collect:e.content_editable,schema:g.schema,onSetAttrib:function(h){g.fire("SetAttrib",h)}}),g.parser=new cD(e,g.schema),g.parser.addAttributeFilter("src,href,style,tabindex",function(p,l){for(var n=p.length,k,u=g.dom,h,m;n--;){if(k=p[n],h=k.attr(l),m="data-mce-"+l,!k.attributes.map[m]){if(0===h.indexOf("data:")||0===h.indexOf("blob:")){continue}"style"===l?(h=u.serializeStyle(u.parseStyle(h),k.name),h.length||(h=null),k.attr(m,h),k.attr(l,h)):"tabindex"===l?(k.attr(m,h),k.attr(l,null)):k.attr(m,g.convertURL(h,l,k.name))}}}),g.parser.addNodeFilter("script",function(k){for(var h=k.length,l,i;h--;){l=k[h],i=l.attr("type")||"no/type",0!==i.indexOf("mce-")&&l.attr("type","mce-"+i)}}),g.parser.addNodeFilter("#cdata",function(i){for(var h=i.length,k;h--;){k=i[h],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),g.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(m){for(var k=m.length,l,h=g.schema.getNonEmptyElements();k--;){l=m[k],l.isEmpty(h)&&(l.append(new cr("br",1)).shortEnded=!0)}}),g.serializer=new cE(e,g),g.selection=new cu(g.dom,g.getWin(),g.serializer,g),g.formatter=new cC(g),g.undoManager=new ce(g),g.forceBlocks=new cz(g),g.enterKey=new cB(g),g._nodeChangeDispatcher=new cw(g),g.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(c.body.spellcheck=!1,cv.setAttrib(f,"spellcheck","false")),g.fire("PostRender"),g.quirks=new at(g),e.directionality&&(f.dir=e.directionality),e.nowrap&&(f.style.whiteSpace="nowrap"),e.protect&&g.on("BeforeSetContent",function(h){Y(e.protect,function(i){h.content=h.content.replace(i,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),g.on("SetContent",function(){g.addVisual(g.getBody())}),e.padd_empty_editor&&g.on("PostProcess",function(h){h.content=h.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),g.load({initial:!0,format:"html"}),g.startContent=g.getContent({format:"raw"}),g.initialized=!0,g.bindPendingEventDelegates(),g.fire("init"),g.focus(!0),g.nodeChanged({initial:!0}),g.execCallback("init_instance_callback",g),g.contentStyles.length>0&&(a="",Y(g.contentStyles,function(h){a+=h+"\r\n"}),g.dom.addStyle(a)),Y(g.contentCSS,function(h){g.loadedCSS[h]||(g.dom.loadCSS(h),g.loadedCSS[h]=!0)}),e.auto_focus&&setTimeout(function(){var h;h=e.auto_focus===!0?g:g.editorManager.get(e.auto_focus),h.destroyed||h.focus()},100),d=c=f=null},focus:function(h){var m=this,d=m.selection,b=m.settings.content_editable,g,c,k=m.getDoc(),p;if(!h){if(g=d.getRng(),g.item&&(c=g.item(0)),m._refreshContentEditable(),b||(X.opera||m.getBody().focus(),m.getWin().focus()),F||b){if(p=m.getBody(),p.setActive){try{p.setActive()}catch(f){p.focus()}}else{p.focus()}b&&d.normalize()}c&&c.ownerDocument==k&&(g=k.body.createControlRange(),g.addElement(c),g.select())}m.editorManager.setActive(m)},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?U(b):0,d=U(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==aI?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?Y(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),g.length>1?a[J(g[0])]=J(g[1]):a[J(g[0])]=J(g)}):a=c,a):c},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addContextToolbar:function(c,a){var d=this,b;d.contextToolbars=d.contextToolbars||[],"string"==typeof c&&(b=c,c=function(f){return d.dom.is(f,b)}),d.contextToolbars.push({predicate:c,items:a})},addCommand:function(b,a,c){this.editorCommands.addCommand(b,a,c)},addQueryStateHandler:function(b,a,c){this.editorCommands.addQueryStateHandler(b,a,c)},addQueryValueHandler:function(b,a,c){this.editorCommands.addQueryValueHandler(b,a,c)},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(c,a,d,b){return this.editorCommands.execCommand(c,a,d,b)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(cv.show(a.getContainer()),cv.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(Q&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(cv.hide(b.getContainer()),cv.setStyle(b.id,"display",b.orgDisplay)),b.hidden=!0,b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aI?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),"raw"==d.format&&b.fire("RawSaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=cv.getParent(b.id,"form"))&&Y(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var g=this,c=g.getBody(),a,f;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||g.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(f=Q&&11>Q?"":'<br data-mce-bogus="1">',"TABLE"==c.nodeName?d="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(d="<li>"+f+"</li>"),a=g.settings.forced_root_block,a&&g.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=f,d=g.dom.createHTML(a,g.settings.forced_root_block_attrs,d)):Q||d||(d='<br data-mce-bogus="1">'),g.dom.setHTML(c,d),g.fire("SetContent",b)):("raw"!==b.format&&(d=new co({validate:g.validate},g.schema).serialize(g.parser.parse(d,{isRootContent:!0}))),b.content=J(d),g.dom.setHTML(c,b.content),b.no_events||g.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),"text"!=c.format?c.content=J(d):c.content=d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(b,a){a&&(b=Z({content:b},a)),this.execCommand("mceInsertContent",!1,b)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=cv.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=cv.get(this.id)),this.targetElm},getWin:function(){var b=this,a;return b.contentWindow||(a=b.iframeElement,a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aI&&(f.hasVisual=b.visual),Y(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||!f.hasVisual?a.removeClass(h,d):a.addClass(h,d));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&f.hasVisual?a.addClass(h,d):a.removeClass(h,d)))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var a=this;a.removed||(a.save(),a.removed=1,a.unbindAllNativeEvents(),a.hasHiddenInput&&cv.remove(a.getElement().nextSibling),a.inline||(Q&&10>Q&&a.getDoc().execCommand("SelectAll",!1,null),cv.setStyle(a.id,"display",a.orgDisplay),a.getBody().onload=null),a.fire("remove"),a.editorManager.remove(a),cv.remove(a.getContainer()),a.editorUpload.destroy(),a.destroy())},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),cv.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return F?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},Z(q.prototype,cF),q}),aL(cn,[],function(){var b={},a="en";return{setCode:function(c){c&&(a=c,this.rtl=this.data[c]?"rtl"===this.data[c]._dir:!1)},getCode:function(){return a},rtl:!1,add:function(d,f){var e=b[d];e||(b[d]=e={});for(var c in f){e[c]=f[c]}this.setCode(d)},translate:function(e){var d;if(d=b[a],d||(d={}),"undefined"==typeof e){return e}if("string"!=typeof e&&e.raw){return e.raw}if(e.push){var c=e.slice(1);e=(d[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(g,f){return c[f]})}return(d[e]||e).replace(/{context:\w+}$/,"")},data:b}}),aL(af,[a9,aH],function(g,d){function j(n){function k(){try{return document.activeElement}catch(l){return document.body}}function a(q,l){if(l&&l.startContainer){if(!q.isChildOf(l.startContainer,q.getRoot())||!q.isChildOf(l.endContainer,q.getRoot())){return}return{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}}return l}function p(q,l){var r;return l.startContainer?(r=q.getDoc().createRange(),r.setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}function i(l){return !!b.getParent(l,j.isEditorUIElement)}function o(l){var e=l.editor;e.on("init",function(){(e.inline||d.ie)&&("onbeforedeactivate" in document&&d.ie<9?e.dom.bind(e.getBody(),"beforedeactivate",function(r){if(r.target==e.getBody()){try{e.lastRng=e.selection.getRng()}catch(q){}}}):e.on("nodechange mouseup keyup",function(r){var q=k();"nodechange"==r.type&&r.selectionChange||(q&&q.id==e.id+"_ifr"&&(q=e.getBody()),e.dom.isChildOf(q,e.getBody())&&(e.lastRng=e.selection.getRng()))}),d.webkit&&!f&&(f=function(){var q=n.activeEditor;if(q&&q.selection){var r=q.selection.getRng();r&&!r.collapsed&&(e.lastRng=r)}},b.bind(document,"selectionchange",f)))}),e.on("setcontent",function(){e.lastRng=null}),e.on("mousedown",function(){e.selection.lastFocusBookmark=null}),e.on("focusin",function(){var q=n.focusedEditor;e.selection.lastFocusBookmark&&(e.selection.setRng(p(e,e.selection.lastFocusBookmark)),e.selection.lastFocusBookmark=null),q!=e&&(q&&q.fire("blur",{focusedEditor:e}),n.setActive(e),n.focusedEditor=e,e.fire("focus",{blurredEditor:q}),e.focus(!0)),e.lastRng=null}),e.on("focusout",function(){window.setTimeout(function(){var q=n.focusedEditor;i(k())||q!=e||(e.fire("blur",{focusedEditor:null}),n.focusedEditor=null,e.selection&&(e.selection.lastFocusBookmark=null))},0)}),c||(c=function(q){var r=n.activeEditor;r&&q.target.ownerDocument==document&&(r.selection&&q.target!=r.getBody()&&(r.selection.lastFocusBookmark=a(r.dom,r.lastRng)),q.target==document.body||i(q.target)||n.focusedEditor!=r||(r.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},b.bind(document,"focusin",c)),e.inline&&!h&&(h=function(q){var u=n.activeEditor;if(u.inline&&!u.dom.isChildOf(q.target,u.getBody())){var s=u.selection.getRng();s.collapsed||(u.lastRng=s)}},b.bind(document,"mouseup",h))}function m(e){n.focusedEditor==e.editor&&(n.focusedEditor=null),n.activeEditor||(b.unbind(document,"selectionchange",f),b.unbind(document,"focusin",c),b.unbind(document,"mouseup",h),f=c=h=null)}n.on("AddEditor",o),n.on("RemoveEditor",m)}var f,c,h,b=g.DOM;return j.isEditorUIElement=function(a){return -1!==a.className.toString().indexOf("mce-")},j}),aL(b8,[b4,aY,a9,bm,aH,a2,bB,cn,af],function(L,z,E,B,H,D,P,A,G){function N(a){F(O.editors,function(b){b.fire("ResizeWindow",a)})}function w(a,b){b!==k&&(b?z(window).on("resize",N):z(window).off("resize",N),k=b)}function M(c){var a=O.editors,d;delete a[c.id];for(var b=0;b<a.length;b++){if(a[b]==c){a.splice(b,1),d=!0;break}}return O.activeEditor==c&&(O.activeEditor=a[0]),O.focusedEditor==c&&(O.focusedEditor=null),d}function K(a){return a&&!(a.getContainer()||a.getBody()).parentNode&&(M(a),a.unbindAllNativeEvents(),a.destroy(!0),a=null),a}var I=E.DOM,C=D.explode,F=D.each,J=D.extend,q=0,j,O,k=!1;return O={$:z,majorVersion:"4",minorVersion:"2.7",releaseDate:"2015-10-27",editors:[],i18n:A,activeEditor:null,setup:function(){var g=this,p,d,f="",b,l;if(d=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),b=window.tinymce||window.tinyMCEPreInit){p=b.base||b.baseURL,f=b.suffix}else{for(var r=document.getElementsByTagName("script"),h=0;h<r.length;h++){l=r[h].src;var m=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!=m.indexOf(".min")&&(f=".min"),p=l.substring(0,l.lastIndexOf("/"));break}}!p&&document.currentScript&&(l=document.currentScript.src,-1!=l.indexOf(".min")&&(f=".min"),p=l.substring(0,l.lastIndexOf("/")))}g.baseURL=new B(d).toAbsolute(p),g.documentBaseURL=d,g.baseURI=new B(g.baseURL),g.suffix=f,g.focusManager=new G(g)},init:function(e){function m(i){var a=i.id;return a||(a=i.name,a=a&&!I.get(a)?i.name:I.uniqueId(),i.setAttribute("id",a)),a}function g(l,p,o){if(!K(f.get(l))){var a=new L(l,p,f);a.targetElm=a.targetElm||o,b.push(a),a.render()}}function d(a){var i=e[a];if(i){return i.apply(f,Array.prototype.slice.call(arguments,2))}}function h(i,a){return a.constructor===RegExp?a.test(i.className):I.hasClass(i,a)}function c(){var i,a;if(I.unbind(window,"ready",c),d("onpageload"),e.types){return void F(e.types,function(l){F(I.select(l.selector),function(n){g(m(n),J({},e,l),n)})})}if(e.selector){return void F(I.select(e.selector),function(l){g(m(l),e,l)})}switch(e.target&&g(m(e.target),e),e.mode){case"exact":i=e.elements||"",i.length>0&&F(C(i),function(l){var o;(o=I.get(l))?g(l,e,o):F(document.forms,function(p){F(p.elements,function(r){r.name===l&&(l="mce_editor_"+q++,I.setAttrib(r,"id",l),g(l,e,r))})})});break;case"textareas":case"specific_textareas":F(I.select("textarea"),function(l){e.editor_deselector&&h(l,e.editor_deselector)||(!e.editor_selector||h(l,e.editor_selector))&&g(m(l),e,l)})}e.oninit&&(i=a=0,F(b,function(l){a++,l.initialized?i++:l.on("init",function(){i++,i==a&&d("oninit")}),i==a&&d("oninit")}))}var f=this,b=[];f.settings=e,I.bind(window,"ready",c)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(b){var a=this,c=a.editors;return c[b.id]=b,c.push(b),w(c,!0),a.activeEditor=b,a.fire("AddEditor",{editor:b}),j||(j=function(){a.fire("BeforeUnload")},I.bind(window,"beforeunload",j)),b},createEditor:function(a,b){return this.add(new L(a,b,this))},remove:function(d){var b=this,f,c=b.editors,a;if(d){return"string"==typeof d?(d=d.selector||d,void F(I.select(d),function(g){a=c[g.id],a&&b.remove(a)})):(a=d,c[a.id]?(M(a)&&b.fire("RemoveEditor",{editor:a}),c.length||I.unbind(window,"beforeunload",j),a.remove(),w(c,c.length>0),a):null)}for(f=c.length-1;f>=0;f--){b.remove(c[f])}},execCommand:function(b,e,c){var a=this,d=a.get(c);switch(b){case"mceAddEditor":return a.get(c)||new L(c,a.settings,a).render(),!0;case"mceRemoveEditor":return d&&d.remove(),!0;case"mceToggleEditor":return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",0,c),!0)}return a.activeEditor?a.activeEditor.execCommand(b,e,c):!1},triggerSave:function(){F(this.editors,function(a){a.save()})},addI18n:function(b,a){A.add(b,a)},translate:function(a){return A.translate(a)},setActive:function(b){var a=this.activeEditor;this.activeEditor!=b&&(a&&a.fire("deactivate",{relatedTarget:b}),b.fire("activate",{relatedTarget:a})),this.activeEditor=b}},J(O,P),O.setup(),window.tinymce=window.tinyMCE=O,O}),aL(al,[b8,a2],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(i,e){"html4"===f.settings.schema&&n(e,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aL(cf,[bB,a2],function(b,a){var c={send:function(g){function f(){!g.async||4==d.readyState||h++>10000?(g.success&&10000>h&&200==d.status?g.success.call(g.success_scope,""+d.responseText,d,g):g.error&&g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",d,g),d=null):setTimeout(f,10)}var d,h=0;if(g.scope=g.scope||this,g.success_scope=g.success_scope||g.scope,g.error_scope=g.error_scope||g.scope,g.async=g.async===!1?!1:!0,g.data=g.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(g.content_type),d.open(g.type||(g.data?"POST":"GET"),g.url,g.async),g.crossDomain&&(d.withCredentials=!0),g.content_type&&d.setRequestHeader("Content-Type",g.content_type),g.requestheaders&&a.each(g.requestheaders,function(i){d.setRequestHeader(i.key,i.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d=c.fire("beforeSend",{xhr:d,settings:g}).xhr,d.send(g.data),!g.async){return f()}setTimeout(f,10)}}};return a.extend(c,b),c}),aL(b0,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aL(aT,[b0,cf,a2],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aL(ai,[a9],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aI?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aL(ck,[],function(){function j(){q=[];for(var a in m){q.push(a)}h.length=q.length}function f(){function t(s){var u,i;return i=s!==aI?a+s:c.indexOf(",",a),-1===i||i>c.length?null:(u=c.substring(a,i),a=i+1,u)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{var o=t();if(null===o){break}if(l=t(parseInt(o,32)||0),null!==l){if(o=t(),null===o){break}e=t(parseInt(o,32)||0),l&&(m[l]=e)}}while(null!==l);j()}}function b(){var c,l="";if(k){for(var e in m){c=m[e],l+=(l?",":"")+e.length.toString(32)+","+e+","+c.length.toString(32)+","+c}d.setAttribute(g,l);try{d.save(g)}catch(a){}j()}}var h,d,m,q,g,k;try{if(window.localStorage){return localStorage}}catch(p){}return g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return q[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h}),aL(b2,[a9,aU,aD,bP,a2,aH],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aL(a8,[b5,a2],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var f=this,k=f.settings,g,d,j,c;g=k.firstControlClass,d=k.lastControlClass,h.each(function(i){i.classes.remove(g).remove(d).add(k.controlClass),i.visible()&&(j||(j=i),c=i)}),j&&j.classes.add(g),c&&c.classes.add(d)},renderHtml:function(d){var c=this,f="";return c.applyClasses(d.items()),d.items().each(function(g){f+=g.renderHtml()}),f},recalc:function(){},postRender:function(){},isNative:function(){return !1}})}),aL(bO,[a8],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aL(bF,[bM,cg],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.getEl().lastChild.innerHTML=c.encode(d.value)}),c._super()},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aL(ag,[bM,bF],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.classes.toggle("tooltip-n","bc-tc"==e),h.classes.toggle("tooltip-nw","bc-tl"==e),h.classes.toggle("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},postRender:function(){var g=this,f=g.settings;g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},bindStates:function(){function g(i){h.aria("disabled",i),h.classes.toggle("disabled",i)}function f(i){h.aria("pressed",i),h.classes.toggle("active",i)}var h=this;return h.state.on("change:disabled",function(e){g(e.value)}),h.state.on("change:active",function(i){f(i.value)}),h.state.get("disabled")&&g(!0),h.state.get("active")&&f(!0),h._super()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aL(bS,[ag],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b._super(c),c=b.settings,d=b.settings.size,b.on("click mousedown",function(f){f.preventDefault()}),b.on("touchstart",function(f){b.fire("click",f),f.preventDefault()}),c.subtype&&b.classes.add(c.subtype),d&&b.classes.add("btn-"+d),c.icon&&b.icon(c.icon)},icon:function(b){return arguments.length?(this.state.set("icon",b),this):this.state.get("icon")},repaint:function(){var c=this.getEl().firstChild,b;c&&(b=c.style,b.width=b.height="100%"),this._super()},renderHtml:function(){var f=this,c=f._id,h=f.classPrefix,d=f.state.get("icon"),b,g=f.state.get("text");return b=f.settings.image,b?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",g&&f.classes.add("btn-has-text"),d=f.settings.icon?h+"ico "+h+"i-"+d:"",'<div id="'+c+'" class="'+f.classes+'" tabindex="-1" aria-labelledby="'+c+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(g?f.encode(g):"")+"</button></div>"},bindStates:function(){function c(d){for(var f=b.getEl().firstChild.firstChild;f;f=f.nextSibling){3==f.nodeType&&(f.data=b.translate(d))}b.classes.toggle("btn-has-text",!!d)}var b=this;return b.state.on("change:text",function(d){c(d.value)}),b.state.on("change:icon",function(h){var f=h.value,e=b.classPrefix;b.settings.icon=f,f=f?e+"ico "+e+"i-"+b.settings.icon:"";var g=b.getEl().firstChild,d=g.getElementsByTagName("i")[0];f?(d&&d==g.firstChild||(d=document.createElement("i"),g.insertBefore(d,g.firstChild)),d.className=f):d&&g.removeChild(d),c(b.state.get("text"))}),b._super()}})}),aL(aA,[aS],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.classes.add("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aL(bd,[ag],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(b){return arguments.length?(this.state.set("checked",b),this):this.state.get("checked")},value:function(b){return arguments.length?this.checked(b):this.checked()},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c.state.get("text"))+"</span></div>"},bindStates:function(){function c(d){b.classes.toggle("checked",d),b.aria("checked",d)}var b=this;return b.state.on("change:text",function(d){b.getEl("al").firstChild.data=b.translate(d.value)}),b.state.on("change:checked change:value",function(d){b.fire("change"),c(d.value)}),b.state.on("change:icon",function(g){var j=g.value,f=b.classPrefix;if("undefined"==typeof j){return b.settings.icon}b.settings.icon=j,j=j?f+"ico "+f+"i-"+b.settings.icon:"";var d=b.getEl().firstChild,h=d.getElementsByTagName("i")[0];j?(h&&h==d.firstChild||(h=document.createElement("i"),d.insertBefore(h,d.firstChild)),h.className=j):h&&d.removeChild(h)}),b.state.get("checked")&&c(!0),b._super()}})}),aL(bU,[ag,bE,bC,aY],function(c,a,d,b){return c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.classes.add("combobox"),f.subinput=!0,f.ariaTarget="inp",g.menu=g.menu||g.values,g.menu&&(g.icon="caret"),f.on("click",function(j){var e=j.target,h=f.getEl();if(b.contains(h,e)||e==h){for(;e&&e!=h;){e.id&&-1!=e.id.indexOf("-open")&&(f.fire("action"),g.menu&&(f.showMenu(),j.aria&&f.menu.items()[0].focus())),e=e.parentNode}}}),f.on("keydown",function(h){"INPUT"==h.target.nodeName&&13==h.keyCode&&f.parents().reverse().each(function(k){var j=f.state.get("value"),e=f.getEl("inp").value;return h.preventDefault(),f.state.set("value",e),j!=e&&f.fire("change"),k.hasEventListeners("submit")&&k.toJSON?(k.fire("submit",{data:k.toJSON()}),!1):void 0})}),f.on("keyup",function(h){"INPUT"==h.target.nodeName&&f.state.set("value",h.target.value)})},showMenu:function(){var g=this,h=g.settings,f;g.menu||(f=h.menu||[],f.length?f={type:"menu",items:f}:f.type=f.type||"menu",g.menu=a.create(f).parent(g).renderTo(g.getContainerElm()),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control===g.menu&&g.focus()}),g.menu.on("show hide",function(e){e.control.items().each(function(i){i.active(i.value()==g.value())})}).fire("show"),g.menu.on("select",function(e){g.value(e.control.value())}),g.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&g.menu.hide()}),g.aria("expanded",!0)),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var m=this,j=m.getEl(),h=m.getEl("open"),n=m.layoutRect(),g,k;g=h?n.w-d.getSize(h).width-10:n.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(k=m.layoutRect().h-2+"px"),b(j.firstChild).css({width:g,lineHeight:k}),m._super(),m},postRender:function(){var f=this;return b(this.getEl("inp")).on("change",function(e){f.state.set("value",e.target.value),f.fire("change",e)}),f._super()},renderHtml:function(){var m=this,q=m._id,h=m.settings,f=m.classPrefix,k=m.state.get("value")||"",g,p,u="",j="";return"spellcheck" in h&&(j+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(j+=' maxlength="'+h.maxLength+'"'),h.size&&(j+=' size="'+h.size+'"'),h.subtype&&(j+=' type="'+h.subtype+'"'),m.disabled()&&(j+=' disabled="disabled"'),g=h.icon,g&&"caret"!=g&&(g=f+"ico "+f+"i-"+h.icon),p=m.state.get("text"),(g||p)&&(u='<div id="'+q+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+q+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=g?'<i class="'+g+'"></i>':'<i class="'+f+'caret"></i>')+(p?(g?" ":"")+p:"")+"</button></div>",m.classes.add("has-open")),'<div id="'+q+'" class="'+m.classes+'"><input id="'+q+'-inp" class="'+f+'textbox" value="'+m.encode(k,!1)+'" hidefocus="1"'+j+' placeholder="'+m.encode(h.placeholder)+'" />'+u+"</div>"},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var f=this;return f.state.on("change:value",function(e){f.getEl("inp").value!=e.value&&(f.getEl("inp").value=e.value)}),f.state.on("change:disabled",function(e){f.getEl("inp").disabled=e.value}),f._super()},remove:function(){b(this.getEl("inp")).off(),this._super()}})}),aL(bH,[bU],function(a){return a.extend({init:function(c){var b=this;c.spellcheck=!1,c.onaction&&(c.icon="none"),b._super(c),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(c){var b=this.getEl().getElementsByTagName("i")[0];if(b){try{b.style.background=c}catch(d){}}},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b._rendered&&b.repaintColor(c.value)}),b._super()}})}),aL(ah,[bS,a6],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),aL(aq,[ah,a9],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var h=this,f=h._id,k=h.classPrefix,g=h.state.get("text"),d=h.settings.icon?k+"ico "+k+"i-"+h.settings.icon:"",j=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+j+"></i>":"")+'<span id="'+f+'-preview" class="'+k+'preview"></span>'+(g?(d?" ":"")+g:"")+'</button><button type="button" class="'+k+'open" hidefocus="1" tabindex="-1"> <i class="'+k+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aL(av,[],function(){function c(p){function k(y,x,f){var B,D,h,A,C,z;return B=0,D=0,h=0,y/=255,x/=255,f/=255,C=a(y,a(x,f)),z=d(y,d(x,f)),C==z?(h=C,{h:0,s:0,v:100*h}):(A=y==C?x-f:f==C?y-x:f-y,B=y==C?3:f==C?1:5,B=60*(B-A/(z-C)),D=(z-C)/z,h=z,{h:b(B),s:b(100*D),v:b(100*h)})}function g(y,u,z){var h,x,f,A;if(y=(parseInt(y,10)||0)%360,u=parseInt(u,10)/100,z=parseInt(z,10)/100,u=d(0,a(u,1)),z=d(0,a(z,1)),0===u){return void (q=n=m=b(255*z))}switch(h=y/60,x=z*u,f=x*(1-Math.abs(h%2-1)),A=z-x,Math.floor(h)){case 0:q=x,n=f,m=0;break;case 1:q=f,n=x,m=0;break;case 2:q=0,n=x,m=f;break;case 3:q=0,n=f,m=x;break;case 4:q=f,n=0,m=x;break;case 5:q=x,n=0,m=f;break;default:q=n=m=0}q=b(255*(q+A)),n=b(255*(n+A)),m=b(255*(m+A))}function t(){function f(h){return h=parseInt(h,10).toString(16),h.length>1?h:"0"+h}return"#"+f(q)+f(n)+f(m)}function w(){return{r:q,g:n,b:m}}function j(){return k(q,n,m)}function r(h){var f;return"object"==typeof h?"r" in h?(q=h.r,n=h.g,m=h.b):"v" in h&&g(h.h,h.s,h.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(h))?(q=parseInt(f[1],10),n=parseInt(f[2],10),m=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(h))?(q=parseInt(f[1],16),n=parseInt(f[2],16),m=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(h))&&(q=parseInt(f[1]+f[1],16),n=parseInt(f[2]+f[2],16),m=parseInt(f[3]+f[3],16)),q=0>q?0:q>255?255:q,n=0>n?0:n>255?255:n,m=0>m?0:m>255?255:m,v}var v=this,q=0,n=0,m=0;p&&r(p),v.toRgb=w,v.toHsv=j,v.toHex=t,v.parse=r}var a=Math.min,d=Math.max,b=Math.round;return c}),aL(aa,[ag,aZ,bC,av],function(c,a,d,b){return c.extend({Defaults:{classes:"widget colorpicker"},init:function(f){this._super(f)},postRender:function(){function p(s,h){var l=d.getPos(s),f,u;return f=h.pageX-l.x,u=h.pageY-l.y,f=Math.max(0,Math.min(f/s.clientWidth,1)),u=Math.max(0,Math.min(u/s.clientHeight,1)),{x:f,y:u}}function k(l,h){var f=(360-l.h)/360;d.css(q,{top:100*f+"%"}),h||d.css(m,{left:l.s+"%",top:100-l.v+"%"}),n.style.background=new b({s:100,v:100,h:l.h}).toHex(),w.color().parse({s:l.s,v:l.v,h:l.h})}function g(e){var f;f=p(n,e),r.s=100*f.x,r.v=100*(1-f.y),k(r),w.fire("change")}function t(e){var f;f=p(v,e),r=j.toHsv(),r.h=360*(1-f.y),k(r,!0),w.fire("change")}var w=this,j=w.color(),r,v,q,n,m;v=w.getEl("h"),q=w.getEl("hp"),n=w.getEl("sv"),m=w.getEl("svp"),w._repaint=function(){r=j.toHsv(),k(r)},w._super(),w._svdraghelper=new a(w._id+"-sv",{start:g,drag:g}),w._hdraghelper=new a(w._id+"-h",{start:t,drag:t}),w._repaint()},rgb:function(){return this.color().toRgb()},value:function(g){var f=this;return arguments.length?(f.color().parse(g),void (f._rendered&&f._repaint())):f.color().toHex()},color:function(){return this._color||(this._color=new b),this._color},renderHtml:function(){function k(){var r,q,s="",p,o;for(p="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=l.split(","),r=0,q=o.length-1;q>r;r++){s+='<div class="'+j+'colorpicker-h-chunk" style="height:'+100/q+"%;"+p+o[r]+",endColorstr="+o[r+1]+");-ms-"+p+o[r]+",endColorstr="+o[r+1]+')"></div>'}return s}var h=this,m=h._id,j=h.classPrefix,g,l="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",f="background: -ms-linear-gradient(top,"+l+");background: linear-gradient(to bottom,"+l+");";return g='<div id="'+m+'-h" class="'+j+'colorpicker-h" style="'+f+'">'+k()+'<div id="'+m+'-hp" class="'+j+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+h.classes+'"><div id="'+m+'-sv" class="'+j+'colorpicker-sv"><div class="'+j+'colorpicker-overlay1"><div class="'+j+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+j+'colorpicker-selector1"><div class="'+j+'colorpicker-selector2"></div></div></div></div></div>'+g+"</div>"}})}),aL(ch,[ag],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.classes.add("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.row()[g],index:g})}),b.row(b.settings.row)},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},row:function(b){return arguments.length?(this.state.set("row",b),this):this.state.get("row")},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes+'">'+b._getDataPathHtml(b.state.get("row"))+"</div>"},bindStates:function(){var b=this;return b.state.on("change:row",function(c){b.innerHtml(b._getDataPathHtml(c.value))}),b._super()},_getDataPathHtml:function(g){var d=this,j=g||[],f,c,h="",b=d.classPrefix;for(f=0,c=j.length;c>f;f++){h+=(f>0?'<div class="'+b+'divider" aria-hidden="true"> '+d.settings.delimiter+" </div>":"")+'<div role="button" class="'+b+"path-item"+(f==c-1?" "+b+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+d._id+"-"+f+'" aria-level="'+f+'">'+j[f].name+"</div>"}return h||(h='<div class="'+b+'path-item">\xa0</div>'),h}})}),aL(am,[ch,b8],function(b,a){return b.extend({postRender:function(){function d(g){if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){return !0}if("bookmark"===g.getAttribute("data-mce-type")){return !0}}return !1}var f=this,c=a.activeEditor;return c.settings.elementpath!==!1&&(f.on("select",function(g){c.focus(),c.selection.select(this.row()[g.index].element),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});if(j.isDefaultPrevented()||g.push({name:j.name,element:k[e]}),j.isPropagationStopped()){break}}}f.row(g)})),f._super()}})}),aL(a0,[aS],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.classes.add("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aL(ay,[aS,a0,a2],function(b,a,c){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,d=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),d.each(function(g){var e,h=g.settings.label;h&&(e=new a(c.extend({items:{type:"label",id:g._id+"-l",text:h,flex:0,forId:g._id,disabled:g.disabled()}},f.settings.formItemDefaults)),e.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),f.replace(g,e),e.add(g))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var d=this;d._super(),d.fromJSON(d.settings.data)},bindStates:function(){function f(){var j=0,l=[],h,g,k;if(d.settings.labelGapCalc!==!1){for(k="children"==d.settings.labelGapCalc?d.find("formitem"):d.items(),k.filter("formitem").each(function(m){var n=m.items()[0],e=n.getEl().clientWidth;j=e>j?e:j,l.push(n)}),g=d.settings.labelGap||0,h=l.length;h--;){l[h].settings.minWidth=j+g}}}var d=this;d._super(),d.on("show",f),f()}})}),aL(ca,[ay],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aL(cm,[bU,a2],function(b,a){return b.extend({init:function(h){var k=this,g=tinymce.activeEditor,d=g.settings,j,c,f;h.spellcheck=!1,f=d.file_picker_types||d.file_browser_callback_types,f&&(f=a.makeMap(f,/[, ]/)),(!f||f[h.filetype])&&(c=d.file_picker_callback,!c||f&&!f[h.filetype]?(c=d.file_browser_callback,!c||f&&!f[h.filetype]||(j=function(){c(k.getEl("inp").id,k.value(),h.filetype,window)})):j=function(){var e=k.fire("beforecall").meta;e=a.extend({filetype:h.filetype},e),c.call(g,function(l,i){k.value(l).fire("change",{meta:i})},k.value(),e)}),j&&(h.icon="browse",h.onaction=j),k._super(h)}})}),aL(bo,[bO],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox;c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aL(bi,[bO],function(a){return a.extend({recalc:function(cK){var cx,cC,cz,cG,cB,cO,cy,cE,cM,cw,cL,cJ,cH,cA,cD,cI,cv=[],cs,cN,ct,co,cu,cP,bt,X,J,cF,G,K,cq,cp,ce,Z,Y,at,Q,U,ae,be,cr=Math.max,j=Math.min;for(cz=cK.items().filter(":visible"),cG=cK.layoutRect(),cB=cK.paddingBox,cO=cK.settings,cJ=cK.isRtl()?cO.direction||"row-reversed":cO.direction,cy=cO.align,cE=cK.isRtl()?cO.pack||"end":cO.pack,cM=cO.spacing||0,("row-reversed"==cJ||"column-reverse"==cJ)&&(cz=cz.set(cz.toArray().reverse()),cJ=cJ.split("-")[0]),"column"==cJ?(J="y",bt="h",X="minH",cF="maxH",K="innerH",G="top",cq="deltaH",cp="contentH",Q="left",Y="w",ce="x",Z="innerW",at="minW",U="right",ae="deltaW",be="contentW"):(J="x",bt="w",X="minW",cF="maxW",K="innerW",G="left",cq="deltaW",cp="contentW",Q="top",Y="h",ce="y",Z="innerH",at="minH",U="bottom",ae="deltaH",be="contentH"),cL=cG[K]-cB[G]-cB[G],cP=cw=0,cx=0,cC=cz.length;cC>cx;cx++){cH=cz[cx],cA=cH.layoutRect(),cD=cH.settings,cI=cD.flex,cL-=cC-1>cx?cM:0,cI>0&&(cw+=cI,cA[cF]&&cv.push(cH),cA.flex=cI),cL-=cA[X],cs=cB[Q]+cA[at]+cB[U],cs>cP&&(cP=cs)}if(co={},0>cL?co[X]=cG[X]-cL+cG[cq]:co[X]=cG[K]-cL+cG[cq],co[at]=cP+cG[ae],co[cp]=cG[K]-cL,co[be]=cP,co.minW=j(co.minW,cG.maxW),co.minH=j(co.minH,cG.maxH),co.minW=cr(co.minW,cG.startMinWidth),co.minH=cr(co.minH,cG.startMinHeight),!cG.autoResize||co.minW==cG.minW&&co.minH==cG.minH){for(ct=cL/cw,cx=0,cC=cv.length;cC>cx;cx++){cH=cv[cx],cA=cH.layoutRect(),cN=cA[cF],cs=cA[X]+cA.flex*ct,cs>cN?(cL-=cA[cF]-cA[X],cw-=cA.flex,cA.flex=0,cA.maxFlexSize=cN):cA.maxFlexSize=0}for(ct=cL/cw,cu=cB[G],co={},0===cw&&("end"==cE?cu=cL+cB[G]:"center"==cE?(cu=Math.round(cG[K]/2-(cG[K]-cL)/2)+cB[G],0>cu&&(cu=cB[G])):"justify"==cE&&(cu=cB[G],cM=Math.floor(cL/(cz.length-1)))),co[ce]=cB[Q],cx=0,cC=cz.length;cC>cx;cx++){cH=cz[cx],cA=cH.layoutRect(),cs=cA.maxFlexSize||cA[X],"center"===cy?co[ce]=Math.round(cG[Z]/2-cA[Y]/2):"stretch"===cy?(co[Y]=cr(cA[at]||0,cG[Z]-cB[Q]-cB[U]),co[ce]=cB[Q]):"end"===cy&&(co[ce]=cG[Z]-cA[Y]-cB.top),cA.flex>0&&(cs+=cA.flex*ct),co[bt]=cs,co[J]=cu,cH.layoutRect(co),cH.recalc&&cH.recalc(),cu+=cs+cM}}else{if(co.w=co.minW,co.h=co.minH,cK.layoutRect(co),this.recalc(cK),null===cK._lastRect){var q=cK.parent();q&&(q._lastRect=null,q.recalc())}}}})}),aL(cb,[a8],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})},isNative:function(){return !0}})}),aL(az,[bM,ag,a6,a2,b8,aH],function(h,d,k,g,c,j){function b(s){function y(a,e){return function(){var i=this;s.on("nodeChange",function(r){var t=s.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.replace(/;$/,"").split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var A={text:t.title,icon:t.icon};if(t.items){A.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),A.format=r,A.cmd=t.cmd}o.push(A)}),o}}function z(){var i;return i=e(s.settings.style_formats_merge?s.settings.style_formats?u.concat(s.settings.style_formats):u:s.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return s.on("init",function(){f(a,function(i){s.formatter.register(i.name,i)})}),{type:"menu",items:z(),onPostRender:function(i){s.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?s.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this;i.parent().on("show",function(){var t,o;t=i.settings.format,t&&(i.disabled(!s.formatter.canApply(t)),i.active(s.formatter.match(t))),o=i.settings.cmd,o&&i.active(s.queryCommandState(o))})},onclick:function(){this.settings.format&&v(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}function n(){var a=this;s.formatter?s.formatter.formatChanged(name,function(i){a.active(i)}):s.on("init",function(){s.formatter.formatChanged(name,function(i){a.active(i)})})}function w(a){return function(){function i(){return s.undoManager?s.undoManager[a]():!1}var e=this;a="redo"==a?"hasRedo":"hasUndo",e.disabled(!i()),s.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){e.disabled(!i())})}}function p(){var a=this;s.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(s.hasVisual)}function v(a){a.control&&(a=a.control.value()),a&&s.execCommand("mceToggleFormat",!1,a)}var x;x=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){s.addButton(e,{tooltip:a,onPostRender:function(){n()},onclick:function(){v(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){n()}})}),s.addButton("undo",{tooltip:"Undo",onPostRender:w("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:w("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:p,cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){s.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),s.on("mousedown",function(){k.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:x}),s.addButton("formatselect",function(){var e=[],a=m(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return s.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:v,onPostRender:y(e)}}),s.addButton("fontselect",function(){var l="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(s.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:y(a,"fontname"),onselect:function(i){i.control.settings.value&&s.execCommand("FontName",!1,i.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=s.settings.fontsize_formats||e;return f(a.split(" "),function(A){var u=A,z=A,o=A.split("=");o.length>1&&(u=o[0],z=o[1]),l.push({text:u,value:z})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:y(l,"fontsize"),onclick:function(i){i.control.settings.value&&s.execCommand("FontSize",!1,i.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:x})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aL(aE,[bO],function(a){return a.extend({recalc:function(cy){var be=cy.settings,cq,ce,cu,cp,cC,bt,cs,cA,at,cz,cx,cv,co,cr,cw,ae,X,cB,Y,U,Z,cD,O=[],G=[],q,ct,j,z,W,V;be=cy.settings,cu=cy.items().filter(":visible"),cp=cy.layoutRect(),ce=be.columns||Math.ceil(Math.sqrt(cu.length)),cq=Math.ceil(cu.length/ce),X=be.spacingH||be.spacing||0,cB=be.spacingV||be.spacing||0,Y=be.alignH||be.align,U=be.alignV||be.align,cw=cy.paddingBox,W="reverseRows" in be?be.reverseRows:cy.isRtl(),Y&&"string"==typeof Y&&(Y=[Y]),U&&"string"==typeof U&&(U=[U]);for(cz=0;ce>cz;cz++){O.push(0)}for(cx=0;cq>cx;cx++){G.push(0)}for(cx=0;cq>cx;cx++){for(cz=0;ce>cz&&(at=cu[cx*ce+cz],at);cz++){cA=at.layoutRect(),q=cA.minW,ct=cA.minH,O[cz]=q>O[cz]?q:O[cz],G[cx]=ct>G[cx]?ct:G[cx]}}for(j=cp.innerW-cw.left-cw.right,Z=0,cz=0;ce>cz;cz++){Z+=O[cz]+(cz>0?X:0),j-=(cz>0?X:0)+O[cz]}for(z=cp.innerH-cw.top-cw.bottom,cD=0,cx=0;cq>cx;cx++){cD+=G[cx]+(cx>0?cB:0),z-=(cx>0?cB:0)+G[cx]}if(Z+=cw.left+cw.right,cD+=cw.top+cw.bottom,cs={},cs.minW=Z+(cp.w-cp.innerW),cs.minH=cD+(cp.h-cp.innerH),cs.contentW=cs.minW-cp.deltaW,cs.contentH=cs.minH-cp.deltaH,cs.minW=Math.min(cs.minW,cp.maxW),cs.minH=Math.min(cs.minH,cp.maxH),cs.minW=Math.max(cs.minW,cp.startMinWidth),cs.minH=Math.max(cs.minH,cp.startMinHeight),!cp.autoResize||cs.minW==cp.minW&&cs.minH==cp.minH){cp.autoResize&&(cs=cy.layoutRect(cs),cs.contentW=cs.minW-cp.deltaW,cs.contentH=cs.minH-cp.deltaH);var Q;Q="start"==be.packV?0:z>0?Math.floor(z/cq):0;var J=0,I=be.flexWidths;if(I){for(cz=0;cz<I.length;cz++){J+=I[cz]}}else{J=ce}var K=j/J;for(cz=0;ce>cz;cz++){O[cz]+=I?I[cz]*K:K}for(co=cw.top,cx=0;cq>cx;cx++){for(cv=cw.left,bt=G[cx]+Q,cz=0;ce>cz&&(V=W?cx*ce+ce-1-cz:cx*ce+cz,at=cu[V],at);cz++){cr=at.settings,cA=at.layoutRect(),cC=Math.max(O[cz],cA.startMinWidth),cA.x=cv,cA.y=co,ae=cr.alignH||(Y?Y[cz]||Y[0]:null),"center"==ae?cA.x=cv+cC/2-cA.w/2:"right"==ae?cA.x=cv+cC-cA.w:"stretch"==ae&&(cA.w=cC),ae=cr.alignV||(U?U[cz]||U[0]:null),"center"==ae?cA.y=co+bt/2-cA.h/2:"bottom"==ae?cA.y=co+bt-cA.h:"stretch"==ae&&(cA.h=bt),at.layoutRect(cA),cv+=cC+X,at.recalc&&at.recalc()}co+=bt+cB}}else{if(cs.w=cs.minW,cs.h=cs.minH,cy.layoutRect(cs),this.recalc(cy),null===cy._lastRect){var F=cy.parent();F&&(F._lastRect=null,F.recalc())}}}})}),aL(bN,[ag],function(a){return a.extend({renderHtml:function(){var b=this;return b.classes.add("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aL(bW,[ag,bC],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.classes.add("widget").add("label"),c.canFocus=!1,d.multiline&&c.classes.add("autoscroll"),d.strong&&c.classes.add("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.classes.add("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},renderHtml:function(){var d=this,c=d.settings.forId;return'<label id="'+d._id+'" class="'+d.classes+'"'+(c?' for="'+c+'"':"")+">"+d.encode(d.state.get("text"))+"</label>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.innerHtml(c.encode(d.value))}),c._super()}})}),aL(b9,[aS],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.classes.add("toolbar")},postRender:function(){var b=this;return b.items().each(function(c){c.classes.add("toolbar-item")}),b._super()}})}),aL(ax,[b9],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),aL(aK,[bS,bE,ax],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),h=g.settings,g.classes.add("menubtn"),h.fixedWidth&&g.classes.add("fixed-width"),g.aria("haspopup",!0),g.state.set("menu",h.menu||g.render())},showMenu:function(){var g=this,h;return g.menu&&g.menu.visible()?g.hideMenu():(g.menu||(h=g.state.get("menu")||[],h.length?h={type:"menu",items:h}:h.type=h.type||"menu",h.renderTo?g.menu=h.parent(g).show().renderTo():g.menu=b.create(h).parent(g).renderTo(),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control.parent()===g.menu&&(e.stopPropagation(),g.focus(),g.hideMenu())}),g.menu.on("select",function(){g.focus()}),g.menu.on("show hide",function(e){e.control==g.menu&&g.activeMenu("show"==e.type),g.aria("expanded","show"==e.type)}).fire("show")),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),void g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.classes.toggle("active",g)},renderHtml:function(){var l=this,j=l._id,k=l.classPrefix,h=l.settings.icon,m,g=l.state.get("text");return m=l.settings.image,m?(h="none","string"!=typeof m&&(m=window.getSelection?m[0]:m[1]),m=" style=\"background-image: url('"+m+"')\""):m="",h=l.settings.icon?k+"ico "+k+"i-"+h:"",l.aria("role",l.parent() instanceof f?"menuitem":"button"),'<div id="'+j+'" class="'+l.classes+'" tabindex="-1" aria-labelledby="'+j+'"><button id="'+j+'-open" role="presentation" type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+m+"></i>":"")+(g?(h?"\xa0":"")+l.encode(g):"")+' <i class="'+k+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},bindStates:function(){var g=this;return g.state.on("change:menu",function(){g.menu&&g.menu.remove(),g.menu=null}),g._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aL(ak,[ag,bE,aH],function(b,a,c){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var d=this,g;d._super(f),f=d.settings,d.classes.add("menu-item"),f.menu&&d.classes.add("menu-item-expand"),f.preview&&d.classes.add("menu-item-preview"),g=d.state.get("text"),("-"===g||"|"===g)&&(d.classes.add("menu-item-sep"),d.aria("role","separator"),d.state.set("text","-")),f.selectable&&(d.aria("role","menuitemcheckbox"),d.classes.add("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||d.classes.add("menu-item-normal"),d.on("mousedown",function(h){h.preventDefault()}),f.menu&&!f.ariaHideMenu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var g=this,j=g.settings,f,d=g.parent();if(d.items().each(function(e){e!==g&&e.hideMenu()}),j.menu){f=g.menu,f?f.show():(f=j.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",d.settings.itemDefaults&&(f.itemDefaults=d.settings.itemDefaults),f=g.menu=a.create(f).parent(g).renderTo(),f.reflow(),f.on("cancel",function(e){e.stopPropagation(),g.focus(),f.hide()}),f.on("show hide",function(i){i.control.items().each(function(k){k.active(k.settings.selected)})}).fire("show"),f.on("hide",function(e){e.control===f&&g.classes.remove("selected")}),f.submenu=!0),f._parentMenu=d,f.classes.add("menu-sub");var h=f.testMoveRel(g.getEl(),g.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(g.getEl(),h),f.rel=h,h="menu-sub-"+h,f.classes.remove(f._lastRel).add(h),f._lastRel=h,g.classes.add("selected"),g.aria("expanded",!0)}},hideMenu:function(){var d=this;return d.menu&&(d.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),d.menu.hide(),d.aria("expanded",!1)),d},renderHtml:function(){function j(s){var o,q,l={};for(l=c.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},s=s.split("+"),o=0;o<s.length;o++){q=l[s[o].toLowerCase()],q&&(s[o]=q)}return s.join("+")}var n=this,d=n._id,h=n.settings,f=n.classPrefix,m=n.encode(n.state.get("text")),p=n.settings.icon,g="",k=h.shortcut;return p&&n.parent().classes.add("menu-has-icons"),h.image&&(p="none",g=" style=\"background-image: url('"+h.image+"')\""),k&&(k=j(k)),p=f+"ico "+f+"i-"+(n.settings.icon||"none"),'<div id="'+d+'" class="'+n.classes+'" tabindex="-1">'+("-"!==m?'<i class="'+p+'"'+g+"></i>\xa0":"")+("-"!==m?'<span id="'+d+'-text" class="'+f+'text">'+m+"</span>":"")+(k?'<div id="'+d+'-shortcut" class="'+f+'menu-shortcut">'+k+"</div>":"")+(h.menu?'<div class="'+f+'caret"></div>':"")+"</div>"},postRender:function(){var g=this,d=g.settings,h=d.textStyle;if("function"==typeof h&&(h=h.call(this)),h){var f=g.getEl("text");f&&f.setAttribute("style",h)}return g.on("mouseenter click",function(e){e.control===g&&(d.menu||"click"!==e.type?(g.showMenu(),e.aria&&g.menu.focus(!0)):(g.fire("select"),g.parent().hideAll()))}),g._super(),g},active:function(d){return"undefined"!=typeof d&&this.aria("checked",d),this._super(d)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aL(b7,[a6,ak,a2],function(c,a,d){var b=c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(j){var g=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var h=j.items,f=h.length;f--;){h[f]=d.extend({},j.itemDefaults,h[f])}}g._super(j),g.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.image||g.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return b}),aL(bc,[aK,b7],function(b,a){return b.extend({init:function(h){function f(i){for(var e=0;e<i.length;e++){if(d=i[e].selected||h.value===i[e].value){return j=j||i[e].text,k.state.set("value",i[e].value),!0}if(i[e].menu&&f(i[e].menu)){return !0}}}var k=this,g,d,j,c;k._super(h),h=k.settings,k._values=g=h.values,g&&("undefined"!=typeof h.value&&f(g),!d&&g.length>0&&(j=g[0].text,k.state.set("value",g[0].value)),k.state.set("menu",g)),k.state.set("text",h.text||j||g[0].text),k.classes.add("listbox"),k.on("select",function(e){var i=e.control;c&&(e.lastControl=c),h.multiple?i.active(!i.active()):k.value(e.control.value()),c=i})},bindStates:function(){function d(g,h){g instanceof a&&g.items().each(function(i){i.hasMenus()||i.active(i.value()===h)})}function f(k,h){var j;if(k){for(var g=0;g<k.length;g++){if(k[g].value===h){return k[g]}if(k[g].menu&&(j=f(k[g].menu,h))){return j}}}}var c=this;return c.on("show",function(e){d(e.control,c.value())}),c.state.on("change:value",function(h){var g=f(c.state.get("menu"),h.value);g?c.text(g.text):c.text(c.settings.text)}),c._super()}})}),aL(an,[bd],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aL(bV,[],function(){function h(v,y,q){var m,u,p,x,s,w;return m=y.x,u=y.y,p=v.w,x=v.h,s=y.w,w=y.h,q=(q||"").split(""),"b"===q[0]&&(u+=w),"r"===q[1]&&(m+=s),"c"===q[0]&&(u+=f(w/2)),"c"===q[1]&&(m+=f(s/2)),"b"===q[3]&&(u-=x),"r"===q[4]&&(m-=p),"c"===q[3]&&(u-=f(x/2)),"c"===q[4]&&(m-=f(p/2)),{x:m,y:u,w:p,h:x}}function d(m,s,p,l){var q,e;for(e=0;e<l.length;e++){if(q=h(m,s,l[e]),q.x>=p.x&&q.x+q.w<=p.w+p.x&&q.y>=p.y&&q.y+q.h<=p.h+p.y){return l[e]}}}function k(i,a,l){return{x:i.x-a,y:i.y-l,w:i.w+2*a,h:i.h+2*l}}function g(p,l){var q,o,a,m;return q=b(p.x,l.x),o=b(p.y,l.y),a=j(p.x+p.w,l.x+l.w),m=j(p.y+p.h,l.y+l.h),0>a-q||0>m-o?null:{x:q,y:o,w:a-q,h:m-o}}function c(y,C,p){var a,v,m,D,q,A,B,z,x,w;return q=y.x,A=y.y,B=y.x+y.w,z=y.y+y.h,x=C.x+C.w,w=C.y+C.h,a=b(0,C.x-q),v=b(0,C.y-A),m=b(0,B-x),D=b(0,z-w),q+=a,A+=v,p&&(B+=a,z+=v,q-=m,A-=D),B-=m,z-=D,{x:q,y:A,w:B-q,h:z-A}}var j=Math.min,b=Math.max,f=Math.round;return{inflate:k,relativePosition:h,findBestRelativePosition:d,intersect:g,clamp:c}}),aL(bT,[ag,aZ],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.classes.add("resizehandle"),"both"==d.settings.direction&&d.classes.add("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),aL(ao,[ag,aZ,bC],function(d,b,f){function c(h,g,i){return g>h&&(h=g),h>i&&(h=i),h}function a(m,j){var l,h,n,g,k;"v"==m.settings.orientation?(g="top",n="height",h="h"):(g="left",n="width",h="w"),l=(m.layoutRect()[h]||100)-f.getSize(m.getEl("handle"))[n],k=l*((j-m._minValue)/(m._maxValue-m._minValue))+"px",m.getEl("handle").style[g]=k,m.getEl("handle").style.height=m.layoutRect().h+"px"}return d.extend({init:function(h){var g=this;h.previewFilter||(h.previewFilter=function(i){return Math.round(100*i)/100}),g._super(h),g.classes.add("slider"),"v"==h.orientation&&g.classes.add("vertical"),g._minValue=h.minValue||0,g._maxValue=h.maxValue||100,g._initValue=g.state.get("value")},renderHtml:function(){var h=this,g=h._id,i=h.classPrefix;return'<div id="'+g+'" class="'+h.classes+'"><div id="'+g+'-handle" class="'+i+'slider-handle"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var r=this,m,j,w=0,y,k,v,x,t,q,n,g;k=r._minValue,v=r._maxValue,y=r.value(),"v"==r.settings.orientation?(t="screenY",q="top",n="height",g="h"):(t="screenX",q="left",n="width",g="w"),r._super(),r._dragHelper=new b(r._id,{handle:r._id+"-handle",start:function(e){m=e[t],j=parseInt(r.getEl("handle").style[q],10),x=(r.layoutRect()[g]||100)-f.getSize(r.getEl("handle"))[n],r.fire("dragstart",{value:y})},drag:function(e){var l=e[t]-m,i=r.getEl("handle");w=c(j+l,0,x),i.style[q]=w+"px",y=k+w/x*(v-k),r.value(y),r.tooltip().text(""+r.settings.previewFilter(y)).show().moveRel(i,"bc tc"),r.fire("drag",{value:y})},stop:function(){r.tooltip().hide(),r.fire("dragend",{value:y})}})},repaint:function(){this._super(),a(this,this.value())},bindStates:function(){var g=this;return g.state.on("change:value",function(e){a(g,e.value)}),g._super()}})}),aL(bY,[ag],function(a){return a.extend({renderHtml:function(){var b=this;return b.classes.add("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes+'"></div>'}})}),aL(a7,[aK,bC,aY],function(b,a,c){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var h=this,g=h.getEl(),f=h.layoutRect(),j,d;return h._super(),j=g.firstChild,d=g.lastChild,c(j).css({width:f.w-a.getSize(d).width,height:f.h-2}),c(d).css({height:f.h-2}),h},activeMenu:function(f){var d=this;c(d.getEl().lastChild).toggleClass(d.classPrefix+"active",f)},renderHtml:function(){var h=this,f=h._id,k=h.classPrefix,g,d=h.state.get("icon"),j=h.state.get("text");return g=h.settings.image,g?(d="none","string"!=typeof g&&(g=window.getSelection?g[0]:g[1]),g=" style=\"background-image: url('"+g+"')\""):g="",d=h.settings.icon?k+"ico "+k+"i-"+d:"",'<div id="'+f+'" class="'+h.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"'+g+"></i>":"")+(j?(d?" ":"")+j:"")+'</button><button type="button" class="'+k+'open" hidefocus="1" tabindex="-1">'+(h._menuBtnText?(d?"\xa0":"")+h._menuBtnText:"")+' <i class="'+k+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){var h=g.target;if(g.control==this){for(;h;){if(g.aria&&"down"!=g.aria.key||"BUTTON"==h.nodeName&&-1==h.className.indexOf("open")){return g.stopImmediatePropagation(),void (d&&d.call(this,g))}h=h.parentNode}}}),delete f.settings.onclick,f._super()}})}),aL(cc,[cb],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return !0}})}),aL(bf,[b3,aY,bC],function(b,a,c){return b.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var f;this.activeTabId&&(f=this.getEl(this.activeTabId),a(f).removeClass(this.classPrefix+"active"),f.setAttribute("aria-selected","false")),this.activeTabId="t"+d,f=this.getEl("t"+d),f.setAttribute("aria-selected","true"),a(f).addClass(this.classPrefix+"active"),this.items()[d].show().fire("showtab"),this.reflow(),this.items().each(function(e,g){d!=g&&e.hide()})},renderHtml:function(){var g=this,d=g._layout,h="",f=g.classPrefix;return g.preRender(),d.preRender(g),g.items().each(function(j,e){var k=g._id+"-t"+e;j.aria("role","tabpanel"),j.aria("labelledby",k),h+='<div id="'+k+'" class="'+f+'tab" unselectable="on" role="tab" aria-controls="'+j._id+'" aria-selected="false" tabIndex="-1">'+g.encode(j.settings.title)+"</div>"}),'<div id="'+g._id+'" class="'+g.classes+'" hidefocus="1" tabindex="-1"><div id="'+g._id+'-head" class="'+f+'tabs" role="tablist">'+h+'</div><div id="'+g._id+'-body" class="'+g.bodyClasses+'">'+d.renderHtml(g)+"</div></div>"},postRender:function(){var d=this;d._super(),d.settings.activeTab=d.settings.activeTab||0,d.activateTab(d.settings.activeTab),this.on("click",function(e){var g=e.target.parentNode;if(e.target.parentNode.id==d._id+"-head"){for(var f=g.childNodes.length;f--;){g.childNodes[f]==e.target&&d.activateTab(f)}}})},initLayoutRect:function(){var h=this,f,g,d;g=c.getSize(h.getEl("head")).width,g=0>g?0:g,d=0,h.items().each(function(i){g=Math.max(g,i.layoutRect().minW),d=Math.max(d,i.layoutRect().minH)}),h.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=g,i.settings.h=d,i.layoutRect({x:0,y:0,w:g,h:d})});var j=c.getSize(h.getEl("head")).height;return h.settings.minWidth=g,h.settings.minHeight=d+j,f=h._super(),f.deltaH+=j,f.innerH=f.h-f.deltaH,f}})}),aL(ac,[ag],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.classes.add("textbox"),c.multiline?b.classes.add("multiline"):(b.on("keydown",function(d){var f;13==d.keyCode&&(d.preventDefault(),b.parents().reverse().each(function(g){return g.toJSON?(f=g,!1):void 0}),b.fire("submit",{data:f.toJSON()}))}),b.on("keyup",function(d){b.state.set("value",d.target.value)}))},repaint:function(){var h=this,d,k,g,c=0,j=0,b;d=h.getEl().style,k=h._layoutRect,b=h._lastRepaintRect||{};var f=document;return !h.settings.multiline&&f.all&&(!f.documentMode||f.documentMode<=8)&&(d.lineHeight=k.h-j+"px"),g=h.borderBox,c=g.left+g.right+8,j=g.top+g.bottom+(h.settings.multiline?8:0),k.x!==b.x&&(d.left=k.x+"px",b.x=k.x),k.y!==b.y&&(d.top=k.y+"px",b.y=k.y),k.w!==b.w&&(d.width=k.w-c+"px",b.w=k.w),k.h!==b.h&&(d.height=k.h-j+"px",b.h=k.h),h._lastRepaintRect=b,h.fire("repaint",{},!1),h},renderHtml:function(){var f=this,c=f._id,g=f.settings,d=f.encode(f.state.get("value"),!1),b="";return"spellcheck" in g&&(b+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(b+=' maxlength="'+g.maxLength+'"'),g.size&&(b+=' size="'+g.size+'"'),g.subtype&&(b+=' type="'+g.subtype+'"'),f.disabled()&&(b+=' disabled="disabled"'),g.multiline?'<textarea id="'+c+'" class="'+f.classes+'" '+(g.rows?' rows="'+g.rows+'"':"")+' hidefocus="1"'+b+">"+d+"</textarea>":'<input id="'+c+'" class="'+f.classes+'" value="'+d+'" hidefocus="1"'+b+" />"},value:function(b){return arguments.length?(this.state.set("value",b),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var b=this;b._super(),b.$el.on("change",function(c){b.state.set("value",c.target.value),b.fire("change",c)})},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b.getEl().value!=c.value&&(b.getEl().value=c.value)}),b.state.on("change:disabled",function(c){b.getEl().disabled=c.value}),b._super()},remove:function(){this.$el.off(),this._super()}})}),aL(cj,[aY,bM],function(b,a){return function(g,e){var d=this,f,c=a.classPrefix;d.show=function(h,i){return d.hide(),f=!0,window.setTimeout(function(){f&&(b(g).append('<div class="'+c+"throbber"+(e?" "+c+"throbber-inline":"")+'"></div>'),i&&i())},h||0),d},d.hide=function(){var h=g.lastChild;return h&&-1!=h.className.indexOf("throbber")&&h.parentNode.removeChild(h),f=!1,d}}}),ba([aU,a5,aH,a2,aY,aO,aR,aG,a9,aD,bP,aF,bK,bx,bq,aV,bn,br,bR,bL,bA,bz,bG,bD,bJ,bl,bm,b5,aN,bB,bI,bj,ad,bM,bE,ci,aS,aZ,bX,b3,cg,aM,a6,ap,cd,bw,bZ,aw,b6,b4,cn,af,b8,cf,b0,aT,ai,ck,b2,a8,bO,bF,ag,bS,aA,bd,bU,bH,ah,aq,av,aa,ch,am,a0,ay,ca,cm,bo,bi,cb,az,aE,bN,bW,b9,ax,aK,ak,b7,bc,an,bV,bT,ao,bY,a7,cc,bf,ac,cj])}(this);