(function(a){a(function(){var q=".property-items",f=".property-item",e=".property-each-item",n=".property-operation-container",k=".property-operation-add",o=".property-operation-delete",d="btn-success",g="btn-danger",j="icon-plus2",p="icon-trash",i=400;var m=function(r,w){var s,t,v,u;s=a(q);t=s.find(f).first().clone();t.find(e).not(t.find(e).first()).remove();t.find(".select2").remove();t.find(".bootstrap-tagsinput").remove();t.find(".p-item-select").find(":selected").removeAttr("selected").end().children("option").first().attr("selected","selected");t.find(".p-item-input").val("");v=t.children(n).find(k);v.removeClass(k.substr(1)+" "+d).addClass(o.substr(1)+" "+g).attr("title","حذف گروهبندی");v.find("i").removeClass(j).addClass(p);v.on("click",function(x){l(this,x)});u=t.find(e).first().find(k);u.on("click",function(x){c(this,x)});s.append(t);b()};var l=function(r,s){a(r).closest(f).stop().fadeOut(i,function(){a(this).remove()})};var c=function(r,v){var s,t,u;s=a(r).closest(f);t=s.find(e).first().clone();t.find(".select2").remove();t.find(".bootstrap-tagsinput").remove();t.find(".p-item-select").removeAttr("selected").first().attr("selected","selected");t.find(".p-item-input").val("");u=t.children(n).find(k);u.removeClass(k.substr(1)).addClass(o.substr(1)).attr("title","حذف ویژگی");u.find("i").removeClass(j).addClass(p);u.on("click",function(w){h(this,w)});s.append(t);b()};var h=function(r,s){a(r).closest(e).stop().slideUp(i,function(){a(this).remove()})};var b=function(){a(".select").each(function(){var r=a(this);if(r.data("select2")){r.select2("destroy")}r.select2({})});a('[data-role="tagsinput"]').each(function(){var r=a(this);if(r.data("tagsinput")){r.tagsinput("destroy")}r.tagsinput()})};a(k).on("click",function(r){r.stopPropagation();if(a(this).closest(n).parent().hasClass(f.substr(1))){m(this,r)}else{if(a(this).closest(n).parent().hasClass(e.substr(1))){c(this,r)}}});a(o).on("click",function(r){r.stopPropagation();if(a(this).closest(n).parent().hasClass(f.substr(1))){l(this,r)}else{if(a(this).closest(n).parent().hasClass(e.substr(1))){h(this,r)}}})})})(jQuery);